LavaPack.loadBundle([[7555,{"../../../../shared/lib/trace":5892,"../../../components/app/srp-quiz-modal":6354,"../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":6390,"../../../components/component-library":6474,"../../../components/component-library/modal-content/deprecated":6484,"../../../components/multichain/multichain-accounts/wallet-details-account-item/wallet-details-account-item":6680,"../../../components/multichain/multichain-accounts/wallet-details-account-type-selection":6681,"../../../components/multichain/pages/page":6764,"../../../ducks/metamask/metamask":6971,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/accounts/useMultichainWalletSnapClient":7041,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"../../../selectors/multichain-accounts/account-tree":7816,"../../../store/actions":7835,"@metamask/keyring-api":2077,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom"),i=e("react-redux"),r=e("@metamask/keyring-api"),s=e("../../../components/component-library"),l=e("../../../components/component-library/modal-content/deprecated"),c=e("../../../helpers/constants/design-system"),u=e("../../../components/multichain/pages/page"),d=e("../../../selectors"),p=e("../../../hooks/useI18nContext"),f=e("../../../selectors/multichain-accounts/account-tree"),m=e("../../../ducks/metamask/metamask"),g=v(e("../../../components/multichain/multichain-accounts/wallet-details-account-item/wallet-details-account-item")),y=v(e("../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),h=v(e("../../../components/app/srp-quiz-modal")),b=e("../../../components/multichain/multichain-accounts/wallet-details-account-type-selection"),E=e("../../../store/actions"),x=e("../../../helpers/constants/routes"),C=e("../../../../shared/lib/trace"),T=e("../../../hooks/accounts/useMultichainWalletSnapClient");function v(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_.apply(null,arguments)}const w=()=>{var e;const t=(0,p.useI18nContext)(),n=(0,a.useHistory)(),v=(0,i.useDispatch)(),{id:k}=(0,a.useParams)(),w=decodeURIComponent(k),S=(0,i.useSelector)(f.getWalletsWithAccounts),I=(0,i.useSelector)(m.getIsPrimarySeedPhraseBackedUp),O=(0,i.useSelector)(d.getMetaMaskHdKeyrings),[N,M]=(0,o.useState)(!1),B=S[w],[A,D]=(0,o.useState)({}),[R,P]=(0,o.useState)(!1),F=(0,T.useMultichainWalletSnapClient)(T.WalletClientType.Solana),j=(0,o.useMemo)((()=>Object.values(A).reduce(((e,t)=>e+Number(t||0)),0).toString()),[A]),L=(0,o.useCallback)(((e,t)=>{D((n=>({...n,[e]:t})))}),[]),W=e=>{v((0,E.setAccountDetailsAddress)(e.address)),n.push(`${x.ACCOUNT_DETAILS_ROUTE}/${e.address}`)},$=()=>{n.goBack()};if(!B)return o.default.createElement(u.Page,{className:"wallet-details-page"},o.default.createElement(u.Header,{textProps:{variant:c.TextVariant.headingSm},startAccessory:o.default.createElement(s.ButtonIcon,{size:s.ButtonIconSize.Sm,ariaLabel:t("back"),iconName:s.IconName.ArrowLeft,onClick:$})},t("walletDetails")),o.default.createElement(u.Content,null,o.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Danger,title:t("walletNotFoundTitle")},t("walletNotFoundDescription",[k]))));const U=B.id.split(":")[1],z=B.id.includes("entropy"),V=(null===(e=O[0])||void 0===e||null===(e=e.metadata)||void 0===e?void 0:e.id)===U,G=!I&&V,q=Object.keys(B.groups||{}),J=q.length>0?B.groups[q[0]]:null,H=(null==J?void 0:J.accounts)||[],K=()=>{P(!1)},Y={display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,alignItems:c.AlignItems.center,backgroundColor:c.BackgroundColor.backgroundAlternative};return o.default.createElement(u.Page,{className:"wallet-details-page"},o.default.createElement(u.Header,{textProps:{variant:c.TextVariant.headingSm},startAccessory:o.default.createElement(s.ButtonIcon,{size:s.ButtonIconSize.Sm,ariaLabel:t("back"),iconName:s.IconName.ArrowLeft,onClick:$})},t("walletDetails")),o.default.createElement(u.Content,null,o.default.createElement(s.Box,{marginBottom:4,className:"wallet-details-page__rows-container"},o.default.createElement(s.Box,_({className:"wallet-details-page__row",padding:4},Y),o.default.createElement(s.Text,{variant:c.TextVariant.bodyMdMedium,color:c.TextColor.textDefault},t("walletName")),o.default.createElement(s.Text,{variant:c.TextVariant.bodyMdMedium,color:c.TextColor.textAlternative},B.metadata.name)),o.default.createElement(s.Box,_({className:"wallet-details-page__row",padding:4},Y),o.default.createElement(s.Text,{variant:c.TextVariant.bodyMdMedium,color:c.TextColor.textDefault},t("balance")),o.default.createElement(y.default,{value:j,type:"PRIMARY",ethNumberOfDecimals:4,hideTitle:!0,showFiat:!0,isAggregatedFiatOverviewBalance:!0,hideLabel:!0,textProps:{color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium}}))),z?o.default.createElement(s.Box,{marginBottom:4,className:"wallet-details-page__rows-container"},o.default.createElement(s.Box,_({className:"wallet-details-page__row wallet-details-page__srp-button",padding:4,marginBottom:1,width:c.BlockSize.Full,textAlign:c.TextAlign.Left},Y,{as:"button",onClick:()=>{if(G){const e=`${x.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true`;n.push(e)}else M(!0)}}),o.default.createElement(s.Box,null,o.default.createElement(s.Text,{variant:c.TextVariant.bodyMdMedium,color:c.TextColor.textDefault},t("secretRecoveryPhrase"))),o.default.createElement(s.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,gap:2},G?o.default.createElement(s.Text,{variant:c.TextVariant.bodyMdMedium,color:c.TextColor.errorDefault},t("backup")):null,o.default.createElement(s.Icon,{name:s.IconName.ArrowRight,size:s.IconSize.Sm,color:c.IconColor.iconAlternative})))):null,H.length>0&&o.default.createElement(s.Box,{className:"wallet-details-page__rows-container"},H.map((e=>o.default.createElement(g.default,_({key:e.id,account:e,onClick:W,onBalanceUpdate:L,className:"wallet-details-page__row"},Y)))),z?o.default.createElement(s.Box,_({className:"wallet-details-page__row wallet-details-page__add-account-button",padding:4,width:c.BlockSize.Full,textAlign:c.TextAlign.Left},Y,{as:"button",onClick:()=>{P(!0)}}),o.default.createElement(s.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,gap:3},o.default.createElement(s.Icon,{name:s.IconName.Add,size:s.IconSize.Md,color:c.IconColor.primaryDefault}),o.default.createElement(s.Text,{variant:c.TextVariant.bodyMdMedium,color:c.TextColor.primaryDefault},t("addAccount")))):null)),z&&N&&o.default.createElement(h.default,{keyringId:U,isOpen:N,onClose:()=>M(!1),closeAfterCompleting:!0}),R&&o.default.createElement(s.Modal,{isOpen:!0,onClose:K},o.default.createElement(s.ModalOverlay,null),o.default.createElement(l.ModalContent,{className:"multichain-account-menu-popover",modalDialogProps:{className:"multichain-account-menu-popover__dialog",padding:0,display:c.Display.Flex,flexDirection:c.FlexDirection.Column}},o.default.createElement(b.WalletDetailsAccountTypeSelection,{onAccountTypeSelect:async e=>{let t=!1;e===T.EVM_WALLET_TYPE?t=await(async()=>{(0,C.trace)({name:C.TraceName.AddAccount});try{return await v((0,E.addNewAccount)(U)),!0}catch(e){return console.error("Error creating Ethereum account:",e),!1}finally{(0,C.endTrace)({name:C.TraceName.AddAccount})}})():e===T.WalletClientType.Solana&&(t=await(async(e,t)=>{(0,C.trace)({name:C.TraceName.AddAccount});try{let n;return e!==T.WalletClientType.Solana?(console.error(`Unsupported client type: ${e}`),!1):(n=F,n?(await n.createAccount({scope:t,entropySource:U},{displayConfirmation:!1,displayAccountNameSuggestion:!1,setSelectedAccount:!1}),!0):(console.error(`Client not available for type: ${e}`),!1))}catch(t){return console.error(`Error creating ${e} account:`,t),!1}finally{(0,C.endTrace)({name:C.TraceName.AddAccount})}})(T.WalletClientType.Solana,r.SolScope.Mainnet)),t&&K()},onClose:K}))))};w.propTypes={};n.default=w}}},{package:"$root$",file:"ui/pages/multichain-accounts/wallet-details/wallet-details.component.tsx"}],[7556,{"./notification-details":7560},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./notification-details"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/notification-details/index.js"}],[7557,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"../../notifications/notification-components/types/notifications/notifications":7583,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailsBody=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),s=e("../../notifications/notification-components/types/notifications/notifications");n.NotificationDetailsBody=({body:e,notification:t})=>a.default.createElement(i.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,padding:0},e.type===s.NotificationComponentType.AnnouncementBody&&a.default.createElement(a.default.Fragment,null,a.default.createElement(e.Image,{notification:t}),a.default.createElement(e.Description,{notification:t})),e.type===s.NotificationComponentType.OnChainBody&&a.default.createElement(a.default.Fragment,null,e.Image&&a.default.createElement(e.Image,{notification:t}),e.From&&a.default.createElement(e.From,{notification:t}),e.To&&a.default.createElement(e.To,{notification:t}),e.Account&&a.default.createElement(e.Account,{notification:t}),e.Asset&&a.default.createElement(e.Asset,{notification:t}),e.AssetReceived&&a.default.createElement(e.AssetReceived,{notification:t}),e.Status&&a.default.createElement(e.Status,{notification:t}),e.Network&&a.default.createElement(e.Network,{notification:t}),e.Rate&&a.default.createElement(e.Rate,{notification:t}),e.Provider&&a.default.createElement(e.Provider,{notification:t}),e.NetworkFee&&a.default.createElement(e.NetworkFee,{notification:t})),e.type===s.NotificationComponentType.SnapBody&&a.default.createElement(e.Content,{notification:t}))}}},{package:"$root$",file:"ui/pages/notification-details/notification-details-body/notification-details-body.tsx"}],[7558,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"../../notifications/notification-components/types/notifications/notifications":7583,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailsFooter=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),s=e("../../notifications/notification-components/types/notifications/notifications");n.NotificationDetailsFooter=({footer:e,notification:t})=>a.default.createElement(i.Box,{width:r.BlockSize.Full,display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,padding:4,gap:4},e.type===s.NotificationComponentType.OnChainFooter&&a.default.createElement(e.ScanLink,{notification:t}),e.type===s.NotificationComponentType.AnnouncementFooter&&a.default.createElement(i.Box,{display:r.Display.Flex,gap:4,flexDirection:r.FlexDirection.Row,width:r.BlockSize.Full},a.default.createElement(e.ExternalLink,{notification:t}),a.default.createElement(e.ExtensionLink,{notification:t})),e.type===s.NotificationComponentType.SnapFooter&&a.default.createElement(e.Link,{notification:t}))}}},{package:"$root$",file:"ui/pages/notification-details/notification-details-footer/notification-details-footer.tsx"}],[7559,{"../../../components/component-library":6474,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailsHeader=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../components/component-library");n.NotificationDetailsHeader=({children:e,onClickBack:t})=>a.default.createElement(i.HeaderBase,{padding:4,startAccessory:a.default.createElement(i.ButtonIcon,{ariaLabel:"Back",iconName:i.IconName.ArrowLeft,size:i.ButtonIconSize.Sm,onClick:t,"data-testid":"notification-details-back-button"}),endAccessory:null},e)}}},{package:"$root$",file:"ui/pages/notification-details/notification-details-header/notification-details-header.tsx"}],[756,{"../RegistryItem":749,"../RegistryType":750,"../lib":760,"./KeyDerivation":755},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QRHardwareCall=n.QRHardwareCallVersion=n.QRHardwareCallType=void 0;const o=e("../RegistryType"),a=e("../RegistryItem"),i=e("../lib"),r=e("./KeyDerivation");var s,l;!function(e){e[e.type=1]="type",e[e.params=2]="params",e[e.origin=3]="origin",e[e.version=4]="version"}(s||(s={})),function(e){e[e.KeyDerivation=0]="KeyDerivation"}(l=n.QRHardwareCallType||(n.QRHardwareCallType={})),function(e){e[e.V0=0]="V0",e[e.V1=1]="V1"}(n.QRHardwareCallVersion||(n.QRHardwareCallVersion={}));class c extends a.RegistryItem{constructor(e,t,n,a){super(),this.type=e,this.params=t,this.origin=n,this.version=a,this.getRegistryType=()=>o.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.getVersion=()=>this.version,this.toDataItem=()=>{const e={};e[s.type]=this.type;const t=this.params.toDataItem();return t.setTag(this.params.getRegistryType().getTag()),e[s.params]=t,this.origin&&(e[s.origin]=this.origin),this.version&&(e[s.version]=this.version),new i.DataItem(e)}}}n.QRHardwareCall=c,c.fromDataItem=e=>{const t=e.getData(),n=t[s.type]||l.KeyDerivation;let o;if(n===l.KeyDerivation)o=r.KeyDerivation.fromDataItem(t[s.params]);const a=t[s.origin],i=t[s.version];return new c(n,o,a,i)},c.fromCBOR=e=>{const t=(0,i.decodeToDataItem)(e);return c.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/QRHardwareCall.js"}],[7560,{"../../components/component-library":6474,"../../components/multichain":6670,"../../components/multichain/pages/page":6764,"../../helpers/constants/design-system":6984,"../../helpers/constants/routes":6989,"../../hooks/metamask-notifications/useNotifications":7076,"../../hooks/useNotificationTimeouts":7123,"../../selectors/metamask-notifications/metamask-notifications":7813,"../notifications/notification-components":7575,"./notification-details-body/notification-details-body":7557,"./notification-details-footer/notification-details-footer":7558,"./notification-details-header/notification-details-header":7559,"./utils/utils":7561,"@metamask/notification-services-controller/notification-services":2337,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{redirectToNotifications:e}=function(){const e=(0,i.useHistory)(),t=(0,o.useCallback)((()=>{e.push(c.NOTIFICATIONS_ROUTE)}),[e]);return{redirectToNotifications:t}}(),{notification:t}=function(){const{pathname:e}=(0,i.useLocation)(),t=(0,y.getExtractIdentifier)(e),n=(0,a.useSelector)((0,f.getMetamaskNotificationById)(t));return{notification:n}}();if(function(e){const{markNotificationAsRead:t}=(0,p.useMarkNotificationAsRead)(),{setNotificationTimeout:n}=(0,g.useSnapNotificationTimeouts)();(0,o.useEffect)((()=>(e&&t([{id:e.id,type:e.type,isRead:e.isRead}]),()=>{(null==e?void 0:e.type)===r.TRIGGER_TYPES.SNAP&&n(e.id)})),[])}(t),!t)return e(),null;if(!(0,m.hasNotificationComponents)(t.type))return e(),null;const n=m.NotificationComponents[t.type];return o.default.createElement(u.NotificationsPage,null,o.default.createElement(h.NotificationDetailsHeader,{onClickBack:e},o.default.createElement(n.details.title,{notification:t})),o.default.createElement(d.Content,{padding:0},o.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:2,width:l.BlockSize.Full,height:l.BlockSize.Full,justifyContent:l.JustifyContent.spaceBetween},o.default.createElement(b.NotificationDetailsBody,{body:n.details.body,notification:t}),o.default.createElement(E.NotificationDetailsFooter,{footer:n.footer,notification:t}))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=e("react-router-dom"),r=e("@metamask/notification-services-controller/notification-services"),s=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),c=e("../../helpers/constants/routes"),u=e("../../components/multichain"),d=e("../../components/multichain/pages/page"),p=e("../../hooks/metamask-notifications/useNotifications"),f=e("../../selectors/metamask-notifications/metamask-notifications"),m=e("../notifications/notification-components"),g=e("../../hooks/useNotificationTimeouts"),y=e("./utils/utils"),h=e("./notification-details-header/notification-details-header"),b=e("./notification-details-body/notification-details-body"),E=e("./notification-details-footer/notification-details-footer");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notification-details/notification-details.tsx"}],[7561,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getExtractIdentifier=function(e){if("string"!=typeof e)return"";const t=e.split("/");return t.length>2?t[2]:""}}}},{package:"$root$",file:"ui/pages/notification-details/utils/utils.ts"}],[7562,{"./notifications-settings":7566},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./notifications-settings"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/notifications-settings/index.js"}],[7563,{"../../../shared/constants/metametrics":5810,"../../components/component-library":6474,"../../components/multichain":6670,"../../contexts/metamask-notifications/metamask-notifications":6946,"../../contexts/metametrics":6947,"../../helpers/constants/design-system":6984,"../../hooks/metamask-notifications/useNotifications":7076,"../../hooks/useI18nContext":7109,"../../selectors/identity/backup-and-sync":7811,"../../selectors/metamask-notifications/metamask-notifications":7813,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsAllowNotifications=function({loading:e,setLoading:t,disabled:n,dataTestId:g}){const y=(0,i.useI18nContext)(),h=(0,o.useContext)(r.MetaMetricsContext),{listNotifications:b}=(0,d.useMetamaskNotificationsContext)(),E=(0,a.useSelector)(c.selectIsMetamaskNotificationsEnabled),[x,C]=(0,o.useState)(E),T=(0,a.useSelector)(c.getIsUpdatingMetamaskNotifications),v=(0,a.useSelector)(u.selectIsBackupAndSyncEnabled),{enableNotifications:k,error:_}=(0,l.useEnableNotifications)(),{disableNotifications:w,error:S}=(0,l.useDisableNotifications)(),I=_||S;(0,o.useEffect)((()=>{t(T)}),[T,t]),(0,o.useEffect)((()=>{C(E)}),[E]),(0,o.useEffect)((()=>{!I&&E&&b()}),[E,I,b]);const O=(0,o.useCallback)((async()=>{t(!0),E?(h({category:s.MetaMetricsEventCategory.NotificationSettings,event:s.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"notifications",was_profile_syncing_on:v,old_value:!0,new_value:!1}}),await w()):(h({category:s.MetaMetricsEventCategory.NotificationSettings,event:s.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"notifications",was_profile_syncing_on:v,old_value:!1,new_value:!0}}),await k()),t(!1),C(!x)}),[t,E,w,k,x,v,h]),N=(0,o.useMemo)((()=>o.default.createElement(p.Text,{as:"a",href:"https://support.metamask.io/privacy-and-security/profile-privacy",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:f.TextColor.infoDefault},y("notificationsSettingsPageAllowNotificationsLink"))),[y]);return o.default.createElement(p.Box,{display:f.Display.Flex,justifyContent:f.JustifyContent.flexStart,flexDirection:f.FlexDirection.Column,alignItems:f.AlignItems.flexStart,gap:4,paddingLeft:8,paddingRight:8,paddingBottom:8},o.default.createElement(m.NotificationsSettingsBox,{value:x,onToggle:O,disabled:n,loading:e,dataTestId:g},o.default.createElement(m.NotificationsSettingsType,{title:y("allowNotifications")})),o.default.createElement(p.Text,{variant:f.TextVariant.bodyMd,color:f.TextColor.textAlternative},y("notificationsSettingsPageAllowNotifications",[N])),I&&o.default.createElement(p.Box,null,o.default.createElement(p.Text,{as:"p",color:f.TextColor.errorDefault},y(E?"turnOffMetamaskNotificationsError":"turnOnMetamaskNotificationsError"))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=e("../../hooks/useI18nContext"),r=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),l=e("../../hooks/metamask-notifications/useNotifications"),c=e("../../selectors/metamask-notifications/metamask-notifications"),u=e("../../selectors/identity/backup-and-sync"),d=e("../../contexts/metamask-notifications/metamask-notifications"),p=e("../../components/component-library"),f=e("../../helpers/constants/design-system"),m=e("../../components/multichain");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings-allow-notifications.tsx"}],[7564,{"../../../shared/constants/metametrics":5810,"../../components/multichain":6670,"../../contexts/metametrics":6947,"../../helpers/utils/util":7037,"../../hooks/metamask-notifications/useNotifications":7076,"../../hooks/metamask-notifications/useSwitchNotifications":7077,"@metamask/controller-utils":1559,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsPerAccount=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("@metamask/controller-utils"),i=e("../../contexts/metametrics"),r=e("../../../shared/constants/metametrics"),s=e("../../hooks/metamask-notifications/useSwitchNotifications"),l=e("../../components/multichain"),c=e("../../hooks/metamask-notifications/useNotifications"),u=e("../../helpers/utils/util");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.NotificationsSettingsPerAccount=({address:e,name:t,isEnabled:n,isLoading:d,disabledSwitch:p,refetchAccountSettings:f})=>{const m=(0,o.useContext)(i.MetaMetricsContext),{toggleAccount:g,loading:y,error:h}=function(e,t){const{onChange:n,error:a}=(0,s.useSwitchAccountNotificationsChange)(),{listNotifications:i}=(0,c.useListNotifications)(),[r,l]=(0,o.useState)(!1);return{toggleAccount:(0,o.useCallback)((async o=>{l(!0);try{await n([e],o),await t(),i()}catch{}l(!1)}),[e,i,t,n]),loading:r,error:a}}(e,f),b=d||y,E=h,x=(0,o.useCallback)((async()=>{m({category:r.MetaMetricsEventCategory.NotificationSettings,event:r.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"account_notifications",old_value:n,new_value:!n}}),await g(!n)}),[e,n,g,m]),C=(0,a.toChecksumHexAddress)(e),T=(0,u.shortenAddress)(C);return o.default.createElement(o.default.Fragment,null,o.default.createElement(l.NotificationsSettingsBox,{value:n??!1,onToggle:x,key:e,disabled:p,loading:b,error:E,dataTestId:`${T}-notifications-settings`},o.default.createElement(l.NotificationsSettingsAccount,{address:e,name:t})))}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings-per-account.tsx"}],[7565,{"../../../shared/constants/metametrics":5810,"../../components/component-library":6474,"../../components/multichain":6670,"../../contexts/metamask-notifications/metamask-notifications":6946,"../../contexts/metametrics":6947,"../../helpers/constants/design-system":6984,"../../hooks/metamask-notifications/useSwitchNotifications":7077,"../../hooks/useI18nContext":7109,"../../selectors/metamask-notifications/metamask-notifications":7813,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsTypes=function({disabled:e}){const t=(0,s.useI18nContext)(),{listNotifications:n}=(0,l.useMetamaskNotificationsContext)(),m=(0,o.useContext)(i.MetaMetricsContext),g=(0,a.useSelector)(f.selectIsFeatureAnnouncementsEnabled),{onChange:y,error:h}=(0,c.useSwitchFeatureAnnouncementsChange)(),[b,E]=(0,o.useState)(g);return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.Box,{paddingLeft:8,paddingRight:8,paddingBottom:4,paddingTop:4,"data-testid":"notifications-settings-per-types"},o.default.createElement(u.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textDefault},t("customizeYourNotifications")),o.default.createElement(u.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.textAlternative},t("customizeYourNotificationsText"))),o.default.createElement(u.Box,{display:d.Display.Flex,justifyContent:d.JustifyContent.flexStart,flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.flexStart,gap:6,paddingLeft:8,paddingRight:8,paddingBottom:4},o.default.createElement(p.NotificationsSettingsBox,{value:b,onToggle:async()=>{E(!b);try{y(!b),m({category:r.MetaMetricsEventCategory.NotificationSettings,event:r.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"product_announcements",old_value:b,new_value:!b}}),n()}catch(e){E(b)}},error:h,disabled:e,dataTestId:"product-announcements"},o.default.createElement(p.NotificationsSettingsType,{icon:u.IconName.Star,title:t("productAnnouncements")}))),o.default.createElement(u.Box,{borderColor:d.BorderColor.borderMuted,width:d.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=e("../../contexts/metametrics"),r=e("../../../shared/constants/metametrics"),s=e("../../hooks/useI18nContext"),l=e("../../contexts/metamask-notifications/metamask-notifications"),c=e("../../hooks/metamask-notifications/useSwitchNotifications"),u=e("../../components/component-library"),d=e("../../helpers/constants/design-system"),p=e("../../components/multichain"),f=e("../../selectors/metamask-notifications/metamask-notifications");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings-types.tsx"}],[7566,{"../../components/component-library":6474,"../../components/multichain":6670,"../../components/multichain/pages/page":6764,"../../helpers/constants/design-system":6984,"../../helpers/constants/routes":6989,"../../hooks/metamask-notifications/useSwitchNotifications":7077,"../../hooks/useI18nContext":7109,"../../selectors":7812,"../../selectors/metamask-notifications/metamask-notifications":7813,"./notifications-settings-allow-notifications":7563,"./notifications-settings-per-account":7564,"./notifications-settings-types":7565,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,i.useHistory)(),n=(0,i.useLocation)(),b=(0,r.useI18nContext)(),E=(0,a.useSelector)(p.selectIsMetamaskNotificationsEnabled),x=(0,a.useSelector)(p.getIsUpdatingMetamaskNotifications),C=function(){const e=(0,a.useSelector)(p.getValidNotificationAccounts),t=(0,a.useSelector)(f.getInternalAccounts),n=(0,o.useMemo)((()=>e.map((e=>t.find((t=>t.address.toLowerCase()===e.toLowerCase())))).filter((e=>Boolean(e)))),[e,t]);return n}(),[T,v]=(0,o.useState)(x),k=(0,o.useMemo)((()=>C.map((e=>e.address))),[C]),_=(0,m.useAccountSettingsProps)(k),w=_.accountsBeingUpdated.length>0,S=async()=>{await _.update(k)},I=null===(e=n.state)||void 0===e?void 0:e.fromPage;return o.default.createElement(u.NotificationsPage,null,o.default.createElement(d.Header,{startAccessory:o.default.createElement(l.ButtonIcon,{ariaLabel:"Back",iconName:l.IconName.ArrowLeft,size:l.ButtonIconSize.Sm,onClick:()=>I?t.push(I):t.push(s.NOTIFICATIONS_ROUTE)}),endAccessory:null},b("notifications")),o.default.createElement(d.Content,{padding:0},o.default.createElement(g.NotificationsSettingsAllowNotifications,{loading:T,setLoading:v,dataTestId:"notifications-settings-allow",disabled:w}),o.default.createElement(l.Box,{borderColor:c.BorderColor.borderMuted,width:c.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),E&&o.default.createElement(o.default.Fragment,null,o.default.createElement(y.NotificationsSettingsTypes,{disabled:T||w}),o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Box,{paddingLeft:8,paddingRight:8,paddingBottom:4,paddingTop:4,"data-testid":"notifications-settings-per-account"},o.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault},b("accountActivity")),o.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative},b("accountActivityText"))),o.default.createElement(l.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.flexStart,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.flexStart,gap:6,paddingLeft:8,paddingRight:8,paddingBottom:4},C.map((e=>{var t;return o.default.createElement(h.NotificationsSettingsPerAccount,{key:e.id,address:e.address,name:e.metadata.name,disabledSwitch:_.initialLoading||w,isLoading:_.accountsBeingUpdated.includes(e.address),isEnabled:(null===(t=_.data)||void 0===t?void 0:t[e.address.toLowerCase()])??!1,refetchAccountSettings:S})})))))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=e("react-router-dom"),r=e("../../hooks/useI18nContext"),s=e("../../helpers/constants/routes"),l=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),u=e("../../components/multichain"),d=e("../../components/multichain/pages/page"),p=e("../../selectors/metamask-notifications/metamask-notifications"),f=e("../../selectors"),m=e("../../hooks/metamask-notifications/useSwitchNotifications"),g=e("./notifications-settings-allow-notifications"),y=e("./notifications-settings-types"),h=e("./notifications-settings-per-account");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings.tsx"}],[7567,{"../../components/component-library":6474,"../../helpers/constants/design-system":6984,"../../hooks/useI18nContext":7109,"../../selectors/metamask-notifications/metamask-notifications":7813,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NewFeatureTag=function(){const e=(0,c.useI18nContext)();if((0,i.useSelector)(r.selectIsMetamaskNotificationsFeatureSeen))return null;return a.default.createElement(s.Tag,{backgroundColor:l.BackgroundColor.infoMuted,borderStyle:l.BorderStyle.none,borderRadius:l.BorderRadius.MD,label:e("new"),labelProps:{color:l.TextColor.primaryDefault,variant:l.TextVariant.bodySm},paddingLeft:2,paddingRight:2})};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("react-redux"),r=e("../../selectors/metamask-notifications/metamask-notifications"),s=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),c=e("../../hooks/useI18nContext")}}},{package:"$root$",file:"ui/pages/notifications/NewFeatureTag.tsx"}],[7568,{"./notifications":7589},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./notifications"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/notifications/index.js"}],[7569,{"../../../../../shared/lib/translate":5897,"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6738,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/notification.util":7024,"../../../../helpers/utils/util":7037,"../node-guard":7578,"../types/notifications/notifications":7583,"@metamask/notification-services-controller":2365,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),l=e("../types/notifications/notifications"),c=e("../../../../helpers/utils/util"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain"),f=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,y=(0,s.isOfTypeNodeGuard)([g.ERC1155_RECEIVED,g.ERC1155_SENT]),h=e=>e.type===g.ERC1155_SENT,b=e=>h(e)?(0,r.t)("notificationItemNFTSentTo"):(0,r.t)("notificationItemNFTReceivedFrom"),E=e=>{const t=(0,c.shortenAddress)(h(e)?e.data.to:e.data.from);return(0,u.createTextItems)([b(e)||"",t],d.TextVariant.bodySm)};n.components={guardFn:y,item:({notification:e,onClick:t})=>{var n,o,i,r,s;return a.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:null!==(n=e.data.nft)&&void 0!==n&&n.image?f.NotificationListItemIconType.Nft:f.NotificationListItemIconType.Token,value:(null===(o=e.data.nft)||void 0===o?void 0:o.image)||"http://foo.com/bar.png",badge:{icon:h(e)?m.IconName.Arrow2UpRight:m.IconName.Received,position:m.BadgeWrapperPosition.bottomRight}},title:E(e),description:(r=e,(0,u.createTextItems)([(null===(s=r.data.nft)||void 0===s?void 0:s.collection.name)||""],d.TextVariant.bodyMd)),createdAt:new Date(e.createdAt),amount:(null===(i=e.data.nft)||void 0===i?void 0:i.token_id)||"",onClick:t})},details:{title:({notification:e})=>a.default.createElement(p.NotificationDetailTitle,{title:`${h(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} NFT`,date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:l.NotificationComponentType.OnChainBody,Image:({notification:e})=>{var t,n,o;const{nativeCurrencyLogo:i,nativeCurrencyName:r}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(p.NotificationDetailNft,{networkSrc:i,tokenId:(null===(t=e.data.nft)||void 0===t?void 0:t.token_id)||"",tokenName:(null===(n=e.data.nft)||void 0===n?void 0:n.name)||"",tokenSrc:(null===(o=e.data.nft)||void 0===o?void 0:o.image)||"",networkName:r})},From:({notification:e})=>a.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${h(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>a.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${h(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:()=>a.default.createElement(p.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||""}),Asset:({notification:e})=>{var t,n,o;const{nativeCurrencyLogo:i}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(p.NotificationDetailCollection,{icon:{src:(null===(t=e.data.nft)||void 0===t?void 0:t.image)||"",badgeSrc:i},label:(0,r.t)("notificationItemCollection")||"",collection:`${null===(n=e.data.nft)||void 0===n?void 0:n.collection.name} (${null===(o=e.data.nft)||void 0===o?void 0:o.token_id})`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>a.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:l.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>a.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/erc1155-sent-received/erc1155-sent-received.tsx"}],[757,{"./Bytes":738,"./CryptoAccount":739,"./CryptoCoinInfo":740,"./CryptoECKey":741,"./CryptoHDKey":742,"./CryptoKeypath":743,"./CryptoOutput":744,"./CryptoPSBT":745,"./Decoder":746,"./MultiKey":747,"./PathComponent":748,"./RegistryItem":749,"./RegistryType":750,"./ScriptExpression":751,"./errors":752,"./extended/CryptoMultiAccounts":753,"./extended/DerivationSchema":754,"./extended/KeyDerivation":755,"./extended/QRHardwareCall":756,"./lib":760,"./patchCBOR":761,"./types":762,"./utils":763,"buffer/":4114,tslib:5694},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Buffer=n.extend=n.PathComponent=n.ScriptExpressions=n.MultiKey=n.CryptoPSBT=n.CryptoOutput=n.CryptoECKey=n.CryptoCoinInfoNetwork=n.CryptoCoinInfoType=n.CryptoCoinInfo=n.CryptoKeypath=n.CryptoMultiAccounts=n.CryptoHDKey=n.CryptoAccount=n.Bytes=n.URRegistryDecoder=n.DataItem=void 0;const o=e("tslib");e("./patchCBOR");const a=e("buffer/");Object.defineProperty(n,"Buffer",{enumerable:!0,get:function(){return a.Buffer}});const i=e("./CryptoHDKey");Object.defineProperty(n,"CryptoHDKey",{enumerable:!0,get:function(){return i.CryptoHDKey}});const r=e("./CryptoKeypath");Object.defineProperty(n,"CryptoKeypath",{enumerable:!0,get:function(){return r.CryptoKeypath}});const s=e("./CryptoCoinInfo");Object.defineProperty(n,"CryptoCoinInfo",{enumerable:!0,get:function(){return s.CryptoCoinInfo}}),Object.defineProperty(n,"CryptoCoinInfoType",{enumerable:!0,get:function(){return s.Type}}),Object.defineProperty(n,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return s.Network}});const l=e("./CryptoECKey");Object.defineProperty(n,"CryptoECKey",{enumerable:!0,get:function(){return l.CryptoECKey}});const c=e("./Bytes");Object.defineProperty(n,"Bytes",{enumerable:!0,get:function(){return c.Bytes}});const u=e("./CryptoOutput");Object.defineProperty(n,"CryptoOutput",{enumerable:!0,get:function(){return u.CryptoOutput}});const d=e("./CryptoPSBT");Object.defineProperty(n,"CryptoPSBT",{enumerable:!0,get:function(){return d.CryptoPSBT}});const p=e("./CryptoAccount");Object.defineProperty(n,"CryptoAccount",{enumerable:!0,get:function(){return p.CryptoAccount}});const f=e("./Decoder");Object.defineProperty(n,"URRegistryDecoder",{enumerable:!0,get:function(){return f.URRegistryDecoder}});const m=e("./MultiKey");Object.defineProperty(n,"MultiKey",{enumerable:!0,get:function(){return m.MultiKey}});const g=e("./ScriptExpression");Object.defineProperty(n,"ScriptExpressions",{enumerable:!0,get:function(){return g.ScriptExpressions}});const y=e("./PathComponent");Object.defineProperty(n,"PathComponent",{enumerable:!0,get:function(){return y.PathComponent}});const h=e("./RegistryItem"),b=e("./RegistryType"),E=e("./lib");var x=e("./lib");Object.defineProperty(n,"DataItem",{enumerable:!0,get:function(){return x.DataItem}});const C=e("./utils"),T=e("./extended/CryptoMultiAccounts");Object.defineProperty(n,"CryptoMultiAccounts",{enumerable:!0,get:function(){return T.CryptoMultiAccounts}});const v={URRegistryDecoder:f.URRegistryDecoder,Bytes:c.Bytes,CryptoAccount:p.CryptoAccount,CryptoHDKey:i.CryptoHDKey,CryptoMultiAccounts:T.CryptoMultiAccounts,CryptoKeypath:r.CryptoKeypath,CryptoCoinInfo:s.CryptoCoinInfo,CryptoCoinInfoType:s.Type,CryptoCoinInfoNetwork:s.Network,CryptoECKey:l.CryptoECKey,CryptoOutput:u.CryptoOutput,CryptoPSBT:d.CryptoPSBT,MultiKey:m.MultiKey,ScriptExpressions:g.ScriptExpressions,PathComponent:y.PathComponent},k={addReader:E.addReader,addSemanticDecode:E.addSemanticDecode,addSemanticEncode:E.addSemanticEncode,addWriter:E.addWriter,patchTags:C.patchTags},_={RegistryTypes:b.RegistryTypes,RegistryItem:h.RegistryItem,RegistryType:b.RegistryType,decodeToDataItem:E.decodeToDataItem,encodeDataItem:E.encodeDataItem,cbor:k};n.extend=_,(0,o.__exportStar)(e("./errors"),n),(0,o.__exportStar)(e("./Decoder"),n),(0,o.__exportStar)(e("./lib"),n),(0,o.__exportStar)(e("./CryptoAccount"),n),(0,o.__exportStar)(e("./CryptoPSBT"),n),(0,o.__exportStar)(e("./CryptoHDKey"),n),(0,o.__exportStar)(e("./extended/CryptoMultiAccounts"),n),(0,o.__exportStar)(e("./extended/QRHardwareCall"),n),(0,o.__exportStar)(e("./extended/KeyDerivation"),n),(0,o.__exportStar)(e("./extended/DerivationSchema"),n),(0,o.__exportStar)(e("./CryptoOutput"),n),(0,o.__exportStar)(e("./CryptoCoinInfo"),n),(0,o.__exportStar)(e("./CryptoECKey"),n),(0,o.__exportStar)(e("./MultiKey"),n),(0,o.__exportStar)(e("./CryptoKeypath"),n),(0,o.__exportStar)(e("./patchCBOR"),n),(0,o.__exportStar)(e("./PathComponent"),n),(0,o.__exportStar)(e("./RegistryItem"),n),(0,o.__exportStar)(e("./RegistryType"),n),(0,o.__exportStar)(e("./types"),n),(0,o.__exportStar)(e("./utils"),n),n.default=v}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/index.js"}],[7570,{"../../../../../shared/lib/translate":5897,"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6738,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/notification.util":7024,"../../../../helpers/utils/util":7037,"../node-guard":7578,"../types/notifications/notifications":7583,"@metamask/notification-services-controller":2365,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),l=e("../types/notifications/notifications"),c=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),u=e("../../../../helpers/utils/util"),d=e("../../../../helpers/utils/notification.util"),p=e("../../../../components/multichain"),f=e("../../../../helpers/constants/design-system"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,y=(0,s.isOfTypeNodeGuard)([g.ERC20_RECEIVED,g.ERC20_SENT]),h=e=>e.type===g.ERC20_SENT,b=e=>h(e)?(0,r.t)("notificationItemSentTo"):(0,r.t)("notificationItemReceivedFrom"),E=e=>{const t=(0,u.shortenAddress)(h(e)?e.data.to:e.data.from);return(0,d.createTextItems)([b(e)||"",t],f.TextVariant.bodySm)};n.components={guardFn:y,item:({notification:e,onClick:t})=>{return a.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:c.NotificationListItemIconType.Token,value:e.data.token.image,badge:{icon:h(e)?m.IconName.Arrow2UpRight:m.IconName.Received,position:m.BadgeWrapperPosition.bottomRight}},title:E(e),description:(n=e,(0,d.createTextItems)([n.data.token.name],f.TextVariant.bodyMd)),createdAt:new Date(e.createdAt),amount:`${(0,d.getAmount)(e.data.token.amount,e.data.token.decimals,{shouldEllipse:!0})} ${e.data.token.symbol}`,onClick:t});var n},details:{title:({notification:e})=>a.default.createElement(p.NotificationDetailTitle,{title:`${h(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} ${e.data.token.symbol}`,date:(0,d.formatIsoDateString)(e.createdAt)}),body:{type:l.NotificationComponentType.OnChainBody,From:({notification:e})=>a.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${h(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>a.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${h(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:({notification:e})=>a.default.createElement(p.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:f.TextColor.successDefault,backgroundColor:f.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||"",action:a.default.createElement(p.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,r.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,d.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(p.NotificationDetailAsset,{icon:{src:e.data.token.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,r.t)("asset")||"",detail:e.data.token.symbol,fiatValue:`$${(0,d.getUsdAmount)(e.data.token.amount,e.data.token.decimals,e.data.token.usd)}`,value:`${(0,d.getAmount)(e.data.token.amount,e.data.token.decimals,{shouldEllipse:!0})} ${e.data.token.symbol}`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,d.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>a.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:l.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>a.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/erc20-sent-received/erc20-sent-received.tsx"}],[7571,{"../../../../../shared/lib/translate":5897,"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6738,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/notification.util":7024,"../../../../helpers/utils/util":7037,"../node-guard":7578,"../types/notifications/notifications":7583,"@metamask/notification-services-controller":2365,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),l=e("../types/notifications/notifications"),c=e("../../../../helpers/utils/util"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain"),f=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,y=(0,s.isOfTypeNodeGuard)([g.ERC721_RECEIVED,g.ERC721_SENT]),h=e=>e.type===g.ERC721_SENT,b=e=>h(e)?(0,r.t)("notificationItemNFTSentTo"):(0,r.t)("notificationItemNFTReceivedFrom"),E=e=>{const t=(0,c.shortenAddress)(h(e)?e.data.to:e.data.from);return(0,u.createTextItems)([b(e)||"",t],d.TextVariant.bodySm)};n.components={guardFn:y,item:({notification:e,onClick:t})=>{return a.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:f.NotificationListItemIconType.Nft,value:e.data.nft.image,badge:{icon:h(e)?m.IconName.Arrow2UpRight:m.IconName.Received,position:m.BadgeWrapperPosition.bottomRight}},title:E(e),description:(n=e,(0,u.createTextItems)([n.data.nft.collection.name],d.TextVariant.bodyMd)),createdAt:new Date(e.createdAt),amount:`#${e.data.nft.token_id}`,onClick:t});var n},details:{title:({notification:e})=>a.default.createElement(p.NotificationDetailTitle,{title:`${h(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} NFT`,date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:l.NotificationComponentType.OnChainBody,Image:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(p.NotificationDetailNft,{networkSrc:t,tokenId:e.data.nft.token_id,tokenName:e.data.nft.name,tokenSrc:e.data.nft.image,networkName:n})},From:({notification:e})=>a.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${h(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>a.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${h(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:()=>a.default.createElement(p.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||""}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(p.NotificationDetailCollection,{icon:{src:e.data.nft.image,badgeSrc:t},label:(0,r.t)("notificationItemCollection")||"",collection:`${e.data.nft.collection.name} (${e.data.nft.token_id})`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>a.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:l.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>a.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/erc721-sent-received/erc721-sent-received.tsx"}],[7572,{"../../../../../shared/lib/translate":5897,"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6738,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/notification.util":7024,"../../../../helpers/utils/util":7037,"../node-guard":7578,"../types/notifications/notifications":7583,"@metamask/notification-services-controller":2365,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),l=e("../types/notifications/notifications"),c=e("../../../../helpers/utils/util"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain"),f=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,y=(0,s.isOfTypeNodeGuard)([g.ETH_RECEIVED,g.ETH_SENT]),h=e=>e.type===g.ETH_SENT,b=e=>h(e)?(0,r.t)("notificationItemSentTo"):(0,r.t)("notificationItemReceivedFrom"),E=e=>(0,u.getNetworkDetailsByChainId)(e.chain_id),x=e=>{const t=(0,c.shortenAddress)(h(e)?e.data.to:e.data.from);return(0,u.createTextItems)([b(e)||"",t],d.TextVariant.bodySm)},C=e=>{const{nativeCurrencySymbol:t}=E(e);return(0,u.createTextItems)([t],d.TextVariant.bodyMd)};n.components={guardFn:y,item:({notification:e,onClick:t})=>{const{nativeCurrencySymbol:n,nativeCurrencyLogo:o}=E(e);return a.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:f.NotificationListItemIconType.Token,value:o,badge:{icon:h(e)?m.IconName.Arrow2UpRight:m.IconName.Received,position:m.BadgeWrapperPosition.bottomRight}},title:x(e),description:C(e),createdAt:new Date(e.createdAt),amount:`${(0,u.formatAmount)(parseFloat(e.data.amount.eth),{shouldEllipse:!0})} ${n}`,onClick:t})},details:{title:({notification:e})=>{const{nativeCurrencySymbol:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(p.NotificationDetailTitle,{title:`${h(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} ${t}`,date:(0,u.formatIsoDateString)(e.createdAt)})},body:{type:l.NotificationComponentType.OnChainBody,From:({notification:e})=>a.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${h(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>a.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${h(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:({notification:e})=>a.default.createElement(p.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||"",action:a.default.createElement(p.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,r.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencySymbol:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(p.NotificationDetailAsset,{icon:{src:t,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,r.t)("asset")||"",detail:n,fiatValue:`$${(0,u.formatAmount)(parseFloat(e.data.amount.usd),{shouldEllipse:!0})}`,value:`${(0,u.formatAmount)(parseFloat(e.data.amount.eth),{shouldEllipse:!0})} ${n}`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>a.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:l.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>a.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/eth-sent-received/eth-sent-received.tsx"}],[7573,{"../../../../../shared/constants/metametrics":5810,"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../contexts/metametrics":6947,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExternalLinkButton=n.ExtensionLinkButton=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../../../shared/constants/metametrics"),i=e("../../../../contexts/metametrics"),r=e("../../../../components/multichain"),s=e("../../../../components/component-library");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const c=e=>{const t=(0,o.useContext)(i.MetaMetricsContext);return(0,o.useCallback)((()=>{t({category:a.MetaMetricsEventCategory.NotificationInteraction,event:a.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.id,notification_type:e.type,clicked_item:e.clickType}})}),[e.clickType,e.id,e.type,t])};n.ExtensionLinkButton=e=>{const{notification:t}=e,n=c({id:t.id,type:t.type,clickType:"internal_link"});return t.data.extensionLink?o.default.createElement(r.NotificationDetailButton,{variant:s.ButtonVariant.Primary,text:t.data.extensionLink.extensionLinkText,href:`/${t.data.extensionLink.extensionLinkRoute}`,isExternal:!0,onClick:n}):null};n.ExternalLinkButton=e=>{const{notification:t}=e,n=c({id:t.id,type:t.type,clickType:"external_link"});return t.data.externalLink?o.default.createElement(r.NotificationDetailButton,{variant:s.ButtonVariant.Secondary,text:t.data.externalLink.externalLinkText,href:`${t.data.externalLink.externalLinkUrl}`,isExternal:!0,onClick:n}):null}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/feature-announcement/annonucement-footer-buttons.tsx"}],[7574,{"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6738,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/notification.util":7024,"../node-guard":7578,"../types/notifications/notifications":7583,"./annonucement-footer-buttons":7573,"@metamask/notification-services-controller":2365,dompurify:4278,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var o=m(e("react")),a=e("@metamask/notification-services-controller"),i=m(e("dompurify")),r=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),c=e("../../../../helpers/utils/notification.util"),u=e("../../../../components/component-library"),d=e("../../../../components/multichain"),p=e("../../../../helpers/constants/design-system"),f=e("./annonucement-footer-buttons");function m(e){return e&&e.__esModule?e:{default:e}}const g=(0,i.default)(window),{TRIGGER_TYPES:y}=a.NotificationServicesController.Constants,h=(0,r.isOfTypeNodeGuard)([y.FEATURES_ANNOUNCEMENT]),b=e=>(0,c.createTextItems)([e.data.shortDescription],p.TextVariant.bodyMd);n.components={guardFn:h,item:({notification:e,onClick:t})=>{return o.default.createElement(d.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:l.NotificationListItemIconType.Token,value:"./images/product-announcement-logo.svg"},title:(n=e,(0,c.createTextItems)([n.data.title],p.TextVariant.bodySm)),description:b(e),createdAt:new Date(e.createdAt),onClick:t});var n},details:{title:({notification:e})=>o.default.createElement(d.NotificationDetailTitle,{title:e.data.title,date:(0,c.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.AnnouncementBody,Image:({notification:e})=>o.default.createElement(u.Box,{display:p.Display.Block,width:p.BlockSize.Full,paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(u.Box,{as:"img",src:`https:${e.data.image.url}?fm=jpg&fl=progressive&w=1000&q=80`,alt:e.data.title,title:e.data.title,display:p.Display.Block,justifyContent:p.JustifyContent.center,borderRadius:p.BorderRadius.XL,width:p.BlockSize.Full})),Description:({notification:e})=>o.default.createElement(u.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(u.Text,{variant:p.TextVariant.bodyMd,as:"div",dangerouslySetInnerHTML:{__html:g.sanitize(e.data.longDescription)}}))}},footer:{type:s.NotificationComponentType.AnnouncementFooter,ExtensionLink:f.ExtensionLinkButton,ExternalLink:f.ExternalLinkButton}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/feature-announcement/feature-announcement.tsx"}],[7575,{"./erc1155-sent-received/erc1155-sent-received":7569,"./erc20-sent-received/erc20-sent-received":7570,"./erc721-sent-received/erc721-sent-received":7571,"./eth-sent-received/eth-sent-received":7572,"./feature-announcement/feature-announcement":7574,"./lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn":7576,"./lido-withdrawal-requested/lido-withdrawal-requested":7577,"./snap/snap":7580,"./stake/stake":7581,"./swap-completed/swap-completed":7582,"@metamask/notification-services-controller":2365},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasNotificationComponents=n.TRIGGER_TYPES=n.NotificationComponents=void 0;var o=e("@metamask/notification-services-controller"),a=e("./erc20-sent-received/erc20-sent-received"),i=e("./erc721-sent-received/erc721-sent-received"),r=e("./erc1155-sent-received/erc1155-sent-received"),s=e("./eth-sent-received/eth-sent-received"),l=e("./feature-announcement/feature-announcement"),c=e("./stake/stake"),u=e("./swap-completed/swap-completed"),d=e("./lido-withdrawal-requested/lido-withdrawal-requested"),p=e("./lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn"),f=e("./snap/snap");const{TRIGGER_TYPES:m}=o.NotificationServicesController.Constants;n.TRIGGER_TYPES=m;const g=n.NotificationComponents={[m.ERC20_SENT]:a.components,[m.ERC20_RECEIVED]:a.components,[m.ERC721_SENT]:i.components,[m.ERC721_RECEIVED]:i.components,[m.ERC1155_SENT]:r.components,[m.ERC1155_RECEIVED]:r.components,[m.ETH_SENT]:s.components,[m.ETH_RECEIVED]:s.components,[m.FEATURES_ANNOUNCEMENT]:l.components,[m.ROCKETPOOL_STAKE_COMPLETED]:c.components,[m.ROCKETPOOL_UNSTAKE_COMPLETED]:c.components,[m.LIDO_STAKE_COMPLETED]:c.components,[m.LIDO_WITHDRAWAL_COMPLETED]:c.components,[m.LIDO_WITHDRAWAL_REQUESTED]:d.components,[m.METAMASK_SWAP_COMPLETED]:u.components,[m.LIDO_STAKE_READY_TO_BE_WITHDRAWN]:p.components,[m.SNAP]:f.components};n.hasNotificationComponents=e=>e in g}}},{package:"$root$",file:"ui/pages/notifications/notification-components/index.ts"}],[7576,{"../../../../../shared/lib/translate":5897,"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6738,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/notification.util":7024,"../node-guard":7578,"../types/notifications/notifications":7583,"@metamask/notification-services-controller":2365,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("@metamask/notification-services-controller"),r=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../components/multichain"),c=e("../../../../../shared/lib/translate"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),f=e("../../../../components/component-library");const{TRIGGER_TYPES:m}=i.NotificationServicesController.Constants,g=(0,r.isOfTypeNodeGuard)([m.LIDO_STAKE_READY_TO_BE_WITHDRAWN]),y=e=>{const t=(0,u.formatAmount)(parseFloat(e.data.staked_eth.amount),{shouldEllipse:!0}),n=(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawnMessage",[`${t} ${e.data.staked_eth.symbol}`])||"";return(0,u.createTextItems)([n],d.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>a.default.createElement(l.NotificationListItem,{id:e.trigger_id,isRead:e.isRead,icon:{type:p.NotificationListItemIconType.Token,value:e.data.staked_eth.image,badge:{icon:f.IconName.Stake,position:f.BadgeWrapperPosition.bottomRight}},title:(0,u.createTextItems)([(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawn")||""],d.TextVariant.bodySm),description:y(e),createdAt:new Date(e.createdAt),onClick:t}),details:{title:({notification:e})=>a.default.createElement(l.NotificationDetailTitle,{title:(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawn")||"",date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?a.default.createElement(l.NotificationDetailAddress,{side:(0,c.t)("account")||"",address:e.address}):null,Status:()=>a.default.createElement(l.NotificationDetailInfo,{icon:{iconName:f.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,c.t)("notificationItemStatus")||"",detail:(0,c.t)("notificationItemConfirmed")||""}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.staked_eth.image,badge:{src:t,position:f.BadgeWrapperPosition.topRight}},label:(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawn")||"",detail:e.data.staked_eth.symbol,fiatValue:`$${(0,u.formatAmount)(parseFloat(e.data.staked_eth.usd),{shouldEllipse:!0})}`,value:`${(0,u.formatAmount)(parseFloat(e.data.staked_eth.amount),{shouldEllipse:!0})} ${e.data.staked_eth.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.staked_eth.image,badge:{src:t,position:f.BadgeWrapperPosition.topRight}},label:(0,c.t)("notificationItemStakingProvider")||"",detail:e.data.staked_eth.symbol})}}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>a.default.createElement(l.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn.tsx"}],[7577,{"../../../../../shared/lib/translate":5897,"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6738,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/notification.util":7024,"../node-guard":7578,"../types/notifications/notifications":7583,"@metamask/notification-services-controller":2365,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("@metamask/notification-services-controller"),r=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),c=e("../../../../components/multichain"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../../shared/lib/translate"),p=e("../../../../helpers/constants/design-system"),f=e("../../../../components/component-library");const{TRIGGER_TYPES:m}=i.NotificationServicesController.Constants,g=(0,r.isOfTypeNodeGuard)([m.LIDO_WITHDRAWAL_REQUESTED]),y=e=>{const t=(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0}),n=(0,d.t)("notificationItemLidoWithdrawalRequestedMessage",[`${t} ${e.data.stake_in.symbol}`])||"";return(0,u.createTextItems)([n],p.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>a.default.createElement(c.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:l.NotificationListItemIconType.Token,value:e.data.stake_in.image,badge:{icon:f.IconName.Stake,position:f.BadgeWrapperPosition.bottomRight}},title:(0,u.createTextItems)([(0,d.t)("notificationItemUnStakingRequested")||""],p.TextVariant.bodySm),description:y(e),createdAt:new Date(e.createdAt),amount:`${(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`,onClick:t}),details:{title:({notification:e})=>a.default.createElement(c.NotificationDetailTitle,{title:(0,d.t)("notificationItemUnStakingRequested")||"",date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?a.default.createElement(c.NotificationDetailAddress,{side:(0,d.t)("account")||"",address:e.address}):null,Status:({notification:e})=>a.default.createElement(c.NotificationDetailInfo,{icon:{iconName:f.IconName.Check,color:p.TextColor.successDefault,backgroundColor:p.BackgroundColor.successMuted},label:(0,d.t)("notificationItemStatus")||"",detail:(0,d.t)("notificationItemConfirmed")||"",action:a.default.createElement(c.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,d.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:t,position:f.BadgeWrapperPosition.topRight}},label:(0,d.t)("notificationItemUnStakingRequested")||"",detail:e.data.stake_in.symbol,fiatValue:`$${(0,u.getUsdAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,e.data.stake_in.usd)}`,value:`${(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:t,position:f.BadgeWrapperPosition.topRight}},label:(0,d.t)("notificationItemStakingProvider")||"",detail:"Lido-staked ETH"})}}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>a.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/lido-withdrawal-requested/lido-withdrawal-requested.tsx"}],[7578,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isOfTypeNodeGuard=void 0;n.isOfTypeNodeGuard=e=>t=>e.includes(t.type)}}},{package:"$root$",file:"ui/pages/notifications/notification-components/node-guard.ts"}],[7579,{"../../../../../shared/constants/metametrics":5810,"../../../../components/app/snaps/snap-link-warning":6238,"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../contexts/metametrics":6947,"../../../../hooks/snaps/useSnapNavigation":7084,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapFooterButton=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=u(e("../../../../hooks/snaps/useSnapNavigation")),i=u(e("../../../../components/app/snaps/snap-link-warning")),r=e("../../../../components/multichain"),s=e("../../../../components/component-library"),l=e("../../../../contexts/metametrics"),c=e("../../../../../shared/constants/metametrics");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.SnapFooterButton=e=>{var t;const n=(0,o.useContext)(l.MetaMetricsContext),{navigate:u}=(0,a.default)(),[d,p]=(0,o.useState)(!1),f=e.notification.data,m=null==f||null===(t=f.detailedView)||void 0===t?void 0:t.footerLink,g=(0,o.useCallback)((()=>{p(!1)}),[]),y=(0,o.useCallback)(((t,o)=>{n({category:c.MetaMetricsEventCategory.NotificationInteraction,event:c.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.notification.id,notification_type:e.notification.type,clicked_item:o?"external_link":"internal_link"}}),o?p(!0):u(t)}),[u,e.notification.id,e.notification.type,n]);if(!m)return null;const{href:h,text:b}=m,E=!h.startsWith("metamask:");return o.default.createElement(o.default.Fragment,null,o.default.createElement(i.default,{isOpen:d,onClose:g,url:h}),o.default.createElement(r.NotificationDetailButton,{variant:s.ButtonVariant.Secondary,isExternal:E,text:b,onClick:()=>y(h,E)}))}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/snap/snap-footer-button.tsx"}],[758,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DataItem=void 0;n.DataItem=class{constructor(e,t){this.setTag=e=>{this.tag=e},this.clearTag=()=>{this.tag=undefined},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/DataItem.js"}],[7580,{"../../../../components/app/snaps/snap-icon":6234,"../../../../components/app/snaps/snap-ui-markdown":6291,"../../../../components/app/snaps/snap-ui-renderer":6330,"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/notification.util":7024,"../../../../helpers/utils/util":7037,"../../../../hooks/metamask-notifications/useNotifications":7076,"../../../../selectors":7812,"../node-guard":7578,"../types/notifications/notifications":7583,"./snap-footer-button":7579,"@metamask/notification-services-controller/notification-services":2337,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("react-redux"),r=e("react-router-dom"),s=e("@metamask/notification-services-controller/notification-services"),l=e("../../../../components/multichain"),c=e("../../../../selectors"),u=e("../../../../helpers/utils/util"),d=e("../types/notifications/notifications"),p=e("../../../../helpers/utils/notification.util"),f=e("../../../../components/app/snaps/snap-ui-renderer"),m=e("../../../../helpers/constants/design-system"),g=e("../../../../components/component-library"),y=e("../node-guard"),h=e("../../../../components/app/snaps/snap-icon"),b=e("../../../../hooks/metamask-notifications/useNotifications"),E=e("../../../../components/app/snaps/snap-ui-markdown"),x=e("./snap-footer-button");n.components={guardFn:(0,y.isOfTypeNodeGuard)([s.TRIGGER_TYPES.SNAP]),item:({notification:e,onClick:t})=>{const n=(0,r.useHistory)(),o=(0,i.useSelector)(c.getSnapsMetadata),s=(0,u.getSnapName)(o),{markNotificationAsRead:d}=(0,b.useMarkNotificationAsRead)();return a.default.createElement(l.NotificationListItemSnap,{id:e.id,snapId:e.data.origin,isRead:e.isRead,createdAt:new Date(e.createdAt),title:{items:[{text:s(e.data.origin)}]},snapMessage:e.data.message,handleSnapClick:t,handleSnapButton:()=>{e.isRead||d([{id:e.id,type:e.type,isRead:e.isRead}]),n.push((0,u.getSnapRoute)(e.data.origin))}})},details:{title:({notification:e})=>a.default.createElement(l.NotificationDetailTitle,{title:e.data.detailedView.title,date:(0,p.formatIsoDateString)(e.createdAt)}),body:{type:d.NotificationComponentType.SnapBody,Content:({notification:e})=>{const t=(0,i.useSelector)(c.getSnapsMetadata),n=(0,u.getSnapName)(t),o=e.data.origin;return a.default.createElement(a.default.Fragment,null,a.default.createElement(g.Box,{display:m.Display.Flex,style:{borderBottom:"1px solid var(--color-border-muted)"},flexDirection:m.FlexDirection.Column,padding:[4,2,4,4]},a.default.createElement(g.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center,paddingBottom:2},a.default.createElement(h.SnapIcon,{snapId:o,avatarSize:g.IconSize.Xl}),a.default.createElement(g.Text,{paddingLeft:4,fontWeight:m.FontWeight.Medium},n(o))),a.default.createElement(E.SnapUIMarkdown,{markdown:!0},e.data.message)),a.default.createElement(g.Box,{paddingLeft:1,paddingRight:1},a.default.createElement(f.SnapUIRenderer,{snapId:e.data.origin,interfaceId:e.data.detailedView.interfaceId,contentBackgroundColor:m.BackgroundColor.backgroundDefault})))}}},footer:{type:d.NotificationComponentType.SnapFooter,Link:x.SnapFooterButton}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/snap/snap.tsx"}],[7581,{"../../../../../shared/lib/translate":5897,"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6738,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/notification.util":7024,"../node-guard":7578,"../types/notifications/notifications":7583,"@metamask/notification-services-controller":2365,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),l=e("../types/notifications/notifications"),c=e("../../../../components/multichain"),u=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),d=e("../../../../components/component-library"),p=e("../../../../helpers/utils/notification.util"),f=e("../../../../helpers/constants/design-system");const{TRIGGER_TYPES:m}=i.NotificationServicesController.Constants,g=(0,s.isOfTypeNodeGuard)([m.ROCKETPOOL_STAKE_COMPLETED,m.ROCKETPOOL_UNSTAKE_COMPLETED,m.LIDO_STAKE_COMPLETED,m.LIDO_WITHDRAWAL_COMPLETED]),y={[m.LIDO_STAKE_COMPLETED]:(0,r.t)("notificationItemStaked"),[m.LIDO_WITHDRAWAL_COMPLETED]:(0,r.t)("notificationItemUnStakeCompleted"),[m.ROCKETPOOL_STAKE_COMPLETED]:(0,r.t)("notificationItemStakeCompleted"),[m.ROCKETPOOL_UNSTAKE_COMPLETED]:(0,r.t)("notificationItemUnStakeCompleted")},h={[m.ROCKETPOOL_STAKE_COMPLETED]:"staked",[m.ROCKETPOOL_UNSTAKE_COMPLETED]:"unstaked",[m.LIDO_STAKE_COMPLETED]:"staked",[m.LIDO_WITHDRAWAL_COMPLETED]:"unstaked"},b={[m.LIDO_STAKE_COMPLETED]:"Lido-staked ETH",[m.LIDO_WITHDRAWAL_COMPLETED]:"Lido-staked ETH",[m.ROCKETPOOL_STAKE_COMPLETED]:"Rocket Pool-staked ETH",[m.ROCKETPOOL_UNSTAKE_COMPLETED]:"Rocket Pool-staked ETH"},E=e=>{const t=h[e.type];return(0,p.createTextItems)(["staked"===t?e.data.stake_out.symbol:e.data.stake_in.symbol],f.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>{const n=h[e.type],o="staked"===n?e.data.stake_in:e.data.stake_out,i=(0,p.getAmount)(o.amount,o.decimals,{shouldEllipse:!0});return a.default.createElement(c.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:u.NotificationListItemIconType.Token,value:e.data.stake_out.image,badge:{icon:d.IconName.Stake,position:d.BadgeWrapperPosition.bottomRight}},title:(r=e,(0,p.createTextItems)([y[r.type]||""],f.TextVariant.bodySm)),description:E(e),createdAt:new Date(e.createdAt),amount:`${i} ${"staked"===n?e.data.stake_in.symbol:e.data.stake_out.symbol}`,onClick:t});var r},details:{title:({notification:e})=>{const t="staked"===h[e.type]?`${(0,r.t)("notificationItemStaked")} ${e.data.stake_in.symbol}`:`${(0,r.t)("notificationItemUnStaked")} ${e.data.stake_in.symbol}`;return a.default.createElement(c.NotificationDetailTitle,{title:t,date:(0,p.formatIsoDateString)(e.createdAt)})},body:{type:l.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?a.default.createElement(c.NotificationDetailAddress,{side:(0,r.t)("account")||"",address:e.address}):null,Asset:({notification:e})=>{const t=h[e.type],{nativeCurrencyLogo:n}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:n,position:d.BadgeWrapperPosition.topRight}},label:"staked"===t?(0,r.t)("notificationItemStaked")||"":(0,r.t)("notificationItemUnStaked")||"",detail:e.data.stake_in.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,e.data.stake_in.usd)}`,value:`${(0,p.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_out.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,r.t)("notificationItemReceived")||"",detail:e.data.stake_out.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.stake_out.amount,e.data.stake_out.decimals,e.data.stake_out.usd)}`,value:`${(0,p.getAmount)(e.data.stake_out.amount,e.data.stake_out.decimals,{shouldEllipse:!0})} ${e.data.stake_out.symbol}`})},Status:({notification:e})=>a.default.createElement(c.NotificationDetailInfo,{icon:{iconName:d.IconName.Check,color:f.TextColor.successDefault,backgroundColor:f.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||"",action:a.default.createElement(c.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,r.t)("notificationItemTransactionId")||""})}),Provider:({notification:e})=>{const t=h[e.type],n=b[e.type];return a.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_out.image,badge:{src:"staked"===t?e.data.stake_out.image:e.data.stake_in.image}},label:(0,r.t)("notificationItemStakingProvider")||"",detail:n})},NetworkFee:({notification:e})=>a.default.createElement(c.NotificationDetailNetworkFee,{notification:e})}},footer:{type:l.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>a.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/stake/stake.tsx"}],[7582,{"../../../../../shared/lib/translate":5897,"../../../../components/component-library":6474,"../../../../components/multichain":6670,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6738,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/notification.util":7024,"../node-guard":7578,"../types/notifications/notifications":7583,"@metamask/notification-services-controller":2365,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("@metamask/notification-services-controller"),r=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../../shared/lib/translate"),c=e("../../../../components/multichain"),u=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),d=e("../../../../components/component-library"),p=e("../../../../helpers/utils/notification.util"),f=e("../../../../helpers/constants/design-system");const{TRIGGER_TYPES:m}=i.NotificationServicesController.Constants,g=(0,r.isOfTypeNodeGuard)([m.METAMASK_SWAP_COMPLETED]),y=e=>(0,p.createTextItems)([e.data.token_out.symbol],f.TextVariant.bodyMd);n.components={guardFn:g,item:({notification:e,onClick:t})=>{return a.default.createElement(c.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:u.NotificationListItemIconType.Token,value:e.data.token_out.image,badge:{icon:d.IconName.SwapHorizontal,position:d.BadgeWrapperPosition.bottomRight}},title:(n=e,(0,p.createTextItems)([(0,l.t)("notificationItemSwapped")||"",n.data.token_in.symbol,(0,l.t)("notificationItemSwappedFor")||""],f.TextVariant.bodySm)),description:y(e),createdAt:new Date(e.createdAt),amount:`${(0,p.getAmount)(e.data.token_out.amount,e.data.token_out.decimals,{shouldEllipse:!0})} ${e.data.token_out.symbol}`,onClick:t});var n},details:{title:({notification:e})=>a.default.createElement(c.NotificationDetailTitle,{title:`${(0,l.t)("notificationItemSwapped")||""} ${e.data.token_out.symbol}`,date:(0,p.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?a.default.createElement(c.NotificationDetailAddress,{side:(0,l.t)("account")||"",address:e.address}):null,Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.token_in.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemSwapped")||"",detail:e.data.token_in.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.token_in.amount,e.data.token_in.decimals,e.data.token_in.usd)}`,value:`${(0,p.getAmount)(e.data.token_in.amount,e.data.token_in.decimals,{shouldEllipse:!0})} ${e.data.token_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.token_out.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemTo")||"",detail:e.data.token_out.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.token_out.amount,e.data.token_out.decimals,e.data.token_out.usd)}`,value:`${(0,p.getAmount)(e.data.token_out.amount,e.data.token_out.decimals,{shouldEllipse:!0})} ${e.data.token_out.symbol}`})},Status:({notification:e})=>a.default.createElement(c.NotificationDetailInfo,{icon:{iconName:d.IconName.Check,color:f.TextColor.successDefault,backgroundColor:f.BackgroundColor.successMuted},label:(0,l.t)("notificationItemStatus")||"",detail:(0,l.t)("notificationItemConfirmed")||"",action:a.default.createElement(c.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,l.t)("notificationItemTransactionId")||""})}),Network:({notification:e})=>{const{nativeCurrencyName:t,nativeCurrencyLogo:n}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return a.default.createElement(c.NotificationDetailAsset,{icon:{src:n},label:(0,l.t)("notificationItemNetwork")||"",detail:t})},Rate:({notification:e})=>a.default.createElement(c.NotificationDetailInfo,{icon:{iconName:d.IconName.SwapHorizontal,color:f.TextColor.infoDefault,backgroundColor:f.BackgroundColor.infoMuted},label:(0,l.t)("notificationItemRate")||"",detail:`1 ${e.data.token_out.symbol}  ${(1/parseFloat(e.data.rate)).toFixed(5)} ${e.data.token_in.symbol}`}),NetworkFee:({notification:e})=>a.default.createElement(c.NotificationDetailNetworkFee,{notification:e})}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>a.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/swap-completed/swap-completed.tsx"}],[7583,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationComponentType=void 0;n.NotificationComponentType=function(e){return e.AnnouncementBody="body_feature_announcement",e.AnnouncementFooter="footer_feature_announcement",e.OnChainBody="body_onchain_notification",e.OnChainFooter="footer_onchain_notification",e.SnapBody="body_snap_notification",e.SnapFooter="footer_snap_notification",e}({})}}},{package:"$root$",file:"ui/pages/notifications/notification-components/types/notifications/notifications.ts"}],[7584,{"../../../shared/constants/metametrics":5810,"../../components/component-library":6474,"../../contexts/metametrics":6947,"../../helpers/constants/design-system":6984,"../../helpers/constants/routes":6989,"../../hooks/metamask-notifications/useNotifications":7076,"../../hooks/useNotificationTimeouts":7123,"./notification-components":7575,"@metamask/utils":2974,react:5262,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListItem=function({notification:e}){const t=(0,a.useHistory)(),n=(0,o.useContext)(r.MetaMetricsContext),{setNotificationTimeout:m}=(0,p.useSnapNotificationTimeouts)(),{markNotificationAsRead:g}=(0,d.useMarkNotificationAsRead)(),y=(0,o.useCallback)((()=>{n({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.NotificationClicked,properties:{notification_id:e.id,notification_type:e.type,..."chain_id"in e&&{chain_id:e.chain_id},previously_read:e.isRead}}),g([{id:e.id,type:e.type,isRead:e.isRead}]),e.type!==f.TRIGGER_TYPES.SNAP||(0,i.hasProperty)(e.data,"detailedView")?t.push(`${u.NOTIFICATIONS_ROUTE}/${e.id}`):m(e.id)}),[e,g,t]);if(!(0,f.hasNotificationComponents)(e.type))return null;const h=f.NotificationComponents[e.type];return o.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,width:c.BlockSize.Full,"data-testid":`notification-list-item-${e.id}`},o.default.createElement(h.item,{notification:e,onClick:y}))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom"),i=e("@metamask/utils"),r=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),l=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),u=e("../../helpers/constants/routes"),d=e("../../hooks/metamask-notifications/useNotifications"),p=e("../../hooks/useNotificationTimeouts"),f=e("./notification-components");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-item.tsx"}],[7585,{"../../components/component-library":6474,"../../helpers/constants/design-system":6984,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsPlaceholder=function({title:e,text:t}){return a.default.createElement(i.Box,{height:r.BlockSize.Full,width:r.BlockSize.Full,display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,flexDirection:r.FlexDirection.Column,gap:2,"data-testid":"notifications-list-placeholder"},a.default.createElement(i.Icon,{name:i.IconName.Notification,size:i.IconSize.Xl}),a.default.createElement(i.Text,{variant:r.TextVariant.headingSm},e),a.default.createElement(i.Text,{variant:r.TextVariant.bodyMd,textAlign:r.TextAlign.Center},t))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../components/component-library"),r=e("../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-placeholder.tsx"}],[7586,{"../../../shared/constants/metametrics":5810,"../../components/component-library":6474,"../../contexts/metametrics":6947,"../../helpers/constants/design-system":6984,"../../hooks/metamask-notifications/useNotifications":7076,"../../hooks/useI18nContext":7109,"../../hooks/useNotificationTimeouts":7123,"@metamask/notification-services-controller/notification-services":2337,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListReadAllButton=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("@metamask/notification-services-controller/notification-services"),i=e("../../contexts/metametrics"),r=e("../../../shared/constants/metametrics"),s=e("../../hooks/useI18nContext"),l=e("../../hooks/metamask-notifications/useNotifications"),c=e("../../components/component-library"),u=e("../../helpers/constants/design-system"),d=e("../../hooks/useNotificationTimeouts");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.NotificationsListReadAllButton=({notifications:e})=>{const t=(0,s.useI18nContext)(),{markNotificationAsRead:n}=(0,l.useMarkNotificationAsRead)(),p=(0,o.useContext)(i.MetaMetricsContext),{setNotificationTimeout:f}=(0,d.useSnapNotificationTimeouts)();return o.default.createElement(c.Box,{paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,className:"notifications__list__read__all__button"},o.default.createElement(c.Button,{onClick:()=>{let t=[];e&&e.length>0&&(t=e.filter((e=>(null==e?void 0:e.id)!==undefined&&!e.isRead)).map((e=>({id:e.id,type:e.type,isRead:e.isRead}))),t.filter((e=>e.type===a.TRIGGER_TYPES.SNAP)).forEach((e=>f(e.id)))),p({category:r.MetaMetricsEventCategory.NotificationInteraction,event:r.MetaMetricsEventName.MarkAllNotificationsRead}),n(t)},variant:c.ButtonVariant.Primary,width:u.BlockSize.Full,"data-testid":"notifications-list-read-all-button"},t("notificationsMarkAllAsRead")))}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-read-all-button.tsx"}],[7587,{"../../../shared/constants/metametrics":5810,"../../components/component-library":6474,"../../contexts/metamask-notifications/metamask-notifications":6946,"../../contexts/metametrics":6947,"../../helpers/constants/design-system":6984,"../../hooks/metamask-notifications/useNotifications":7076,"../../hooks/useI18nContext":7109,"../../selectors/metamask-notifications/metamask-notifications":7813,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListTurnOnNotifications=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=e("../../hooks/useI18nContext"),r=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),l=e("../../hooks/metamask-notifications/useNotifications"),c=e("../../selectors/metamask-notifications/metamask-notifications"),u=e("../../contexts/metamask-notifications/metamask-notifications"),d=e("../../components/component-library"),p=e("../../helpers/constants/design-system");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.NotificationsListTurnOnNotifications=()=>{const e=(0,i.useI18nContext)(),t=(0,o.useContext)(r.MetaMetricsContext),{listNotifications:n}=(0,u.useMetamaskNotificationsContext)(),{enableNotifications:f,error:m}=(0,l.useEnableNotifications)(),g=m,y=(0,a.useSelector)(c.getIsUpdatingMetamaskNotifications),[h,b]=(0,o.useState)(y||!1);(0,o.useEffect)((()=>{b(y)}),[y]);const E=o.default.createElement(d.Text,{as:"a",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:p.TextColor.infoDefault},e("turnOnMetamaskNotificationsMessagePrivacyLink")),x=o.default.createElement(d.Text,{as:"span",fontWeight:p.FontWeight.Bold,key:"strong-text"},e("turnOnMetamaskNotificationsMessagePrivacyBold"));return o.default.createElement(d.Container,{maxWidth:d.ContainerMaxWidth.Sm,height:p.BlockSize.Full,margin:"auto",display:p.Display.Flex,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,flexDirection:p.FlexDirection.Column,gap:4,"data-testid":"notifications-list-turn-on-notifications",textAlign:p.TextAlign.Center,paddingLeft:4,paddingRight:4,paddingTop:4},o.default.createElement(d.Text,{variant:p.TextVariant.headingSm},e("metamaskNotificationsAreOff")),o.default.createElement(d.Box,{as:"img",src:"./images/turn-on-metamask-notifications.png",width:p.BlockSize.Full,borderRadius:p.BorderRadius.MD}),o.default.createElement(d.Text,{as:"p"},e("turnOnMetamaskNotificationsMessageSecond",[E])),o.default.createElement(d.Text,{as:"p"},e("turnOnMetamaskNotificationsMessageThird",[x])),o.default.createElement(d.Box,null,o.default.createElement(d.Button,{onClick:()=>(async()=>{await f(),t({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.EnablingNotifications}),g||y||n()})(),size:d.ButtonSize.Md,disabled:h,loading:h},e("turnOnMetamaskNotificationsButton")),g&&o.default.createElement(d.Text,{as:"p",color:p.TextColor.errorDefault},e("turnOnMetamaskNotificationsError"))))}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-turn-on-notifications.tsx"}],[7588,{"../../components/component-library":6474,"../../components/ui/icon/preloader/preloader-icon.component":6863,"../../helpers/constants/design-system":6984,"../../hooks/useI18nContext":7109,"../../selectors/metamask-notifications/metamask-notifications":7813,"./notifications-list-item":7584,"./notifications-list-placeholder":7585,"./notifications-list-read-all-button":7586,"./notifications-list-turn-on-notifications":7587,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsList=function(e){return o.default.createElement(i.Box,{"data-testid":"notifications-list",height:r.BlockSize.Full,width:r.BlockSize.Full,className:"notifications__list"},o.default.createElement(x,e),e.notifications.length>0&&e.notificationsCount>0?o.default.createElement(f.NotificationsListReadAllButton,{notifications:e.notifications}):null)},n.TAB_KEYS=void 0;var o=m(e("react")),a=e("react-redux"),i=e("../../components/component-library"),r=e("../../helpers/constants/design-system"),s=m(e("../../components/ui/icon/preloader/preloader-icon.component")),l=e("../../selectors/metamask-notifications/metamask-notifications"),c=e("../../hooks/useI18nContext"),u=e("./notifications-list-placeholder"),d=e("./notifications-list-turn-on-notifications"),p=e("./notifications-list-item"),f=e("./notifications-list-read-all-button");function m(e){return e&&e.__esModule?e:{default:e}}let g=n.TAB_KEYS=function(e){return e.ALL="notifications-all-tab",e.WALLET="notifications-wallet-tab",e.WEB3="notifications-other-tab",e}({});function y(){return o.default.createElement(i.Box,{height:r.BlockSize.Full,width:r.BlockSize.Full,display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,flexDirection:r.FlexDirection.Column,"data-testid":"notifications-list-loading"},o.default.createElement(s.default,{size:36}))}function h(){const e=(0,c.useI18nContext)();return o.default.createElement(u.NotificationsPlaceholder,{title:e("notificationsPageEmptyTitle"),text:e("notificationsPageNoNotificationsContent")})}function b(){const e=(0,c.useI18nContext)();return o.default.createElement(u.NotificationsPlaceholder,{title:e("notificationsPageErrorTitle"),text:e("notificationsPageErrorContent")})}function E(e){const{notification:t}=e;return o.default.createElement(p.NotificationsListItem,{notification:t})}function x({activeTab:e,notifications:t,isLoading:n,isError:i}){const r=(0,a.useSelector)(l.selectIsMetamaskNotificationsEnabled);return e!==g.WALLET||r?n?o.default.createElement(y,null):i?o.default.createElement(b,null):0===t.length?o.default.createElement(h,null):o.default.createElement(o.default.Fragment,null,t.map((e=>o.default.createElement(E,{key:e.id,notification:e})))):o.default.createElement(d.NotificationsListTurnOnNotifications,null)}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list.tsx"}],[7589,{"../../components/component-library":6474,"../../components/multichain":6670,"../../components/multichain/pages/page":6764,"../../components/ui/tabs":6917,"../../contexts/metamask-notifications/metamask-notifications":6946,"../../helpers/constants/design-system":6984,"../../helpers/constants/routes":6989,"../../hooks/metamask-notifications/useCounter":7075,"../../hooks/useI18nContext":7109,"../../selectors":7812,"../../selectors/metamask-notifications/metamask-notifications":7813,"../../store/actions":7835,"./NewFeatureTag":7567,"./notifications-list":7588,"@metamask/notification-services-controller":2365,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,i.useHistory)(),t=(0,s.useI18nContext)(),n=(0,a.useDispatch)(),{isLoading:r,error:y}=(0,f.useMetamaskNotificationsContext)(),[C,T]=(0,o.useState)(E.TAB_KEYS.ALL),v=k(),{notificationsUnreadCount:w}=(0,m.useUnreadNotificationsCounter)(),S=(0,o.useMemo)((()=>_(C,v)),[C,v]);let I=!1;return I=(0,a.useSelector)(g.getNotifySnaps).length>0,(0,o.useEffect)((()=>{n((0,b.deleteExpiredNotifications)())}),[n]),o.default.createElement(d.NotificationsPage,null,o.default.createElement(p.Header,{startAccessory:o.default.createElement(l.ButtonIcon,{ariaLabel:"Back",iconName:l.IconName.ArrowLeft,size:l.ButtonIconSize.Sm,onClick:()=>{e.push(u.DEFAULT_ROUTE)},"data-testid":"back-button"}),endAccessory:o.default.createElement(l.ButtonIcon,{ariaLabel:"Notifications Settings",iconName:l.IconName.Setting,size:l.ButtonIconSize.Sm,onClick:()=>{e.push(u.NOTIFICATIONS_SETTINGS_ROUTE)},"data-testid":"notifications-settings-button"}),marginBottom:0},t("notifications")),o.default.createElement(p.Content,{padding:0},I&&o.default.createElement(c.Tabs,{defaultActiveTabKey:C,onTabClick:e=>T(e),tabsClassName:"notifications__tabs"},o.default.createElement(c.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":E.TAB_KEYS.ALL,name:t("all"),tabKey:E.TAB_KEYS.ALL}),o.default.createElement(c.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":E.TAB_KEYS.WALLET,name:o.default.createElement(l.Box,{display:h.Display.Flex,justifyContent:h.JustifyContent.center,alignItems:h.AlignItems.center,gap:2},t("wallet"),o.default.createElement(x.NewFeatureTag,null)),tabKey:E.TAB_KEYS.WALLET}),o.default.createElement(c.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":E.TAB_KEYS.WEB3,name:t("web3"),tabKey:E.TAB_KEYS.WEB3})),o.default.createElement(E.NotificationsList,{activeTab:C,notifications:S,isLoading:r,isError:Boolean(y),notificationsCount:w})))},n.filterNotifications=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=e("react-router-dom"),r=e("@metamask/notification-services-controller"),s=e("../../hooks/useI18nContext"),l=e("../../components/component-library"),c=e("../../components/ui/tabs"),u=e("../../helpers/constants/routes"),d=e("../../components/multichain"),p=e("../../components/multichain/pages/page"),f=e("../../contexts/metamask-notifications/metamask-notifications"),m=e("../../hooks/metamask-notifications/useCounter"),g=e("../../selectors"),y=e("../../selectors/metamask-notifications/metamask-notifications"),h=e("../../helpers/constants/design-system"),b=e("../../store/actions"),E=e("./notifications-list"),x=e("./NewFeatureTag");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}const{TRIGGER_TYPES:T,TRIGGER_TYPES_WALLET_SET:v}=r.NotificationServicesController.Constants,k=()=>{const{featureAnnouncementNotifications:e,walletNotifications:t,snapNotifications:n}=(()=>{const e=(0,a.useSelector)(y.selectIsFeatureAnnouncementsEnabled),t=(0,a.useSelector)(y.selectIsMetamaskNotificationsEnabled),n=(0,a.useSelector)(y.getMetamaskNotifications);return{featureAnnouncementNotifications:(0,o.useMemo)((()=>e?(n??[]).filter((e=>e.type===T.FEATURES_ANNOUNCEMENT)):[]),[e,n]),walletNotifications:(0,o.useMemo)((()=>t?(n??[]).filter((e=>e.type!==T.FEATURES_ANNOUNCEMENT&&e.type!==T.SNAP)):[]),[t,n]),snapNotifications:(0,o.useMemo)((()=>(n??[]).filter((e=>e.type===T.SNAP))),[n])}})();return(0,o.useMemo)((()=>[...n,...e,...t].sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()))),[n,e,t])},_=(e,t)=>e===E.TAB_KEYS.ALL?t:e===E.TAB_KEYS.WALLET?t.filter((e=>v.has(e.type)||e.type===T.FEATURES_ANNOUNCEMENT)):e===E.TAB_KEYS.WEB3?t.filter((e=>e.type===T.SNAP)):t;n.filterNotifications=_}}},{package:"$root$",file:"ui/pages/notifications/notifications.tsx"}],[759,{"./DataItem":758,buffer:4106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var o,a;o=this,a=function(){const{DataItem:t}=e("./DataItem");var o=function(){function e(e){this.$hex=e}e.prototype={length:function(){return this.$hex.length/2},toString:function(e){if(!e||"hex"===e||16===e)return this.$hex;if("utf-8"===e){for(var t="",n=0;n<this.$hex.length;n+=2)t+="%"+this.$hex.substring(n,n+2);return decodeURIComponent(t)}if("latin"===e){for(t=[],n=0;n<this.$hex.length;n+=2)t.push(parseInt(this.$hex.substring(n,n+2),16));return String.fromCharCode.apply(String,t)}throw new Error("Unrecognised format: "+e)}},e.fromLatinString=function(t){for(var n="",o=0;o<t.length;o++){var a=t.charCodeAt(o).toString(16);1===a.length&&(a="0"+a),n+=a}return new e(n)},e.fromUtf8String=function(t){for(var n=encodeURIComponent(t),o="",a=0;a<n.length;a++)if("%"===n.charAt(a))o+=n.substring(a+1,a+3),a+=2;else{var i=n.charCodeAt(a).toString(16);i.length<2&&(i="0"+i),o+=i}return new e(o)};var o=[],a={},i=function(e){return function(){throw new Error(e+" not implemented")}};function r(){}function s(){}function l(e,t){var n=e.value;return n<24?n:24==n?t.readByte():25==n?t.readUint16():26==n?t.readUint32():27==n?t.readUint64():31==n?null:void i("Additional info: "+n)()}function c(e,t,n){var o=e<<5;t<24?n.writeByte(o|t):t<256?(n.writeByte(24|o),n.writeByte(t)):t<65536?(n.writeByte(25|o),n.writeUint16(t)):t<4294967296?(n.writeByte(26|o),n.writeUint32(t)):(n.writeByte(27|o),n.writeUint64(t))}r.prototype={peekByte:i("peekByte"),readByte:i("readByte"),readChunk:i("readChunk"),readFloat16:function(){var e=this.readUint16(),t=(32767&e)>>10,n=1023&e,o=32768&e;if(31===t)return 0===n?o?-Infinity:Infinity:NaN;var a=t?Math.pow(2,t-25)*(1024+n):Math.pow(2,-24)*n;return o?-a:a},readFloat32:function(){var e=this.readUint32(),t=(2147483647&e)>>23,n=8388607&e,o=2147483648&e;if(255===t)return 0===n?o?-Infinity:Infinity:NaN;var a=t?Math.pow(2,t-23-127)*(8388608+n):Math.pow(2,-149)*n;return o?-a:a},readFloat64:function(){var e=this.readUint32(),t=e>>20&2047,n=4294967296*(1048575&e)+this.readUint32(),o=2147483648&e;if(2047===t)return 0===n?o?-Infinity:Infinity:NaN;var a=t?Math.pow(2,t-52-1023)*(4503599627370496+n):Math.pow(2,-1074)*n;return o?-a:a},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},s.prototype={writeByte:i("writeByte"),result:i("result"),writeFloat16:i("writeFloat16"),writeFloat32:i("writeFloat32"),writeFloat64:i("writeFloat64"),writeUint16:function(e){this.writeByte(e>>8&255),this.writeByte(255&e)},writeUint32:function(e){this.writeUint16(e>>16&65535),this.writeUint16(65535&e)},writeUint64:function(e){if(e>=9007199254740992||e<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+e+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(e/4294967296)),this.writeUint32(e%4294967296)},writeString:i("writeString"),canWriteBinary:function(e){return!1},writeBinary:i("writeChunk")};var u=new Error;function d(e){var t=function(e){var t=e.readByte();return{type:t>>5,value:31&t}}(e);switch(t.type){case 0:return l(t,e);case 1:return-1-l(t,e);case 2:return e.readChunk(l(t,e));case 3:return e.readChunk(l(t,e)).toString("utf-8");case 4:case 5:var n=l(t,e),o=[];if(null!==n){5===t.type&&(n*=2);for(var i=0;i<n;i++)o[i]=d(e)}else for(var r;(r=d(e))!==u;)o.push(r);if(5===t.type){var s={};for(i=0;i<o.length;i+=2)s[o[i]]=o[i+1];return s}return o;case 6:var c=l(t,e),p=a[c];return o=d(e),p?p(o):o;case 7:if(25===t.value)return e.readFloat16();if(26===t.value)return e.readFloat32();if(27===t.value)return e.readFloat64();switch(l(t,e)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return undefined;case null:return u;default:throw new Error("Unknown fixed value: "+t.value)}default:throw new Error("Unsupported header: "+JSON.stringify(t))}throw new Error("not implemented yet")}function p(e,t){for(var n=0;n<o.length;n++){var a=o[n].fn(e);if(a!==undefined)return c(6,o[n].tag,t),p(a,t)}if(e&&"function"==typeof e.toCBOR&&(e=e.toCBOR()),!1===e)c(7,20,t);else if(!0===e)c(7,21,t);else if(null===e)c(7,22,t);else if(e===undefined)c(7,23,t);else if("number"==typeof e)Math.floor(e)===e&&e<9007199254740992&&e>-9007199254740992?e<0?c(1,-1-e,t):c(0,e,t):(function(e,t,n){n.writeByte(e<<5|t)}(7,27,t),t.writeFloat64(e));else if("string"==typeof e)t.writeString(e,(function(e){c(3,e,t)}));else if(t.canWriteBinary(e))t.writeBinary(e,(function(e){c(2,e,t)}));else{if("object"!=typeof e)throw new Error("CBOR encoding not supported: "+e);if(g.config.useToJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),Array.isArray(e))for(c(4,e.length,t),n=0;n<e.length;n++)p(e[n],t);else{var i=Object.keys(e);for(c(5,i.length,t),n=0;n<i.length;n++){const o=parseInt(i[n]);isNaN(o)?(p(i[n],t),p(e[i[n]],t)):(p(o,t),p(e[i[n]],t))}}}}var f=[],m=[],g={config:{useToJSON:!0},addWriter:function(e,t){"string"==typeof e?m.push((function(n){if(e===n)return t(n)})):m.push(e)},addReader:function(e,t){"string"==typeof e?f.push((function(n,o){if(e===o)return t(n,o)})):f.push(e)},encode:function(e,t){for(var n=0;n<m.length;n++){var o=(0,m[n])(t);if(o)return p(e,o),o.result()}throw new Error("Unsupported output format: "+t)},encodeDataItem:function(e,t){for(var n=0;n<m.length;n++){var o=(0,m[n])(t);if(o)return e.getTag()!==undefined?(p(e,o),o.result()):(p(e.getData(),o),o.result())}throw new Error("Unsupported output format: "+t)},decode:function(e,t){for(var n=0;n<f.length;n++){var o=(0,f[n])(e,t);if(o)return d(o)}throw new Error("Unsupported input format: "+t)},decodeToDataItem:function(e,n){for(var o=0;o<f.length;o++){var a=(0,f[o])(e,n);if(a){const e=d(a);return e instanceof t?e:new t(e)}}throw new Error("Unsupported input format: "+n)},addSemanticEncode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return o.push({tag:e,fn:t}),this},addSemanticDecode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return a[e]=t,this}};function y(e){this.buffer=e,this.pos=0}function h(e){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=e}function b(e){this.hex=e,this.pos=0}function E(e){this.$hex="",this.finalFormat=e||"hex"}return y.prototype=Object.create(r.prototype),y.prototype.peekByte=function(){return this.buffer[this.pos]},y.prototype.readByte=function(){return this.buffer[this.pos++]},y.prototype.readUint16=function(){var e=this.buffer.readUInt16BE(this.pos);return this.pos+=2,e},y.prototype.readUint32=function(){var e=this.buffer.readUInt32BE(this.pos);return this.pos+=4,e},y.prototype.readFloat32=function(){var e=this.buffer.readFloatBE(this.pos);return this.pos+=4,e},y.prototype.readFloat64=function(){var e=this.buffer.readDoubleBE(this.pos);return this.pos+=8,e},y.prototype.readChunk=function(e){var t=n.alloc(e);return this.buffer.copy(t,0,this.pos,this.pos+=e),t},h.prototype=Object.create(s.prototype),h.prototype.writeByte=function(e){this.latestBuffer[this.latestBufferOffset++]=e,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},h.prototype.writeFloat32=function(e){var t=n.alloc(4);t.writeFloatBE(e,0),this.writeBuffer(t)},h.prototype.writeFloat64=function(e){var t=n.alloc(8);t.writeDoubleBE(e,0),this.writeBuffer(t)},h.prototype.writeString=function(e,t){var o=n.from(e,"utf-8");t(o.length),this.writeBuffer(o)},h.prototype.canWriteBinary=function(e){return e instanceof n},h.prototype.writeBinary=function(e,t){t(e.length),this.writeBuffer(e)},h.prototype.writeBuffer=function(e){if(!(e instanceof n))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=e.length?(e.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=e.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(e),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(e),this.byteLength+=e.length},h.prototype.result=function(){for(var e=n.alloc(this.byteLength),t=0,o=0;o<this.completeBuffers.length;o++){var a=this.completeBuffers[o];a.copy(e,t,0,a.length),t+=a.length}return this.latestBufferOffset&&this.latestBuffer.copy(e,t,0,this.latestBufferOffset),this.stringFormat?e.toString(this.stringFormat):e},"function"==typeof n&&(g.addReader((function(e,t){return n.isBuffer(e)?new y(e):"hex"===t||"base64"===t?new y(n.from(e,t)):void 0})),g.addWriter((function(e){return e&&"buffer"!==e?"hex"===e||"base64"===e?new h(e):void 0:new h}))),b.prototype=Object.create(r.prototype),b.prototype.peekByte=function(){var e=this.hex.substring(this.pos,2);return parseInt(e,16)},b.prototype.readByte=function(){var e=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(e,16)},b.prototype.readChunk=function(t){var o=this.hex.substring(this.pos,this.pos+2*t);return this.pos+=2*t,"function"==typeof n?n.from(o,"hex"):new e(o)},E.prototype=Object.create(s.prototype),E.prototype.writeByte=function(e){if(e<0||e>255)throw new Error("Byte value out of range: "+e);var t=e.toString(16);1==t.length&&(t="0"+t),this.$hex+=t},E.prototype.canWriteBinary=function(t){return t instanceof e||"function"==typeof n&&t instanceof n},E.prototype.writeBinary=function(t,o){if(t instanceof e)o(t.length()),this.$hex+=t.$hex;else{if(!("function"==typeof n&&t instanceof n))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");o(t.length),this.$hex+=t.toString("hex")}},E.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof n?n.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},E.prototype.writeString=function(t,n){var o=e.fromUtf8String(t);n(o.length()),this.$hex+=o.$hex},g.addReader((function(t,n){return t instanceof e||t.$hex?new b(t.$hex):"hex"===n?new b(t):void 0})),g.addWriter((function(e){if("hex"===e)return new E})),g}();return o.addSemanticEncode(0,(function(e){if(e instanceof Date)return e.toISOString()})).addSemanticDecode(0,(function(e){return new Date(e)})).addSemanticDecode(1,(function(e){return new Date(e)})),o},"function"==typeof define&&define.amd?define([],a):void 0!==t&&t.exports?t.exports=a():o.CBOR=a()}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/cbor-sync.js"}],[7590,{"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/onboarding":5816,"../../../../shared/lib/trace":5892,"../../../components/component-library":6474,"../../../components/component-library/button":6455,"../../../contexts/metametrics":6947,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"../../../store/actions":7835,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useHistory)(),t=(0,i.useDispatch)(),n=(0,c.useI18nContext)(),h=(0,i.useSelector)(d.getFirstTimeFlowType),b=(0,i.useSelector)(d.getSocialLoginEmail),E=(0,i.useSelector)(d.getSocialLoginType),x=(0,o.useContext)(m.MetaMetricsContext),{bufferedTrace:C,bufferedEndTrace:T,onboardingParentContext:v}=x;return(0,o.useEffect)((()=>(h!==p.FirstTimeFlowType.socialCreate&&e.replace(u.ONBOARDING_WELCOME_ROUTE),h===p.FirstTimeFlowType.socialCreate&&(null==C||C({name:y.TraceName.OnboardingNewSocialAccountExists,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==v?void 0:v.current})),()=>{h===p.FirstTimeFlowType.socialCreate&&(null==T||T({name:y.TraceName.OnboardingNewSocialAccountExists}))})),[h,e,v,C,T]),o.default.createElement(l.Box,{className:"account-exist","data-testid":"account-exist",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,height:s.BlockSize.Full,gap:6},o.default.createElement(l.Box,null,o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart},o.default.createElement(l.Text,{variant:s.TextVariant.headingLg,as:"h2",justifyContent:s.JustifyContent.center,style:{alignSelf:s.AlignItems.flexStart},marginBottom:4},n("accountAlreadyExistsTitle")),o.default.createElement(l.Box,{width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,marginBottom:6},o.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:n("accountAlreadyExistsTitle"),style:{alignSelf:"center"}})),o.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,marginBottom:6},n("accountAlreadyExistsLoginDescription",[b])))),o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4},o.default.createElement(r.Button,{"data-testid":"onboarding-complete-done",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async()=>{x({category:g.MetaMetricsEventCategory.Onboarding,event:g.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${g.MetaMetricsEventAccountType.Imported}_${E}`}}),null==C||C({name:y.TraceName.OnboardingExistingSocialLogin,op:y.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==v?void 0:v.current}),await t((0,f.setFirstTimeFlowType)(p.FirstTimeFlowType.socialImport)),e.replace(u.ONBOARDING_UNLOCK_ROUTE)}},n("accountAlreadyExistsLogin")),o.default.createElement(r.Button,{"data-testid":"account-exist-login-with-different-method",variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async()=>{await t((0,f.resetOAuthLoginState)()),await t((0,f.setFirstTimeFlowType)(null)),e.replace(u.ONBOARDING_WELCOME_ROUTE)}},n("useDifferentLoginMethod"))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom"),i=e("react-redux"),r=e("../../../components/component-library/button"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding"),f=e("../../../store/actions"),m=e("../../../contexts/metametrics"),g=e("../../../../shared/constants/metametrics"),y=e("../../../../shared/lib/trace");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-exist/account-exist.tsx"}],[7591,{"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/onboarding":5816,"../../../../shared/lib/trace":5892,"../../../components/component-library":6474,"../../../components/component-library/button":6455,"../../../contexts/metametrics":6947,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"../../../store/actions":7835,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useHistory)(),t=(0,i.useDispatch)(),n=(0,c.useI18nContext)(),h=(0,i.useSelector)(d.getFirstTimeFlowType),b=(0,i.useSelector)(d.getSocialLoginEmail),E=(0,i.useSelector)(d.getSocialLoginType),x=(0,o.useContext)(y.MetaMetricsContext),{bufferedTrace:C,bufferedEndTrace:T,onboardingParentContext:v}=x;return(0,o.useEffect)((()=>(h!==p.FirstTimeFlowType.socialImport&&e.replace(u.ONBOARDING_WELCOME_ROUTE),h===p.FirstTimeFlowType.socialImport&&(null==C||C({name:g.TraceName.OnboardingExistingSocialAccountNotFound,op:g.TraceOperation.OnboardingUserJourney,parentContext:null==v?void 0:v.current})),()=>{h===p.FirstTimeFlowType.socialImport&&(null==T||T({name:g.TraceName.OnboardingExistingSocialAccountNotFound}))})),[h,e,v,C,T]),o.default.createElement(l.Box,{className:"account-not-found","data-testid":"account-not-found",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,gap:6,height:s.BlockSize.Full},o.default.createElement(l.Box,null,o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart},o.default.createElement(l.Text,{variant:s.TextVariant.headingLg,as:"h2",justifyContent:s.JustifyContent.center,style:{alignSelf:s.AlignItems.flexStart},marginBottom:4},n("accountNotFoundTitle")),o.default.createElement(l.Box,{width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,marginBottom:6},o.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:n("accountNotFoundTitle"),style:{alignSelf:"center"}})),o.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,marginBottom:6},n("accountNotFoundDescription",[b])))),o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4},o.default.createElement(r.Button,{"data-testid":"onboarding-complete-done",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:()=>{x({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${m.MetaMetricsEventAccountType.Default}_${E}`}}),null==C||C({name:g.TraceName.OnboardingNewSocialCreateWallet,op:g.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==v?void 0:v.current}),t((0,f.setFirstTimeFlowType)(p.FirstTimeFlowType.socialCreate)),e.replace(u.ONBOARDING_CREATE_PASSWORD_ROUTE)}},n("accountNotFoundCreateOne")),o.default.createElement(r.Button,{"data-testid":"account-exist-login-with-different-method",variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async()=>{await t((0,f.resetOAuthLoginState)()),await t((0,f.setFirstTimeFlowType)(null)),e.replace(u.ONBOARDING_WELCOME_ROUTE)}},n("useDifferentLoginMethod"))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom"),i=e("react-redux"),r=e("../../../components/component-library/button"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding"),f=e("../../../store/actions"),m=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/lib/trace"),y=e("../../../contexts/metametrics");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-not-found/account-not-found.tsx"}],[7592,{"../../../../shared/constants/app":5798,"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/onboarding":5816,"../../../../shared/lib/trace":5892,"../../../../shared/modules/browser-runtime.utils":5901,"../../../../shared/modules/environment":5905,"../../../components/app/password-form/password-form":6182,"../../../components/component-library":6474,"../../../contexts/metametrics":6947,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../helpers/constants/zendesk-url":6996,"../../../helpers/utils/common.util":7009,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"../../../store/actions":7835,buffer:4106,"prop-types":5080,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=w;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=v(e("prop-types")),i=e("react-router-dom"),r=e("react-redux"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),u=v(e("../../../helpers/constants/zendesk-url")),d=e("../../../selectors"),p=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),m=e("../../../components/component-library"),g=e("../../../../shared/constants/onboarding"),y=v(e("../../../components/app/password-form/password-form")),h=e("../../../../shared/constants/app"),b=e("../../../../shared/modules/browser-runtime.utils"),E=e("../../../store/actions"),x=e("../../../../shared/modules/environment"),C=e("../../../helpers/utils/common.util"),T=e("../../../../shared/lib/trace");function v(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const _=(0,b.getBrowserName)()===h.PLATFORM_FIREFOX;function w({createNewAccount:e,importWithRecoveryPhrase:n,secretRecoveryPhrase:a}){const h=(0,s.useI18nContext)(),[b,v]=(0,o.useState)(""),[k,w]=(0,o.useState)(!1),[S,I]=(0,o.useState)(!1),O=(0,i.useHistory)(),N=(0,r.useDispatch)(),M=(0,r.useSelector)(d.getFirstTimeFlowType),B=(0,o.useContext)(p.MetaMetricsContext),{bufferedTrace:A,bufferedEndTrace:D,onboardingParentContext:R}=B,P=(0,r.useSelector)(d.getCurrentKeyring),F=(0,x.getIsSeedlessOnboardingFeatureEnabled)(),j=(0,r.useSelector)(d.getIsSocialLoginFlow),L=(0,r.useSelector)(d.getSocialLoginType),W=(0,r.useSelector)(d.getParticipateInMetaMetrics),$=(0,r.useSelector)(d.getMetaMetricsId),U=t.from($??"").toString("base64"),z=Boolean(W&&U),V=`https://start.metamask.io/?${new URLSearchParams({mmi:U,env:"production"})}`;(0,o.useEffect)((()=>{P&&!S?M===g.FirstTimeFlowType.import||M===g.FirstTimeFlowType.socialImport?O.replace(c.ONBOARDING_METAMETRICS):M===g.FirstTimeFlowType.socialCreate?_?O.replace(c.ONBOARDING_COMPLETION_ROUTE):O.replace(c.ONBOARDING_METAMETRICS):O.replace(c.ONBOARDING_SECURE_YOUR_WALLET_ROUTE):M!==g.FirstTimeFlowType.import||a||O.replace(c.ONBOARDING_IMPORT_WITH_SRP_ROUTE)}),[P,O,M,S,a]);const G=(e,t=!1)=>{if(t&&L){return`${e}_${String(L).toLowerCase()}`}return e};(0,o.useEffect)((()=>(null==A||A({name:T.TraceName.OnboardingPasswordSetupAttempt,op:T.TraceOperation.OnboardingUserJourney,parentContext:null==R?void 0:R.current}),()=>{null==D||D({name:T.TraceName.OnboardingPasswordSetupAttempt})})),[R,A,D]);const q=o.default.createElement("a",{onClick:e=>{e.stopPropagation(),B({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.ExternalLinkClicked,properties:{text:"Learn More",location:"create_password",url:u.default.PASSWORD_ARTICLE}})},key:"create-password__link-text",href:u.default.PASSWORD_ARTICLE,target:"_blank",rel:"noopener noreferrer"},o.default.createElement("span",{className:"create-password__link-text"},h("learnMoreUpperCaseWithDot")));return o.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:4,as:"form",className:"create-password","data-testid":"create-password",onSubmit:async t=>{if(null==t||t.preventDefault(),b)try{a&&M===g.FirstTimeFlowType.import?await(async()=>{B({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletImportAttempted}),await n(b,a),null==D||D({name:T.TraceName.OnboardingExistingSrpImport}),null==D||D({name:T.TraceName.OnboardingJourneyOverall}),B({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletImported,properties:{biometrics_enabled:!1,password_strength:(0,C.getPasswordStrengthCategory)(b)}}),B({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"import",new_wallet:!1,account_type:G(f.MetaMetricsEventAccountType.Imported,j)}}),_?O.replace(c.ONBOARDING_COMPLETION_ROUTE):O.replace(c.ONBOARDING_METAMETRICS)})():await(async()=>{B({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletCreationAttempted,properties:{account_type:G(f.MetaMetricsEventAccountType.Default,j)}}),e&&(I(!0),await e(b)),j&&(null==D||D({name:T.TraceName.OnboardingNewSocialCreateWallet}),null==D||D({name:T.TraceName.OnboardingJourneyOverall})),B({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletCreated,properties:{biometrics_enabled:!1,password_strength:(0,C.getPasswordStrengthCategory)(b)}}),B({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"new",new_wallet:!0,account_type:G(f.MetaMetricsEventAccountType.Default,j)}}),F&&j?_?O.replace(c.ONBOARDING_COMPLETION_ROUTE):O.replace(c.ONBOARDING_METAMETRICS):O.replace(c.ONBOARDING_SECURE_YOUR_WALLET_ROUTE)})()}catch(e){(e=>{const t=e instanceof Error?e.message:"Unknown error";null==A||A({name:T.TraceName.OnboardingPasswordSetupError,op:T.TraceOperation.OnboardingUserJourney,parentContext:R.current,tags:{errorMessage:t}}),null==D||D({name:T.TraceName.OnboardingPasswordSetupError}),console.error(e)})(e),B({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletSetupFailure})}}},o.default.createElement(m.Box,null,o.default.createElement(m.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},o.default.createElement(m.ButtonIcon,{iconName:m.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:m.ButtonIconSize.Md,"data-testid":"create-password-back-button",type:"button",onClick:e=>{e.preventDefault(),N((0,E.resetOAuthLoginState)()),M===g.FirstTimeFlowType.import?O.replace(c.ONBOARDING_IMPORT_WITH_SRP_ROUTE):O.replace(c.ONBOARDING_WELCOME_ROUTE)},ariaLabel:h("back")})),o.default.createElement(m.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},!j&&o.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},h("stepOf",[M===g.FirstTimeFlowType.import?2:1,M===g.FirstTimeFlowType.import?2:3])),o.default.createElement(m.Text,{variant:l.TextVariant.headingLg,as:"h2"},h("createPassword")),o.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,as:"h2"},h(j?"createPasswordDetailsSocial":"createPasswordDetails"))),o.default.createElement(y.default,{onChange:e=>v(e)}),o.default.createElement(m.Box,{className:"create-password__terms-container",alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,marginTop:6},o.default.createElement(m.Checkbox,{inputProps:{"data-testid":"create-password-terms"},alignItems:l.AlignItems.flexStart,isChecked:k,onChange:()=>{w(!k)},label:o.default.createElement(o.default.Fragment,null,h(j?"passwordTermsWarningSocial":"passwordTermsWarning"),"",q)}))),o.default.createElement(m.Box,null,o.default.createElement(m.Button,{"data-testid":"create-password-submit",variant:m.ButtonVariant.Primary,width:l.BlockSize.Full,size:m.ButtonSize.Lg,className:"create-password__form--submit-button",disabled:!b||!k},h("createPasswordCreate"))),z?o.default.createElement("iframe",{src:V,className:"create-password__analytics-iframe","data-testid":"create-password-iframe"}):null)}w.propTypes={createNewAccount:a.default.func,importWithRecoveryPhrase:a.default.func,secretRecoveryPhrase:a.default.string}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/pages/onboarding-flow/create-password/create-password.js"}],[7593,{"../../../components/component-library":6474,"../../../components/component-library/button":6455,"../../../components/component-library/lottie-animation":6480,"../../../ducks/metamask/metamask":6971,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,lodash:4912,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useHistory)(),t=(0,u.useI18nContext)(),{search:n}=(0,a.useLocation)(),g=(0,i.useSelector)(f.getIsPrimarySeedPhraseBackedUp),y=(0,i.useSelector)(p.getSocialLoginType),h=new URLSearchParams(n),b=h.get("isFromReminder"),E=h.get("isFromSettingsSecurity"),x=(0,o.useMemo)((()=>t(g?b?"yourWalletIsReadyFromReminder":"yourWalletIsReady":"yourWalletIsReadyRemind")),[b,g,t]),C=(0,o.useMemo)((()=>y?t("walletReadySocialDetails1",[(0,r.capitalize)(y)]):t(g?b?"walletReadyLoseSrpFromReminder":"walletReadyLoseSrp":"walletReadyLoseSrpRemind")),[y,g,t,b]),T=(0,o.useMemo)((()=>y?t("walletReadySocialDetails2"):g||b?t("walletReadyLearn",[o.default.createElement(c.ButtonLink,{key:"walletReadyLearn",size:c.ButtonLinkSize.Inherit,textProps:{variant:l.TextVariant.bodyMd,alignItems:l.AlignItems.flexStart},as:"a",href:"https://support.metamask.io/stay-safe/safety-in-web3/basic-safety-and-security-tips-for-metamask/",target:"_blank",rel:"noopener noreferrer"},t("learnHow"))]):t("walletReadyLearnRemind")),[y,g,b,t]),v=(0,o.useMemo)((()=>o.default.createElement(m.LottieAnimation,{path:"images/animations/fox/celebrating.lottie.json",loop:!0,autoplay:!0})),[g,b]),k=(0,o.useCallback)((()=>{b?e.push(E?d.SECURITY_ROUTE:d.DEFAULT_ROUTE):e.push(d.ONBOARDING_PIN_EXTENSION_ROUTE)}),[e,b,E]);return o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:6,className:"creation-successful","data-testid":"wallet-ready"},o.default.createElement(c.Box,null,o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.flexStart},o.default.createElement(c.Text,{variant:l.TextVariant.headingLg,as:"h2",justifyContent:l.JustifyContent.center,style:{alignSelf:l.AlignItems.flexStart},marginBottom:4},x),o.default.createElement(c.Box,{width:l.BlockSize.Full,display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,marginBottom:6},o.default.createElement(c.Box,{display:l.Display.Flex,style:{width:"144px",height:"144px"}},v)),o.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:6},C),o.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:6},T)),!b&&o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexStart,className:"creation-successful__settings-actions",gap:4},o.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,"data-testid":"manage-default-settings",borderRadius:l.BorderRadius.LG,width:l.BlockSize.Full,onClick:()=>e.push(d.ONBOARDING_PRIVACY_SETTINGS_ROUTE)},o.default.createElement(c.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},o.default.createElement(c.Icon,{name:c.IconName.Setting,size:c.IconSize.Md,marginInlineEnd:3}),o.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},t("manageDefaultSettings"))),o.default.createElement(c.Icon,{name:c.IconName.ArrowRight,color:l.IconColor.iconAlternative,size:c.IconSize.Sm})))),o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center},o.default.createElement(s.Button,{"data-testid":"onboarding-complete-done",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:l.BlockSize.Full,onClick:k},t("done"))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom"),i=e("react-redux"),r=e("lodash"),s=e("../../../components/component-library/button"),l=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),f=e("../../../ducks/metamask/metamask"),m=e("../../../components/component-library/lottie-animation");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/creation-successful/creation-successful.js"}],[7594,{"../../../../shared/constants/metametrics":5810,"../../../components/app/srp-details-modal":6342,"../../../components/app/srp-input-import":6344,"../../../components/component-library":6474,"../../../contexts/metametrics":6947,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"../../../selectors/selectors":7827,"@ethersproject/hdnode":592,"prop-types":5080,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=C;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom"),i=e("react-redux"),r=b(e("prop-types")),s=e("@ethersproject/hdnode"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),u=e("../../../hooks/useI18nContext"),d=b(e("../../../components/app/srp-input-import")),p=e("../../../selectors"),f=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),g=e("../../../selectors/selectors"),y=e("../../../components/component-library"),h=b(e("../../../components/app/srp-details-modal"));function b(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const x=e=>e!==e.toLowerCase();function C({submitSecretRecoveryPhrase:e}){const[t,n]=(0,o.useState)(""),[r,b]=(0,o.useState)(!1),[E,C]=(0,o.useState)(""),T=(0,a.useHistory)(),v=(0,i.useSelector)(g.getHDEntropyIndex),k=(0,u.useI18nContext)(),_=(0,i.useSelector)(p.getCurrentKeyring);(0,o.useEffect)((()=>{_&&T.replace(c.ONBOARDING_CREATE_PASSWORD_ROUTE)}),[_,T]);const w=(0,o.useContext)(f.MetaMetricsContext),S=(0,o.useCallback)((()=>{w({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"import_srp"}}),b(!0)}),[w]),I=(0,o.useCallback)((()=>{let n="";!x(t)&&(0,s.isValidMnemonic)(t)||(n=k("invalidSeedPhraseNotFound")),C(n),n||(e(t),w({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:v}}),T.push(c.ONBOARDING_CREATE_PASSWORD_ROUTE))}),[t,k,v,w,T,e]);return(0,o.useEffect)((()=>{C("")}),[t]),o.default.createElement(y.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:4,className:"import-srp","data-testid":"import-srp"},r&&o.default.createElement(h.default,{onClose:()=>b(!1)}),o.default.createElement(y.Box,null,o.default.createElement(y.Box,{marginBottom:4},o.default.createElement(y.ButtonIcon,{iconName:y.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:y.ButtonIconSize.Md,"data-testid":"import-srp-back-button",onClick:()=>{T.replace(c.ONBOARDING_WELCOME_ROUTE)},ariaLabel:k("back")})),o.default.createElement(y.Box,{textAlign:l.TextAlign.Left},o.default.createElement(y.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},k("stepOf",[1,2]))),o.default.createElement(y.Box,{textAlign:l.TextAlign.Left,marginBottom:2},o.default.createElement(y.Text,{variant:l.TextVariant.headingLg},k("importAWallet"))),o.default.createElement(y.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,marginBottom:4},o.default.createElement(y.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},k("typeYourSRP")),o.default.createElement(y.ButtonIcon,{iconName:y.IconName.Info,size:y.ButtonIconSize.Sm,color:l.IconColor.iconAlternative,onClick:S,ariaLabel:"info"})),o.default.createElement(y.Box,{width:l.BlockSize.Full},o.default.createElement("form",{onSubmit:e=>e.preventDefault()},o.default.createElement(d.default,{onChange:n}),E&&o.default.createElement(y.Box,{marginTop:2},o.default.createElement(y.Text,{"data-testid":"import-srp-error",variant:l.TextVariant.bodySm,color:l.TextColor.errorDefault},E))))),o.default.createElement(y.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,width:l.BlockSize.Full,textAlign:l.TextAlign.Left},o.default.createElement(y.Button,{width:l.BlockSize.Full,size:y.ButtonSize.Lg,type:"primary","data-testid":"import-srp-confirm",onClick:I,disabled:!t.trim()||Boolean(E)},k("continue"))))}C.propTypes={submitSecretRecoveryPhrase:r.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/import-srp/import-srp.js"}],[7595,{"../../../../shared/constants/app":5798,"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/onboarding":5816,"../../../../shared/modules/browser-runtime.utils":5901,"../../../components/component-library":6474,"../../../contexts/metametrics":6947,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"../../../store/actions":7835,loglevel:4920,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,c.useI18nContext)(),t=(0,i.useDispatch)(),n=(0,r.useHistory)(),o=(0,i.useSelector)(d.getFirstTimeFlowType),f=(0,i.useSelector)(d.getDataCollectionForMarketing),b=(0,i.useSelector)(d.getCurrentKeyring),x=(0,a.useContext)(g.MetaMetricsContext);let C=(0,i.useSelector)(d.getFirstTimeFlowTypeRouteAfterMetaMetricsOptIn);E&&o!==h.FirstTimeFlowType.restore&&(C=b&&o===h.FirstTimeFlowType.socialCreate?m.ONBOARDING_COMPLETION_ROUTE:m.ONBOARDING_WELCOME_ROUTE);return a.default.createElement("div",{className:"onboarding-metametrics","data-testid":"onboarding-metametrics"},a.default.createElement(y.Text,{variant:l.TextVariant.headingLg,textAlign:l.TextAlign.Left,fontWeight:l.FontWeight.Bold,marginBottom:4},e("onboardingMetametricsTitle")),a.default.createElement(y.Text,{className:"onboarding-metametrics__desc",textAlign:l.TextAlign.Left},e("onboardingMetametricsDescription")),a.default.createElement("ul",null,a.default.createElement("li",null,a.default.createElement(y.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,paddingBottom:4},a.default.createElement(y.Icon,{marginInlineEnd:2,name:y.IconName.Check,size:y.IconSize.Sm,color:l.IconColor.successDefault}),a.default.createElement(y.Text,{color:l.TextColor.textAlternative},e("onboardingMetametricsNeverCollect",[a.default.createElement(y.Text,{variant:l.TextVariant.inherit,key:"never",fontWeight:l.FontWeight.Bold,color:l.TextColor.textDefault,marginTop:0},e("onboardingMetametricsNeverCollectEmphasis"))])))),a.default.createElement("li",null,a.default.createElement(y.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,paddingBottom:4},a.default.createElement(y.Icon,{marginInlineEnd:2,name:y.IconName.Check,size:y.IconSize.Sm,color:l.IconColor.successDefault}),a.default.createElement(y.Text,{color:l.TextColor.textAlternative},e("onboardingMetametricsNeverCollectIP",[a.default.createElement(y.Text,{variant:l.TextVariant.inherit,key:"never-collect",fontWeight:l.FontWeight.Bold,color:l.TextColor.textDefault},e("onboardingMetametricsNeverCollectIPEmphasis"))])))),a.default.createElement("li",null,a.default.createElement(y.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,paddingBottom:4},a.default.createElement(y.Icon,{marginInlineEnd:2,name:y.IconName.Check,size:y.IconSize.Sm,color:l.IconColor.successDefault}),a.default.createElement(y.Text,{color:l.TextColor.textAlternative},e("onboardingMetametricsNeverSellData",[a.default.createElement(y.Text,{variant:l.TextVariant.inherit,key:"never-sell",fontWeight:l.FontWeight.Bold,color:l.TextColor.textDefault},e("onboardingMetametricsNeverSellDataEmphasis"))]))))),a.default.createElement(y.Checkbox,{id:"metametrics-opt-in","data-testid":"metametrics-data-collection-checkbox",isChecked:f,onClick:()=>t((0,u.setDataCollectionForMarketing)(!f)),label:a.default.createElement(y.Text,{fontWeight:l.FontWeight.Medium},e("onboardingMetametricsUseDataCheckbox")),paddingBottom:3,alignItems:l.AlignItems.flexStart}),a.default.createElement(y.Text,{color:l.TextColor.textAlternative,textAlign:l.TextAlign.Left,variant:l.TextVariant.bodySm,paddingTop:4,className:"onboarding-metametrics__terms"},e("onboardingMetametricsInfuraTerms",[a.default.createElement("a",{href:E?"https://addons.mozilla.org/en-CA/firefox/addon/ether-metamask/privacy/":"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",key:"privacy-link"},e("onboardingMetametricsInfuraTermsPolicy"))])),a.default.createElement(y.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,width:l.BlockSize.Full,className:"onboarding-metametrics__buttons",marginTop:6,gap:4},a.default.createElement(y.Button,{"data-testid":"metametrics-no-thanks",variant:y.ButtonVariant.Secondary,size:y.ButtonSize.Lg,width:l.BlockSize.Full,onClick:async e=>{e.preventDefault(),await t((0,u.setParticipateInMetaMetrics)(!1)),await t((0,u.setDataCollectionForMarketing)(!1)),n.push(C)}},e("noThanks")),a.default.createElement(y.Button,{"data-testid":"metametrics-i-agree",size:y.ButtonSize.Lg,width:l.BlockSize.Full,onClick:async e=>{e.preventDefault(),null===f&&await t((0,u.setDataCollectionForMarketing)(!1)),await t((0,u.setParticipateInMetaMetrics)(!0));try{await x({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AppInstalled}),await x({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!0,has_marketing_consent:Boolean(f),location:"onboarding_metametrics"}})}catch(e){s.default.error("onConfirm::error",e)}finally{n.push(C)}}},e("onboardingMetametricsAgree"))))};var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("react-redux"),r=e("react-router-dom"),s=(o=e("loglevel"))&&o.__esModule?o:{default:o},l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../selectors"),p=e("../../../../shared/constants/metametrics"),f=e("../../../../shared/constants/app"),m=e("../../../helpers/constants/routes"),g=e("../../../contexts/metametrics"),y=e("../../../components/component-library"),h=e("../../../../shared/constants/onboarding");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const E=(0,e("../../../../shared/modules/browser-runtime.utils").getBrowserName)()===f.PLATFORM_FIREFOX}}},{package:"$root$",file:"ui/pages/onboarding-flow/metametrics/metametrics.js"}],[7596,{"../../../../app/_locales/index.json":2,"../../../../shared/constants/preferences":5818,"../../../components/component-library":6474,"../../../components/ui/dropdown":6843,"../../../components/ui/metafox-logo":6888,"../../../ducks/locale/locale":6970,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../store/actions":7835,"../welcome/types":7611,classnames:4139,"prop-types":5080,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var o=b(e("react")),a=b(e("prop-types")),i=e("react-redux"),r=e("react-router-dom"),s=b(e("classnames")),l=b(e("../../../components/ui/metafox-logo")),c=b(e("../../../components/ui/dropdown")),u=e("../../../ducks/locale/locale"),d=e("../../../store/actions"),p=b(e("../../../../app/_locales/index.json")),f=e("../../../helpers/constants/routes"),m=e("../../../components/component-library"),g=e("../../../helpers/constants/design-system"),y=e("../welcome/types"),h=e("../../../../shared/constants/preferences");function b(e){return e&&e.__esModule?e:{default:e}}function E({pageState:e}){const t=(0,i.useDispatch)(),{pathname:n}=(0,r.useLocation)(),a=(0,i.useSelector)(u.getCurrentLocale),b=p.default.map((e=>({name:e.name,value:e.code})));return o.default.createElement(m.Box,{display:g.Display.Flex,alignItems:g.AlignItems.center,backgroundColor:g.BackgroundColor.backgroundDefault,width:g.BlockSize.Full,padding:4,className:(0,s.default)("onboarding-app-header",{"onboarding-app-header--welcome":n===f.ONBOARDING_WELCOME_ROUTE})},o.default.createElement(m.Box,{display:g.Display.Flex,width:g.BlockSize.Full,justifyContent:g.JustifyContent.spaceBetween,className:"onboarding-app-header__contents"},o.default.createElement(l.default,{theme:n===f.ONBOARDING_WELCOME_ROUTE?h.ThemeType.light:undefined,unsetIconHeight:!0,isOnboarding:!0}),o.default.createElement(c.default,{"data-testid":"select-locale",className:(0,s.default)("onboarding-app-header__dropdown",{"onboarding-app-header__dropdown--welcome--banner":e===y.WelcomePageState.Banner,"onboarding-app-header__dropdown--welcome--login":e===y.WelcomePageState.Login}),options:b,selectedOption:a,onChange:async e=>t((0,d.updateCurrentLocale)(e))})))}E.propTypes={pageState:a.default.oneOf(Object.values(y.WelcomePageState))}}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-app-header/onboarding-app-header.js"}],[7597,{"../../../../shared/constants/app":5798,"../../../../shared/modules/browser-runtime.utils":5901,"../../../ducks/metamask/metamask":6971,"../../../helpers/constants/routes":6989,"../../../selectors":7812,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,i.useSelector)(l.getCompletedOnboarding),t=(0,i.useSelector)(l.getIsInitialized),n=(0,i.useSelector)(l.getSeedPhraseBackedUp),o=(0,i.useSelector)(d.getIsSocialLoginFlow),p=(0,i.useSelector)(l.getIsUnlocked),f=(0,i.useSelector)(d.getIsParticipateInMetaMetricsSet);if(e)return a.default.createElement(r.Redirect,{to:{pathname:s.DEFAULT_ROUTE}});if(null!==n)return a.default.createElement(r.Redirect,{to:{pathname:f?s.ONBOARDING_COMPLETION_ROUTE:s.ONBOARDING_METAMETRICS}});if(p)return o&&!e?a.default.createElement(r.Redirect,{to:{pathname:f?s.ONBOARDING_COMPLETION_ROUTE:s.ONBOARDING_METAMETRICS}}):a.default.createElement(r.Redirect,{to:{pathname:s.LOCK_ROUTE}});if(!t){let e;return e=(0,u.getBrowserName)()===c.PLATFORM_FIREFOX?a.default.createElement(r.Redirect,{to:{pathname:s.ONBOARDING_METAMETRICS}}):a.default.createElement(r.Redirect,{to:{pathname:s.ONBOARDING_WELCOME_ROUTE}}),e}return a.default.createElement(r.Redirect,{to:{pathname:s.ONBOARDING_UNLOCK_ROUTE}})};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("react-redux"),r=e("react-router-dom"),s=e("../../../helpers/constants/routes"),l=e("../../../ducks/metamask/metamask"),c=e("../../../../shared/constants/app"),u=e("../../../../shared/modules/browser-runtime.utils"),d=e("../../../selectors")}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow-switch/onboarding-flow-switch.js"}],[7598,{"../../../app/scripts/lib/util":226,"../../../shared/constants/app":5798,"../../../shared/constants/metametrics":5810,"../../../shared/constants/onboarding":5816,"../../../shared/lib/trace":5892,"../../../shared/modules/environment":5905,"../../components/app/toast-master/utils":6362,"../../components/component-library":6474,"../../components/ui/loading-screen":6876,"../../contexts/metametrics":6947,"../../ducks/metamask/metamask":6971,"../../helpers/constants/design-system":6984,"../../helpers/constants/routes":6989,"../../hooks/useI18nContext":7109,"../../selectors":7812,"../../selectors/selectors":7827,"../../store/actions":7835,"../unlock-page":7796,"./account-exist/account-exist":7590,"./account-not-found/account-not-found":7591,"./create-password/create-password":7592,"./creation-successful/creation-successful":7593,"./import-srp/import-srp":7594,"./metametrics/metametrics":7595,"./onboarding-app-header/onboarding-app-header":7596,"./onboarding-flow-switch/onboarding-flow-switch":7597,"./pin-extension/pin-extension":7599,"./privacy-settings/privacy-settings":7600,"./recovery-phrase/confirm-recovery-phrase":7602,"./recovery-phrase/reveal-recovery-phrase":7605,"./recovery-phrase/review-recovery-phrase":7606,"./secure-your-wallet/secure-your-wallet":7607,"./welcome/types":7611,"./welcome/welcome":7614,classnames:4139,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const[e,t]=(0,o.useState)(""),[n,$]=(0,o.useState)(!1),U=(0,i.useDispatch)(),{pathname:G,search:q}=(0,a.useLocation)(),J=(0,a.useHistory)(),H=(0,f.useI18nContext)(),K=(0,i.useSelector)(y.getHDEntropyIndex),Y=(0,i.useSelector)(c.getCompletedOnboarding),X=(0,i.useSelector)(d.getFirstTimeFlowTypeRouteAfterUnlock),Q=new URLSearchParams(q).get("isFromReminder"),Z=new URLSearchParams(q).get("isFromSettingsSecurity"),ee=(0,o.useContext)(p.MetaMetricsContext),{bufferedTrace:te,onboardingParentContext:ne}=ee,oe=(0,i.useSelector)(c.getIsUnlocked),ae=(0,i.useSelector)(d.getShowTermsOfUse),ie=(0,i.useSelector)(d.getFirstTimeFlowType),re=(0,T.getIsSeedlessOnboardingFeatureEnabled)(),se=(0,i.useSelector)(c.getIsPrimarySeedPhraseBackedUp),le=(0,E.getEnvironmentType)()===x.ENVIRONMENT_TYPE_POPUP,[ce,ue]=(0,o.useState)(F.WelcomePageState.Banner);(0,o.useEffect)((()=>{(0,g.submitRequestToBackgroundAndCatch)("setOnboardingDate")}),[]),(0,o.useEffect)((()=>{Y&&!Q&&J.push(l.DEFAULT_ROUTE)}),[J,Y,Q]),(0,o.useEffect)((()=>{const t=[l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE,l.ONBOARDING_REVIEW_SRP_ROUTE,l.ONBOARDING_CONFIRM_SRP_ROUTE].some((e=>null==G?void 0:G.startsWith(e)));!oe||Y||e||t&&J.push(l.ONBOARDING_UNLOCK_ROUTE),se&&t&&Y&&J.replace(Z?l.SECURITY_ROUTE:l.DEFAULT_ROUTE),G===l.ONBOARDING_WELCOME_ROUTE?ue(ae?F.WelcomePageState.Banner:F.WelcomePageState.Login):ue(null)}),[oe,Y,e,G,J,ae,se,Z]),(0,o.useEffect)((()=>{const e=null==te?void 0:te({name:v.TraceName.OnboardingJourneyOverall,op:v.TraceOperation.OnboardingUserJourney});ne&&(ne.current=e)}),[ne,te]);const de=async e=>{try{let n;$(!0),re&&ie===C.FirstTimeFlowType.socialCreate?n=await U((0,u.createNewVaultAndSyncWithSocial)(e)):ie===C.FirstTimeFlowType.create&&(n=await U((0,u.createNewVaultAndGetSeedPhrase)(e))),t(n)}finally{$(!1)}},pe=async e=>{try{let n;$(!0),n=re&&ie===C.FirstTimeFlowType.socialImport?await U((0,u.restoreSocialBackupAndGetSeedPhrase)(e)):await U((0,u.unlockAndGetSeedPhrase)(e)),t(n),J.replace(X)}finally{$(!1)}},fe=async(e,t)=>await U((0,u.createNewVaultAndRestore)(e,t));let me=G===l.ONBOARDING_WELCOME_ROUTE||G===l.ONBOARDING_UNLOCK_ROUTE;return o.default.createElement(h.Box,{backgroundColor:b.BackgroundColor.backgroundDefault,width:b.BlockSize.Full,height:b.BlockSize.Full,display:b.Display.Flex,flexDirection:b.FlexDirection.Column,alignItems:G===l.ONBOARDING_WELCOME_ROUTE?b.AlignItems.flexStart:b.AlignItems.center,justifyContent:b.JustifyContent.flexStart,className:(0,r.default)("onboarding-flow",{"onboarding-flow--welcome-banner":ce===F.WelcomePageState.Banner,"onboarding-flow--welcome-login":ce===F.WelcomePageState.Login})},!le&&o.default.createElement(P.default,{pageState:ce}),o.default.createElement(h.Box,{className:(0,r.default)("onboarding-flow__container",{"onboarding-flow__container--full":me,"onboarding-flow__container--popup":le}),width:b.BlockSize.Full,borderStyle:me||le?b.BorderStyle.none:b.BorderStyle.solid,borderRadius:b.BorderRadius.LG,marginTop:G===l.ONBOARDING_WELCOME_ROUTE||le?0:3,marginInline:"auto",borderColor:b.BorderColor.borderMuted},o.default.createElement(a.Switch,null,o.default.createElement(a.Route,{path:l.ONBOARDING_ACCOUNT_EXIST,component:j.default}),o.default.createElement(a.Route,{path:l.ONBOARDING_ACCOUNT_NOT_FOUND,component:L.default}),o.default.createElement(a.Route,{path:l.ONBOARDING_CREATE_PASSWORD_ROUTE,render:t=>o.default.createElement(w.default,z({},t,{createNewAccount:de,importWithRecoveryPhrase:fe,secretRecoveryPhrase:e}))}),o.default.createElement(a.Route,{path:l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE,component:I.default}),o.default.createElement(a.Route,{path:l.ONBOARDING_REVEAL_SRP_ROUTE,render:()=>o.default.createElement(W.default,{setSecretRecoveryPhrase:t})}),o.default.createElement(a.Route,{path:l.ONBOARDING_REVIEW_SRP_ROUTE,render:()=>o.default.createElement(S.default,{secretRecoveryPhrase:e})}),o.default.createElement(a.Route,{path:l.ONBOARDING_CONFIRM_SRP_ROUTE,render:()=>o.default.createElement(O.default,{secretRecoveryPhrase:e})}),o.default.createElement(a.Route,{path:l.ONBOARDING_IMPORT_WITH_SRP_ROUTE,render:e=>o.default.createElement(A.default,z({},e,{submitSecretRecoveryPhrase:t}))}),o.default.createElement(a.Route,{path:l.ONBOARDING_UNLOCK_ROUTE,render:e=>o.default.createElement(s.default,z({},e,{onSubmit:pe}))}),o.default.createElement(a.Route,{path:l.ONBOARDING_PRIVACY_SETTINGS_ROUTE,component:N.default}),o.default.createElement(a.Route,{path:l.ONBOARDING_COMPLETION_ROUTE,component:M.default}),o.default.createElement(a.Route,{path:l.ONBOARDING_WELCOME_ROUTE,render:e=>o.default.createElement(B.default,z({},e,{pageState:ce,setPageState:ue}))}),o.default.createElement(a.Route,{path:l.ONBOARDING_PIN_EXTENSION_ROUTE,component:D.default}),o.default.createElement(a.Route,{path:l.ONBOARDING_METAMETRICS,component:R.default}),o.default.createElement(a.Route,{exact:!0,path:"*",component:_.default}))),G===l.ONBOARDING_COMPLETION_ROUTE&&o.default.createElement(h.Button,{variant:h.ButtonVariant.Link,href:V,marginInline:"auto",marginTop:le?0:4,marginBottom:le?4:0,target:"_blank",rel:"noopener noreferrer",textProps:{variant:b.TextVariant.bodyLgMedium},onClick:()=>{ee({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.OnboardingTwitterClick,properties:{text:H("followUsOnX",["X"]),location:m.MetaMetricsEventName.WalletCreated,url:V,hd_entropy_index:K}})}},H("followUsOnX",[o.default.createElement(h.Icon,{key:"x-icon",className:"onboarding-flow__x-button__icon",name:h.IconName.X,size:h.IconSize.Lg})])),n&&o.default.createElement(k.default,null))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom"),i=e("react-redux"),r=$(e("classnames")),s=$(e("../unlock-page")),l=e("../../helpers/constants/routes"),c=e("../../ducks/metamask/metamask"),u=e("../../store/actions"),d=e("../../selectors"),p=e("../../contexts/metametrics"),f=e("../../hooks/useI18nContext"),m=e("../../../shared/constants/metametrics"),g=e("../../components/app/toast-master/utils"),y=e("../../selectors/selectors"),h=e("../../components/component-library"),b=e("../../helpers/constants/design-system"),E=e("../../../app/scripts/lib/util"),x=e("../../../shared/constants/app"),C=e("../../../shared/constants/onboarding"),T=e("../../../shared/modules/environment"),v=e("../../../shared/lib/trace"),k=$(e("../../components/ui/loading-screen")),_=$(e("./onboarding-flow-switch/onboarding-flow-switch")),w=$(e("./create-password/create-password")),S=$(e("./recovery-phrase/review-recovery-phrase")),I=$(e("./secure-your-wallet/secure-your-wallet")),O=$(e("./recovery-phrase/confirm-recovery-phrase")),N=$(e("./privacy-settings/privacy-settings")),M=$(e("./creation-successful/creation-successful")),B=$(e("./welcome/welcome")),A=$(e("./import-srp/import-srp")),D=$(e("./pin-extension/pin-extension")),R=$(e("./metametrics/metametrics")),P=$(e("./onboarding-app-header/onboarding-app-header")),F=e("./welcome/types"),j=$(e("./account-exist/account-exist")),L=$(e("./account-not-found/account-not-found")),W=$(e("./recovery-phrase/reveal-recovery-phrase"));function $(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},z.apply(null,arguments)}const V="https://twitter.com/MetaMask"}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow.js"}],[7599,{"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/onboarding":5816,"../../../../shared/modules/browser-runtime.utils":5901,"../../../components/component-library":6474,"../../../contexts/metametrics":6947,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"../../../store/actions":7835,classnames:4139,react:5262,"react-redux":5208,"react-responsive-carousel":5224,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,u.useI18nContext)(),t=(0,i.useHistory)(),[n,o]=(0,a.useState)(0),E=(0,r.useDispatch)(),x=(0,a.useContext)(m.MetaMetricsContext),C=(0,r.useSelector)(g.getFirstTimeFlowType),T=(0,r.useSelector)(g.getCurrentKeyring),v=(0,r.useSelector)(g.getExternalServicesOnboardingToggleState);return(0,a.useEffect)((()=>{T||t.replace(p.ONBOARDING_WELCOME_ROUTE)}),[T,t]),a.default.createElement(f.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.spaceBetween,height:d.BlockSize.Full,gap:6,className:"onboarding-pin-extension","data-testid":"onboarding-pin-extension"},a.default.createElement(f.Box,null,a.default.createElement(s.Carousel,{selectedItem:n,showThumbs:!1,showStatus:!1,dynamicHeight:!0,renderArrowPrev:(t,n,o)=>a.default.createElement(f.ButtonIcon,{iconName:f.IconName.Arrow2Left,size:f.ButtonIconSize.Lg,borderRadius:d.BorderRadius.full,borderWidth:2,borderColor:d.IconColor.iconDefault,className:(0,l.default)("onboarding-pin-extension__arrow",{"onboarding-pin-extension__arrow--disabled":!n}),disabled:!n,title:o,onClick:t,ariaLabel:e("prev")}),renderArrowNext:(t,n,o)=>a.default.createElement(f.ButtonIcon,{iconName:f.IconName.Arrow2Right,size:f.ButtonIconSize.Lg,borderRadius:d.BorderRadius.full,borderWidth:2,borderColor:d.IconColor.iconDefault,className:(0,l.default)("onboarding-pin-extension__arrow","onboarding-pin-extension__arrow--next",{"onboarding-pin-extension__arrow--disabled":!n}),disabled:!n,title:o,onClick:t,ariaLabel:e("next"),"data-testid":"pin-extension-next"}),onChange:e=>o(e)},a.default.createElement(f.Box,{display:d.Display.Flex,alignItems:d.AlignItems.flexStart,justifyContent:d.JustifyContent.center,className:"onboarding-pin-extension__image-container"},a.default.createElement("img",{src:"/images/onboarding-extension-pin.svg",alt:e("onboardingPinExtensionAltPin")})),a.default.createElement(f.Box,{display:d.Display.Flex,alignItems:d.AlignItems.flexStart,justifyContent:d.JustifyContent.center,className:"onboarding-pin-extension__image-container"},a.default.createElement("img",{src:"/images/onboarding-extension-launch.svg",alt:e("onboardingPinExtensionAltLaunch")}))),a.default.createElement(f.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.flexStart,width:d.BlockSize.Full,marginTop:4,gap:4},a.default.createElement(f.Text,{variant:d.TextVariant.headingLg,fontWeight:d.FontWeight.Medium,as:"h2"},e("onboardingPinExtensionTitle")),0===n?a.default.createElement(f.Box,null,a.default.createElement(f.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription"))):a.default.createElement(f.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,gap:4},a.default.createElement(f.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription2")),a.default.createElement(f.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription3",[(0,b.getBrowserName)()]))))),a.default.createElement(f.Box,null,a.default.createElement(f.Button,{variant:f.ButtonVariant.Primary,size:f.ButtonSize.Lg,block:!0,"data-testid":"pin-extension-done",onClick:async()=>{await E((0,c.toggleExternalServices)(v)),await E((0,c.setCompletedOnboarding)()),x({category:y.MetaMetricsEventCategory.Onboarding,event:y.MetaMetricsEventName.ExtensionPinned,properties:{wallet_setup_type:C===h.FirstTimeFlowType.import?"import":"new",new_wallet:C===h.FirstTimeFlowType.create}}),t.push(p.DEFAULT_ROUTE)}},e("done"))))};var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("react-router-dom"),r=e("react-redux"),s=e("react-responsive-carousel"),l=(o=e("classnames"))&&o.__esModule?o:{default:o},c=e("../../../store/actions"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/constants/routes"),f=e("../../../components/component-library"),m=e("../../../contexts/metametrics"),g=e("../../../selectors"),y=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/constants/onboarding"),b=e("../../../../shared/modules/browser-runtime.utils");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/pin-extension/pin-extension.js"}],[760,{"./DataItem":758,"./cbor-sync":759},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DataItem=n.addWriter=n.addReader=n.addSemanticEncode=n.addSemanticDecode=n.decodeToDataItem=n.encodeDataItem=void 0;var o=e("./cbor-sync");Object.defineProperty(n,"encodeDataItem",{enumerable:!0,get:function(){return o.encodeDataItem}}),Object.defineProperty(n,"decodeToDataItem",{enumerable:!0,get:function(){return o.decodeToDataItem}}),Object.defineProperty(n,"addSemanticDecode",{enumerable:!0,get:function(){return o.addSemanticDecode}}),Object.defineProperty(n,"addSemanticEncode",{enumerable:!0,get:function(){return o.addSemanticEncode}}),Object.defineProperty(n,"addReader",{enumerable:!0,get:function(){return o.addReader}}),Object.defineProperty(n,"addWriter",{enumerable:!0,get:function(){return o.addWriter}});var a=e("./DataItem");Object.defineProperty(n,"DataItem",{enumerable:!0,get:function(){return a.DataItem}})}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/index.js"}],[7600,{"../../../../app/scripts/lib/util":226,"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/network":5813,"../../../../shared/lib/ui-utils":5898,"../../../../shared/modules/selectors/networks":5921,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":6090,"../../../components/component-library":6474,"../../../components/ui/button":6819,"../../../contexts/metametrics":6947,"../../../ducks/app/app":6956,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../helpers/constants/zendesk-url":6996,"../../../hooks/identity/useBackupAndSync":7071,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"../../../selectors/identity/backup-and-sync":7811,"../../../store/actions":7835,"./setting":7601,"@metamask/profile-sync-controller/user-storage":2441,"@metamask/snaps-sdk":2739,classnames:4139,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,E.useI18nContext)(),t=(0,a.useDispatch)(),n=(0,i.useHistory)(),[I,O]=(0,o.useState)(!1),[M,B]=(0,o.useState)(null),[A,D]=(0,o.useState)(!0),R=(0,a.useSelector)((e=>e.metamask)),{use4ByteResolution:P,useTokenDetection:F,useCurrencyRateCheck:j,useMultiAccountBalanceChecker:L,ipfsGateway:W,useAddressBarEnsResolution:$,useTransactionSimulations:U}=R,z=(0,a.useSelector)(x.getUseExternalNameSources),[V,G]=(0,o.useState)(P),[q,J]=(0,o.useState)(F),[H,K]=(0,o.useState)(j),[Y,X]=(0,o.useState)(L),[Q,Z]=(0,o.useState)(U),[ee,te]=(0,o.useState)(W),[ne,oe]=(0,o.useState)(null),[ae,ie]=(0,o.useState)($),[re,se]=(0,o.useState)(z),le=(0,o.useContext)(y.MetaMetricsContext),ce=(0,a.useSelector)(C.getNetworkConfigurationsByChainId),ue=(0,a.useSelector)(x.getExternalServicesOnboardingToggleState),de=(0,a.useSelector)(_.selectIsBackupAndSyncEnabled),{setIsBackupAndSyncFeatureEnabled:pe,error:fe}=(0,u.useBackupAndSync)();(0,o.useEffect)((()=>{pe(l.BACKUPANDSYNC_FEATURES.main,!!ue)}),[ue,pe]);const me=e=>{B(e),O(!0),setTimeout((()=>{D(!1)}),N)},ge=[{id:1,title:e("general"),subtitle:e("generalDescription")},{id:2,title:e("assets"),subtitle:e("assetsDescription")},{id:3,title:e("security"),subtitle:e("securityDescription")}];return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"privacy-settings","data-testid":"privacy-settings"},o.default.createElement("div",{className:(0,r.default)("container",{"show-detail":I,"show-list":!I})},o.default.createElement("div",{className:"list-view"},o.default.createElement(g.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:6,display:h.Display.Flex,flexDirection:h.FlexDirection.Column,justifyContent:h.JustifyContent.flexStart},o.default.createElement(g.Box,{display:h.Display.Flex,alignItems:h.AlignItems.center,flexDirection:h.FlexDirection.Row,justifyContent:h.JustifyContent.flexStart},o.default.createElement(m.default,{type:"inline",icon:o.default.createElement(g.Icon,{name:g.IconName.ArrowLeft,size:g.IconSize.Lg,color:h.IconColor.iconDefault}),"data-testid":"privacy-settings-back-button",onClick:()=>{if(t((0,T.setUse4ByteResolution)(V)),t((0,T.setUseTokenDetection)(q)),t((0,T.setUseMultiAccountBalanceChecker)(Y)),t((0,T.setUseCurrencyRateCheck)(H)),t((0,T.setUseAddressBarEnsResolution)(ae)),(0,T.setUseTransactionSimulations)(Q),(0,T.setUseExternalNameSources)(re),ue||pe(l.BACKUPANDSYNC_FEATURES.main,!1),ee&&!ne){const{host:e}=new URL((0,c.addUrlProtocolPrefix)(ee));t((0,T.setIpfsGateway)(e))}le({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{settings_group:"onboarding_advanced_configuration",is_profile_syncing_enabled:de,is_basic_functionality_enabled:ue,turnon_token_detection:q}}),n.push(b.ONBOARDING_COMPLETION_ROUTE)}}),o.default.createElement(g.Box,{display:h.Display.Flex,alignItems:h.AlignItems.center,justifyContent:h.JustifyContent.center,width:h.BlockSize.Full},o.default.createElement(g.Text,{variant:h.TextVariant.headingLg,as:"h2"},e("defaultSettingsTitle")))),o.default.createElement(g.Text,{variant:h.TextVariant.bodyLgMedium,marginTop:5},e("defaultSettingsSubTitle")),o.default.createElement("a",{href:"https://support.metamask.io/privacy-and-security/privacy-best-practices",target:"_blank",rel:"noreferrer",key:"learnMoreAboutPrivacy",style:{fontSize:"var(--font-size-5)"}},e("learnMoreAboutPrivacy"))),o.default.createElement(g.Box,null,o.default.createElement(g.Box,{as:"ul",marginTop:4,marginBottom:4,style:{listStyleType:"none"},className:"privacy-settings__categories-list"},ge.map((e=>o.default.createElement(g.Box,{marginTop:5,marginBottom:5,key:e.id,className:"categories-item",onClick:()=>me(e)},o.default.createElement(g.Box,{display:h.Display.Flex,alignItems:h.AlignItems.flexStart,justifyContent:h.JustifyContent.spaceBetween,"data-testid":`category-item-${e.title}`},o.default.createElement(g.Text,{variant:h.TextVariant.bodyLgMedium},e.title),o.default.createElement(m.default,{type:"inline",icon:o.default.createElement(g.Icon,{name:g.IconName.ArrowRight,color:h.IconColor.iconDefault}),onClick:()=>me(e)})),o.default.createElement(g.Text,{className:"description",variant:h.TextVariant.bodyMd,color:h.TextColor.textAlternative},e.subtitle))))))),o.default.createElement("div",{className:(0,r.default)("detail-view",{hidden:!I&&A})},o.default.createElement(g.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:5,display:h.Display.Flex,flexDirection:h.FlexDirection.Row,justifyContent:h.JustifyContent.flexStart},o.default.createElement(m.default,{"data-testid":"category-back-button",type:"inline",icon:o.default.createElement(g.Icon,{name:g.IconName.ArrowLeft,size:g.IconSize.Lg,color:h.IconColor.iconDefault}),onClick:()=>{O(!1),setTimeout((()=>{D(!0)}),N)}}),o.default.createElement(g.Box,{display:h.Display.Flex,alignItems:h.AlignItems.center,justifyContent:h.JustifyContent.center,width:h.BlockSize.Full},o.default.createElement(g.Text,{variant:h.TextVariant.headingLg,as:"h2"},null==M?void 0:M.title))),o.default.createElement("div",{className:"privacy-settings__settings","data-testid":"privacy-settings-settings"},1===(null==M?void 0:M.id)?o.default.createElement(o.default.Fragment,null,o.default.createElement(S.Setting,{dataTestId:"basic-functionality-toggle",value:ue,setValue:e=>{e?(t((0,v.onboardingToggleBasicFunctionalityOn)()),le({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_profile_syncing_on:!1}})):t((0,v.openBasicFunctionalityModal)())},title:e("basicConfigurationLabel"),description:e("basicConfigurationDescription",[o.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))])}),o.default.createElement(w.BackupAndSyncToggle,null),fe&&o.default.createElement(g.Box,{paddingBottom:4},o.default.createElement(g.Text,{as:"p",color:h.TextColor.errorDefault,variant:h.TextVariant.bodySm},e("notificationsSettingsBoxError"))),o.default.createElement(S.Setting,{title:e("onboardingAdvancedPrivacyNetworkTitle"),showToggle:!1,description:o.default.createElement(o.default.Fragment,null,e("onboardingAdvancedPrivacyNetworkDescription",[o.default.createElement("a",{href:"https://consensys.io/privacy-policy/",key:"link",target:"_blank",rel:"noopener noreferrer"},e("privacyMsg")),o.default.createElement("a",{href:f.default.ADD_SOLANA_ACCOUNTS,key:"link",target:"_blank",rel:"noopener noreferrer"},e("onboardingAdvancedPrivacyNetworkDescriptionCallToAction"))]),o.default.createElement(g.Box,{paddingTop:4},o.default.createElement(g.Box,{display:h.Display.Flex,flexDirection:h.FlexDirection.Column,gap:5},Object.values(ce).filter((({chainId:e})=>!k.TEST_CHAINS.includes(e))).map((e=>{var n,a;return o.default.createElement(g.Box,{key:e.chainId,className:"privacy-settings__customizable-network",onClick:()=>{t((0,T.setEditedNetwork)({chainId:e.chainId})),t((0,T.toggleNetworkMenu)())},display:h.Display.Flex,alignItems:h.AlignItems.center,justifyContent:h.JustifyContent.spaceBetween},o.default.createElement(g.Box,{display:h.Display.Flex,alignItems:h.AlignItems.center},o.default.createElement(g.AvatarNetwork,{src:k.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId]}),o.default.createElement(g.Box,{textAlign:h.TextAlign.Left,marginLeft:3},o.default.createElement(g.Text,{variant:h.TextVariant.bodySmMedium},e.name),o.default.createElement(g.Text,{variant:h.TextVariant.bodyXs,color:h.TextColor.textAlternative},null===(n=new URL(null==e||null===(a=e.rpcEndpoints[null==e?void 0:e.defaultRpcEndpointIndex])||void 0===a?void 0:a.url))||void 0===n?void 0:n.origin))),o.default.createElement(g.ButtonIcon,{iconName:g.IconName.ArrowRight,size:g.IconSize.Md}))})),o.default.createElement(g.ButtonLink,{onClick:()=>{t((0,T.toggleNetworkMenu)({isAddingNewNetwork:!0}))},justifyContent:h.JustifyContent.Left,variant:s.ButtonVariant.link},o.default.createElement(g.Box,{display:h.Display.Flex,alignItems:h.AlignItems.center},o.default.createElement(g.Icon,{name:g.IconName.Add,marginRight:3}),o.default.createElement(g.Text,{color:h.TextColor.primaryDefault},e("addANetwork")))))))})):null,2===(null==M?void 0:M.id)?o.default.createElement(o.default.Fragment,null,o.default.createElement(S.Setting,{value:q,setValue:J,title:e("turnOnTokenDetection"),description:e("useTokenDetectionPrivacyDesc")}),o.default.createElement(S.Setting,{value:Q,setValue:Z,title:e("simulationsSettingSubHeader"),description:e("simulationsSettingDescription",[o.default.createElement("a",{key:"learn_more_link",href:p.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))])}),o.default.createElement(S.Setting,{title:e("onboardingAdvancedPrivacyIPFSTitle"),showToggle:!1,description:o.default.createElement(o.default.Fragment,null,e("onboardingAdvancedPrivacyIPFSDescription"),o.default.createElement(g.Box,{paddingTop:2},o.default.createElement(g.TextField,{value:ee,style:{width:"100%"},inputProps:{"data-testid":"ipfs-input"},onChange:t=>{(t=>{te(t);try{const{host:e}=new URL((0,c.addUrlProtocolPrefix)(t));if(!e||"gateway.ipfs.io"===e)throw new Error;oe(null)}catch(t){oe(e("onboardingAdvancedPrivacyIPFSInvalid"))}})(t.target.value)}}),ee?o.default.createElement(g.Text,{variant:h.TextVariant.bodySm,color:ne?h.TextColor.errorDefault:h.TextColor.successDefault},ne||e("onboardingAdvancedPrivacyIPFSValid")):null))}),o.default.createElement(S.Setting,{value:H,setValue:K,title:e("currencyRateCheckToggle"),dataTestId:"currency-rate-check-toggle",description:e("currencyRateCheckToggleDescription",[o.default.createElement("a",{key:"coingecko_link",href:p.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),o.default.createElement("a",{key:"cryptocompare_link",href:p.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),o.default.createElement("a",{key:"privacy_policy_link",href:p.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))])}),o.default.createElement(S.Setting,{value:ae,setValue:ie,title:e("ensDomainsSettingTitle"),description:o.default.createElement(o.default.Fragment,null,o.default.createElement(g.Text,{variant:h.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),o.default.createElement(g.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},o.default.createElement(g.Text,{variant:h.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart1")),o.default.createElement(g.Text,{variant:h.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart2"))),o.default.createElement(g.Text,{variant:h.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))}),o.default.createElement(S.Setting,{value:Y,setValue:X,title:e("useMultiAccountBalanceChecker"),description:e("useMultiAccountBalanceCheckerSettingDescription")})):null,3===(null==M?void 0:M.id)?o.default.createElement(o.default.Fragment,null,o.default.createElement(S.Setting,{value:V,setValue:G,title:e("use4ByteResolution"),description:e("toggleDecodeDescription")}),o.default.createElement(S.Setting,{value:re,setValue:se,title:e("externalNameSourcesSetting"),description:e("externalNameSourcesSettingDescription")})):null)))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=e("react-router-dom"),r=I(e("classnames")),s=e("@metamask/snaps-sdk"),l=e("@metamask/profile-sync-controller/user-storage"),c=e("../../../../app/scripts/lib/util"),u=e("../../../hooks/identity/useBackupAndSync"),d=e("../../../../shared/constants/metametrics"),p=e("../../../../shared/lib/ui-utils"),f=I(e("../../../helpers/constants/zendesk-url")),m=I(e("../../../components/ui/button")),g=e("../../../components/component-library"),y=e("../../../contexts/metametrics"),h=e("../../../helpers/constants/design-system"),b=e("../../../helpers/constants/routes"),E=e("../../../hooks/useI18nContext"),x=e("../../../selectors"),C=e("../../../../shared/modules/selectors/networks"),T=e("../../../store/actions"),v=e("../../../ducks/app/app"),k=e("../../../../shared/constants/network"),_=e("../../../selectors/identity/backup-and-sync"),w=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle"),S=e("./setting");function I(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}const N=500}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/privacy-settings.js"}],[7601,{"../../../components/component-library":6474,"../../../components/ui/toggle-button":6925,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,"prop-types":5080,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Setting=void 0;var o=c(e("react")),a=c(e("prop-types")),i=e("../../../components/component-library"),r=c(e("../../../components/ui/toggle-button")),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}const u=({value:e,setValue:t,title:n,description:a,showToggle:c=!0,dataTestId:u,disabled:d=!1})=>{const p=(0,l.useI18nContext)();return o.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.flexStart,marginTop:3,marginBottom:3,className:"privacy-settings__setting__wrapper","data-testid":u},o.default.createElement("div",{className:"privacy-settings__setting"},o.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium},n),o.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative,as:"div"},a)),c?o.default.createElement("div",{className:"privacy-settings__setting__toggle"},o.default.createElement(r.default,{value:e,onToggle:e=>t(!e),offLabel:p("off"),onLabel:p("on"),disabled:d})):null)};n.Setting=u,u.propTypes={value:a.default.bool,setValue:a.default.func,title:a.default.string,description:a.default.oneOfType([a.default.object,a.default.string]),showToggle:a.default.bool,dataTestId:a.default.string,disabled:a.default.bool}}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/setting.js"}],[7602,{"../../../../shared/constants/app":5798,"../../../../shared/constants/metametrics":5810,"../../../../shared/lib/trace":5892,"../../../../shared/modules/browser-runtime.utils":5901,"../../../components/component-library":6474,"../../../contexts/metametrics":6947,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/useI18nContext":7109,"../../../selectors/selectors":7827,"../../../store/actions":7835,"./confirm-srp-modal":7603,"./recovery-phrase-chips":7604,"prop-types":5080,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom"),i=e("react-redux"),r=x(e("prop-types")),s=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),f=e("../../../selectors/selectors"),m=e("../../../helpers/constants/routes"),g=e("../../../../shared/constants/app"),y=e("../../../../shared/lib/trace"),h=e("../../../../shared/modules/browser-runtime.utils"),b=x(e("./confirm-srp-modal")),E=x(e("./recovery-phrase-chips"));function x(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}const T=e=>{const t=new Set,n=e.length;if(0===n)return[];for(;t.size<3;){const e=Math.floor(Math.random()*n);t.add(e)}return Array.from(t).map((t=>({index:t,word:e[t]})))};function v({secretRecoveryPhrase:e=""}){const t=(0,a.useHistory)(),n=(0,c.useI18nContext)(),r=(0,i.useDispatch)(),x=(0,o.useContext)(d.MetaMetricsContext),{bufferedEndTrace:C}=x,{search:v}=(0,a.useLocation)(),k=(0,i.useSelector)(f.getHDEntropyIndex),_=(0,o.useMemo)((()=>e?e.split(" "):[]),[e]),w=new URLSearchParams(v),S=w.get("isFromReminder"),I=w.get("isFromSettingsSecurity"),O=new URLSearchParams;S&&O.set("isFromReminder",S),I&&O.set("isFromSettingsSecurity",I);const N=O.toString(),[M,B]=(0,o.useState)(!1),[A,D]=(0,o.useState)(!1),[R,P]=(0,o.useState)(T(_)),[F,j]=(0,o.useState)("");(0,o.useEffect)((()=>{e||t.replace(`${m.ONBOARDING_REVEAL_SRP_ROUTE}/${N?`?${N}`:""}`)}),[t,e,N]);const L=(0,o.useCallback)((()=>{const e=T(_);P(e)}),[_]),W=(0,o.useCallback)((e=>{if(e.some((e=>!e.word)))j("");else{const t=[..._];e.forEach((e=>{t[e.index]=e.word})),j(t.join(" "))}}),[_]),$=(0,o.useCallback)((()=>{D(F===e),B(!0)}),[F,e]),U=(0,o.useCallback)((()=>{r((0,u.setSeedPhraseBackedUp)(!0)),x({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:k}}),null==C||C({name:y.TraceName.OnboardingNewSrpCreateWallet}),null==C||C({name:y.TraceName.OnboardingJourneyOverall});const e=(0,h.getBrowserName)()===g.PLATFORM_FIREFOX||S?m.ONBOARDING_COMPLETION_ROUTE:m.ONBOARDING_METAMETRICS;t.replace(`${e}${N?`?${N}`:""}`)}),[r,k,t,x,S,N,C]);return o.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:6,className:"recovery-phrase recovery-phrase__confirm","data-testid":"confirm-recovery-phrase"},o.default.createElement(s.Box,null,M&&o.default.createElement(b.default,{isError:!A,onContinue:U,onClose:()=>{L(),B(!1)}}),o.default.createElement(s.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},o.default.createElement(s.ButtonIcon,{iconName:s.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"confirm-recovery-phrase-back-button",onClick:()=>t.goBack(),ariaLabel:n("back")})),o.default.createElement(s.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},!S&&o.default.createElement(s.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},n("stepOf",[3,3])),o.default.createElement(s.Text,{variant:l.TextVariant.headingLg,as:"h2"},n("confirmRecoveryPhraseTitle"))),o.default.createElement(s.Box,{marginBottom:6},o.default.createElement(s.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},n("confirmRecoveryPhraseDetails"))),_.length>0&&o.default.createElement(E.default,{secretRecoveryPhrase:_,quizWords:R,confirmPhase:!0,setInputValue:W})),o.default.createElement(s.Box,{width:l.BlockSize.Full},o.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,width:l.BlockSize.Full,"data-testid":"recovery-phrase-confirm",size:s.ButtonSize.Lg,className:"recovery-phrase__footer__confirm--button",onClick:()=>$(),disabled:""===F.trim()},n("continue"))))}v.propTypes={secretRecoveryPhrase:r.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-recovery-phrase.js"}],[7603,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onContinue:e,onClose:t,isError:n}){const o=(0,r.useI18nContext)();return a.default.createElement(s.Modal,{isOpen:!0,onClose:()=>null,className:"confirm-srp-modal","data-testid":"confirm-srp-modal"},a.default.createElement(s.ModalOverlay,null),a.default.createElement(s.ModalContent,{alignItems:i.AlignItems.center},a.default.createElement(s.ModalHeader,null,a.default.createElement(s.Box,{textAlign:i.TextAlign.Center},a.default.createElement(s.Icon,{name:n?s.IconName.CircleX:s.IconName.Confirmation,size:s.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:n?i.IconColor.errorDefault:i.IconColor.successDefault}),a.default.createElement(s.Text,{variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center,marginTop:2,as:"h2"},o(n?"confirmSrpErrorTitle":"confirmSrpSuccessTitle")))),a.default.createElement(s.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(s.Text,{variant:i.TextVariant.bodyMd},o(n?"confirmSrpErrorDescription":"confirmSrpSuccessDescription")),a.default.createElement(s.Box,{marginTop:6},a.default.createElement(s.Button,{"data-testid":"confirm-srp-modal-button",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,onClick:()=>{n?t():e()},block:!0},o(n?"tryAgain":"gotIt"))))))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../helpers/constants/design-system"),r=e("../../../hooks/useI18nContext"),s=e("../../../components/component-library")}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-srp-modal.tsx"}],[7604,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,classnames:4139,"prop-types":5080,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=c(e("classnames")),i=c(e("prop-types")),r=e("../../../components/component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({secretRecoveryPhrase:e,phraseRevealed:t=!0,revealPhrase:n,confirmPhase:i,quizWords:c=[],setInputValue:u}){const d=(0,s.useI18nContext)(),p=e,f=(0,o.useMemo)((()=>c.map((e=>e.index))),[c]),[m,g]=(0,o.useState)(f.map((e=>({index:e,word:"",actualIndexInSrp:-1})))),y=e=>{const t=e.reduce(((e,t)=>(""===t.word&&e.push(t.index),e)),[]);return t.length?Math.min(...t):-1},[h,b]=(0,o.useState)(y(m)),E=(0,o.useCallback)(((e,t)=>{const n=[...m],o=n.findIndex((e=>e.index===h));n[o]={index:h,word:e,actualIndexInSrp:t},g(n),b(y(n))}),[m,h]),x=(0,o.useCallback)((e=>{const t=[...m],n=t.findIndex((t=>t.word===e));t[n]={...t[n],word:"",actualIndexInSrp:-1},g(t),b(t[n].index)}),[m]);return(0,o.useEffect)((()=>{null==u||u(m)}),[m,u]),(0,o.useEffect)((()=>{if(c.length){const e=c.map((e=>({index:e.index,word:"",actualIndexInSrp:-1})));g(e),b(y(e))}}),[c]),o.default.createElement(r.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},o.default.createElement(r.Box,{padding:4,borderRadius:l.BorderRadius.LG,display:l.Display.Grid,width:l.BlockSize.Full,backgroundColor:l.BackgroundColor.backgroundSection,className:"recovery-phrase__secret"},o.default.createElement(r.Box,{display:l.Display.Grid,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,gap:2,"data-testid":"recovery-phrase-chips","data-recovery-phrase":e.join(":"),"data-quiz-words":JSON.stringify(c),className:(0,a.default)("recovery-phrase__chips",{"recovery-phrase__chips--hidden":!t})},p.map(((e,t)=>{var n;const a=f.includes(t),s=a?(null===(n=m.find((e=>e.index===t)))||void 0===n?void 0:n.word)||"":e,c=t===h;return a||!i?o.default.createElement(r.Box,{as:a?"button":"div","data-testid":`recovery-phrase-chip-${t}`,className:"recovery-phrase__text",display:l.Display.Flex,alignItems:l.AlignItems.center,backgroundColor:l.BackgroundColor.backgroundDefault,borderColor:c?l.BorderColor.primaryDefault:l.BorderColor.borderMuted,borderWidth:c?2:1,borderRadius:l.BorderRadius.LG,paddingInline:2,paddingTop:1,paddingBottom:1,gap:1,onClick:()=>{a&&(""===s?b(t):x(s))}},o.default.createElement(r.Text,{color:l.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),o.default.createElement(r.Text,null,a?s:e)):o.default.createElement(r.TextField,{testId:`recovery-phrase-chip-${t}`,key:t,value:s,startAccessory:o.default.createElement(r.Text,{color:l.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),type:"password",disabled:!0,readOnly:!0})}))),!t&&o.default.createElement(r.Box,{width:l.BlockSize.Full,height:l.BlockSize.Full,className:"recovery-phrase__secret-blocker-container"},o.default.createElement(r.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,borderRadius:l.BorderRadius.SM,width:l.BlockSize.Full,height:l.BlockSize.Full,paddingTop:2,paddingBottom:9,paddingInline:0,className:"recovery-phrase__secret-blocker"}),o.default.createElement(r.Box,{as:"button",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,backgroundColor:l.BackgroundColor.transparent,height:l.BlockSize.Full,width:l.BlockSize.Full,gap:2,className:"recovery-phrase__secret-blocker-text",onClick:()=>{null==n||n()},"data-testid":"recovery-phrase-reveal"},o.default.createElement(r.Icon,{name:r.IconName.EyeSlash,color:l.IconColor.iconDefault,size:r.IconSize.Md}),o.default.createElement(r.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,fontWeight:l.FontWeight.Medium},d("tapToReveal")),o.default.createElement(r.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textDefault},d("tapToRevealNote"))))),3===c.length&&o.default.createElement(r.Box,{display:l.Display.Flex,gap:2,width:l.BlockSize.Full},c.map((t=>{const n=t.index;return m.some((e=>e.actualIndexInSrp===n))?o.default.createElement(r.ButtonBase,{"data-testid":`recovery-phrase-quiz-answered-${n}`,key:t.index,color:l.TextColor.textAlternative,borderRadius:l.BorderRadius.LG,block:!0,onClick:()=>{x(t.word)}},e[n]):o.default.createElement(r.Button,{"data-testid":`recovery-phrase-quiz-unanswered-${n}`,key:t.index,variant:r.ButtonVariant.Secondary,borderRadius:l.BorderRadius.LG,block:!0,onClick:()=>{E(t.word,n)}},e[n])}))))}d.propTypes={secretRecoveryPhrase:i.default.array,phraseRevealed:i.default.bool,revealPhrase:i.default.func,confirmPhase:i.default.bool,quizWords:i.default.array,setInputValue:i.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/recovery-phrase-chips.js"}],[7605,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/useI18nContext":7109,"../../../store/actions":7835,react:5262,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({setSecretRecoveryPhrase:e}){const t=(0,a.useHistory)(),n=(0,i.useI18nContext)(),{search:u}=(0,a.useLocation)(),d=new URLSearchParams(u),p=d.get("isFromReminder"),f=d.get("isFromSettingsSecurity"),m=new URLSearchParams;p&&m.set("isFromReminder",p);f&&m.set("isFromSettingsSecurity",f);const g=m.toString(),[y,h]=(0,o.useState)(""),[b,E]=(0,o.useState)(!1),x=(0,o.useCallback)((async n=>{try{const o=await(0,l.getSeedPhrase)(n);e(o),t.replace(`${c.ONBOARDING_REVIEW_SRP_ROUTE}/${g?`?${g}`:""}`)}catch(e){E(!0)}}),[e,t,g]),C=(0,o.useCallback)((()=>{f?t.replace(c.REVEAL_SRP_LIST_ROUTE):t.replace(c.DEFAULT_ROUTE)}),[t,f]);return o.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,height:s.BlockSize.Full,gap:6,className:"reveal-recovery-phrase","data-testid":"reveal-recovery-phrase"},o.default.createElement(r.Box,{width:s.BlockSize.Full},o.default.createElement(r.Box,{className:"recovery-phrase__header",display:s.Display.Grid,alignItems:s.AlignItems.center,gap:3,marginBottom:4,width:s.BlockSize.Full},o.default.createElement(r.ButtonIcon,{iconName:r.IconName.ArrowLeft,color:s.IconColor.iconDefault,size:r.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-back-button",onClick:C,ariaLabel:n("back")}),o.default.createElement(r.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center},n("revealSecretRecoveryPhrase")),o.default.createElement(r.ButtonIcon,{iconName:r.IconName.Close,color:s.IconColor.iconDefault,size:r.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-close-button",onClick:C,ariaLabel:n("close")})),o.default.createElement(r.Box,{width:s.BlockSize.Full,as:"form",onSubmit:e=>{e.preventDefault(),x(y)}},o.default.createElement(r.FormTextField,{size:r.FormTextFieldSize.Lg,id:"account-details-authenticate",label:n("enterYourPasswordContinue"),onChange:e=>{h(e.target.value),E(!1)},value:y,error:b,helpText:b?n("unlockPageIncorrectPassword"):null,type:r.TextFieldType.Password,labelProps:{fontWeight:s.FontWeight.Medium},autoFocus:!0}))),o.default.createElement(r.Box,{width:s.BlockSize.Full},o.default.createElement(r.Button,{width:s.BlockSize.Full,variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,"data-testid":"reveal-recovery-phrase-continue",className:"reveal-recovery-phrase__footer--button",onClick:()=>x(y)},n("continue"))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom"),i=e("../../../hooks/useI18nContext"),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../store/actions"),c=e("../../../helpers/constants/routes");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/reveal-recovery-phrase.tsx"}],[7606,{"../../../../shared/constants/metametrics":5810,"../../../components/app/srp-details-modal":6342,"../../../components/component-library":6474,"../../../contexts/metametrics":6947,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/useI18nContext":7109,"../../../selectors/selectors":7827,"./recovery-phrase-chips":7604,"prop-types":5080,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom"),i=e("react-redux"),r=y(e("prop-types")),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/metametrics"),p=e("../../../contexts/metametrics"),f=e("../../../selectors/selectors"),m=y(e("../../../components/app/srp-details-modal")),g=y(e("./recovery-phrase-chips"));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function b({secretRecoveryPhrase:e}){const t=(0,a.useHistory)(),n=(0,s.useI18nContext)(),{search:r}=(0,a.useLocation)(),y=(0,i.useSelector)(f.getHDEntropyIndex),[h,b]=(0,o.useState)(!1),[E,x]=(0,o.useState)(!1),C=new URLSearchParams(r),T=C.get("isFromReminder"),v=C.get("isFromSettingsSecurity"),k=new URLSearchParams;T&&k.set("isFromReminder",T),v&&k.set("isFromSettingsSecurity",v);const _=k.toString();(0,o.useEffect)((()=>{e||t.replace(`${l.ONBOARDING_REVEAL_SRP_ROUTE}/${_?`?${_}`:""}`)}),[t,e,_]);const w=(0,o.useContext)(p.MetaMetricsContext),S=(0,o.useCallback)((()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletSecurityPhraseWrittenDown,properties:{hd_entropy_index:y}}),t.push(`${l.ONBOARDING_CONFIRM_SRP_ROUTE}${_?`?${_}`:""}`)}),[y,t,w,_]),I=(0,o.useCallback)((()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"review_recovery_phrase"}}),x(!0)}),[w]);return o.default.createElement(c.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.Center,height:u.BlockSize.Full,gap:6,className:"recovery-phrase","data-testid":"recovery-phrase"},o.default.createElement(c.Box,null,E&&o.default.createElement(m.default,{onClose:()=>x(!1)}),o.default.createElement(c.Box,{justifyContent:u.JustifyContent.flexStart,marginBottom:4,width:u.BlockSize.Full},o.default.createElement(c.ButtonIcon,{iconName:c.IconName.ArrowLeft,color:u.IconColor.iconDefault,size:c.ButtonIconSize.Md,"data-testid":"review-srp-back-button",onClick:()=>t.goBack(),ariaLabel:n("back")})),o.default.createElement(c.Box,{justifyContent:u.JustifyContent.flexStart,marginBottom:4,width:u.BlockSize.Full},!T&&o.default.createElement(c.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textAlternative},n("stepOf",[2,3])),o.default.createElement(c.Text,{variant:u.TextVariant.headingLg,as:"h2"},n("seedPhraseReviewTitle"))),o.default.createElement(c.Box,{marginBottom:6},o.default.createElement(c.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textAlternative,marginBottom:6},n("seedPhraseReviewDetails",[o.default.createElement(c.ButtonLink,{key:"seedPhraseReviewDetails",size:c.ButtonLinkSize.Inherit,onClick:I},n("secretRecoveryPhrase")),o.default.createElement(c.Text,{key:"seedPhraseReviewDetails2",fontWeight:u.FontWeight.Medium,color:u.TextColor.textAlternative},n("seedPhraseReviewDetails2"))]))),o.default.createElement(g.default,{secretRecoveryPhrase:e.split(" "),phraseRevealed:h,revealPhrase:()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletSecurityPhraseRevealed,properties:{hd_entropy_index:y}}),b(!0)}})),o.default.createElement(c.Box,{width:u.BlockSize.Full},o.default.createElement(c.Button,{width:u.BlockSize.Full,variant:c.ButtonVariant.Primary,size:c.ButtonSize.Lg,"data-testid":"recovery-phrase-continue",className:"recovery-phrase__footer--button",disabled:!h,onClick:S},n("continue"))))}b.propTypes={secretRecoveryPhrase:r.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/review-recovery-phrase.js"}],[7607,{"../../../../shared/constants/metametrics":5810,"../../../components/app/srp-details-modal":6342,"../../../components/component-library":6474,"../../../contexts/metametrics":6947,"../../../ducks/metamask/metamask":6971,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"./skip-srp-backup-popover":7608,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useHistory)(),t=(0,s.useI18nContext)(),{search:n}=(0,a.useLocation)(),y=(0,i.useSelector)(p.getHDEntropyIndex),[h,b]=(0,o.useState)(!1),[E,x]=(0,o.useState)(!1),C=new URLSearchParams(n).get("isFromReminder")?"/?isFromReminder=true":"",T=(0,i.useSelector)(p.getIsSocialLoginFlow),v=(0,i.useSelector)(m.getCompletedOnboarding),k=(0,o.useContext)(l.MetaMetricsContext),_=(0,o.useCallback)((()=>{k({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"secure_your_wallet"}}),x(!0)}),[k]),w=()=>{k({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecurityStarted,properties:{hd_entropy_index:y??0}}),e.push(`${c.ONBOARDING_REVIEW_SRP_ROUTE}/${C}`)};return(0,o.useEffect)((()=>{!v&&T&&e.replace(c.ONBOARDING_WELCOME_ROUTE)}),[v,e,T]),o.default.createElement(d.Box,{display:r.Display.Flex,justifyContent:r.JustifyContent.spaceBetween,alignItems:r.AlignItems.flexStart,flexDirection:r.FlexDirection.Column,gap:4,height:r.BlockSize.Full,className:"secure-your-wallet","data-testid":"secure-your-wallet"},o.default.createElement(d.Box,null,h&&o.default.createElement(g.default,{onClose:()=>b(!1),secureYourWallet:w}),E&&o.default.createElement(f.default,{onClose:()=>x(!1)}),o.default.createElement(d.Box,{justifyContent:r.JustifyContent.flexStart,marginBottom:4,width:r.BlockSize.Full},o.default.createElement(d.Text,{variant:r.TextVariant.bodyMd,color:r.TextColor.textAlternative},t("stepOf",[2,3])),o.default.createElement(d.Text,{variant:r.TextVariant.headingLg,as:"h2"},t("seedPhraseIntroTitle"))),o.default.createElement(d.Box,{className:"secure-your-wallet__srp-design-container",marginBottom:6,width:r.BlockSize.Full,textAlign:r.TextAlign.Center},o.default.createElement("img",{className:"secure-your-wallet__srp-design-image",src:"./images/srp-lock-design.png",alt:t("srpDesignImageAlt")})),o.default.createElement(d.Box,null,o.default.createElement(d.Text,{color:r.TextColor.textAlternative,marginBottom:6,as:"div"},t("secureWalletWalletSaveSrp",[[o.default.createElement(d.ButtonLink,{key:"secureWalletWalletSaveSrp",size:d.ButtonLinkSize.Inherit,onClick:_},t("secretRecoveryPhrase"))]])),o.default.createElement(d.Text,{color:r.TextColor.textAlternative},t("secureWalletWalletRecover")))),o.default.createElement(d.Box,{width:r.BlockSize.Full,display:r.Display.Flex,flexDirection:r.FlexDirection.Column,gap:4},o.default.createElement(d.Button,{"data-testid":"secure-wallet-recommended",size:d.ButtonSize.Lg,block:!0,onClick:w},t("secureWalletGetStartedButton")),o.default.createElement(d.Button,{"data-testid":"secure-wallet-later",variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,block:!0,onClick:()=>{k({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipInitiated,properties:{hd_entropy_index:y??0}}),b(!0)}},t("secureWalletRemindLaterButton"))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-router-dom"),i=e("react-redux"),r=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../contexts/metametrics"),c=e("../../../helpers/constants/routes"),u=e("../../../../shared/constants/metametrics"),d=e("../../../components/component-library"),p=e("../../../selectors"),f=y(e("../../../components/app/srp-details-modal")),m=e("../../../ducks/metamask/metamask"),g=y(e("./skip-srp-backup-popover"));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/secure-your-wallet/secure-your-wallet.js"}],[7608,{"../../../../shared/constants/app":5798,"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/onboarding":5816,"../../../../shared/lib/trace":5892,"../../../../shared/modules/browser-runtime.utils":5901,"../../../components/component-library":6474,"../../../contexts/metametrics":6947,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"../../../selectors/selectors":7827,"../../../store/actions":7835,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,secureYourWallet:t}){const[n,E]=(0,i.useState)(!1),x=(0,r.useI18nContext)(),C=(0,a.useDispatch)(),T=(0,a.useSelector)(d.getHDEntropyIndex),v=(0,a.useSelector)(g.getFirstTimeFlowType),k=(0,i.useContext)(c.MetaMetricsContext),{bufferedEndTrace:_}=k,w=(0,o.useHistory)(),S=(0,i.useCallback)((async()=>{await C((0,p.setSeedPhraseBackedUp)(!1)),k({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipConfirmed,properties:{hd_entropy_index:T}}),null==_||_({name:b.TraceName.OnboardingNewSrpCreateWallet}),null==_||_({name:b.TraceName.OnboardingJourneyOverall}),(0,h.getBrowserName)()===m.PLATFORM_FIREFOX||v===y.FirstTimeFlowType.restore?w.push(f.ONBOARDING_COMPLETION_ROUTE):w.push(f.ONBOARDING_METAMETRICS)}),[C,v,T,w,k,_]);return i.default.createElement(l.Modal,{isOpen:!0,onClose:e,className:"skip-srp-backup-modal","data-testid":"skip-srp-backup-modal"},i.default.createElement(l.ModalOverlay,null),i.default.createElement(l.ModalContent,{alignItems:s.AlignItems.center},i.default.createElement(l.ModalHeader,{onClose:e},i.default.createElement(l.Box,{textAlign:s.TextAlign.Center},i.default.createElement(l.Icon,{name:l.IconName.Danger,size:l.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:s.IconColor.errorDefault}),i.default.createElement(l.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center,marginTop:4,as:"h3"},x("skipAccountSecurity")))),i.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},i.default.createElement(l.Checkbox,{id:"skip-srp-backup__checkbox",className:"skip-srp-backup__checkbox","data-testid":"skip-srp-backup-checkbox",isChecked:n,alignItems:s.AlignItems.flexStart,onChange:()=>{E(!n)},label:x("skipAccountSecurityDetails")}),i.default.createElement(l.Box,{display:s.Display.Flex,marginTop:6,gap:4},i.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,size:l.ButtonSize.Lg,onClick:()=>{k({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipCanceled,properties:{hd_entropy_index:T}}),t()},block:!0},x("skipAccountSecuritySecureNow")),i.default.createElement(l.Button,{"data-testid":"skip-srp-backup-button",size:l.ButtonSize.Lg,disabled:!n,onClick:S,block:!0,danger:!0},x("skipAccountSecuritySkip"))))))};var o=e("react-router-dom"),a=e("react-redux"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),d=e("../../../selectors/selectors"),p=e("../../../store/actions"),f=e("../../../helpers/constants/routes"),m=e("../../../../shared/constants/app"),g=e("../../../selectors"),y=e("../../../../shared/constants/onboarding"),h=e("../../../../shared/modules/browser-runtime.utils"),b=e("../../../../shared/lib/trace");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/secure-your-wallet/skip-srp-backup-popover.tsx"}],[7609,{"../../../../shared/constants/metametrics":5810,"../../../components/component-library":6474,"../../../contexts/metametrics":6947,"../../../helpers/constants/common":6982,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,"./types":7611,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,loginError:t}){const n=(0,i.useI18nContext)(),d=(0,o.useContext)(c.MetaMetricsContext);return o.default.createElement(r.Modal,{isOpen:!0,onClose:e,"data-testid":"login-error-modal"},o.default.createElement(r.ModalOverlay,null),o.default.createElement(r.ModalContent,{alignItems:a.AlignItems.center},o.default.createElement(r.ModalHeader,{onClose:e},o.default.createElement(r.Box,{textAlign:a.TextAlign.Center},o.default.createElement(r.Icon,{name:r.IconName.Danger,size:r.IconSize.Xl,color:a.IconColor.warningDefault}),o.default.createElement(r.Text,{variant:a.TextVariant.headingMd,textAlign:a.TextAlign.Center,marginTop:4},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectTitle"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredTitle"):n("loginErrorGenericTitle")))),o.default.createElement(r.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(r.Text,{variant:a.TextVariant.bodyMd},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectDescription"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredDescription"):n("loginErrorGenericDescription",[o.default.createElement(r.ButtonLink,{key:"loginErrorGenericDescription",size:r.ButtonLinkSize.Inherit,externalLink:!0,href:l.SUPPORT_LINK,onClick:()=>{d({category:s.MetaMetricsEventCategory.Onboarding,event:s.MetaMetricsEventName.SupportLinkClicked,properties:{url:l.SUPPORT_LINK,location:"Welcome page"}},{contextPropsIntoEventProperties:[s.MetaMetricsContextProp.PageTitle]})}},n("loginErrorGenericSupport"))])),o.default.createElement(r.Box,{marginTop:6},o.default.createElement(r.Button,{"data-testid":"login-error-modal-button",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,onClick:e,block:!0},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectButton"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredButton"):n("loginErrorGenericButton"))))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),r=e("../../../components/component-library"),s=e("../../../../shared/constants/metametrics"),l=e("../../../helpers/constants/common"),c=e("../../../contexts/metametrics"),u=e("./types");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-error-modal.tsx"}],[761,{"./RegistryType":750,"./ScriptExpression":751,"./utils":763},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const o=e("./utils"),a=e("./RegistryType"),i=e("./ScriptExpression"),r=Object.values(a.RegistryTypes).filter((e=>!!e.getTag())).map((e=>e.getTag())),s=Object.values(i.ScriptExpressions).map((e=>e.getTag()));(0,o.patchTags)(r.concat(s))}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/patchCBOR.js"}],[7610,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,"./types":7611,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SocialButton=void 0,n.default=function({onClose:e,loginOption:t,handleLogin:n}){const o=(0,s.useI18nContext)();return a.default.createElement(i.Modal,{isOpen:!0,onClose:e,className:"options-modal",isClosedOnOutsideClick:!1},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,{size:i.ModalContentSize.Sm,alignItems:r.AlignItems.center},a.default.createElement(i.ModalHeader,{onClose:e},a.default.createElement(i.Text,{textAlign:r.TextAlign.Center,variant:r.TextVariant.headingMd},o("onboardingOptionTitle"))),a.default.createElement(i.Box,{paddingInline:4},a.default.createElement(u,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-google-button":"onboarding-create-with-google-button",icon:a.default.createElement("img",{src:"images/icons/google.svg",className:"options-modal__social-icon",alt:o("onboardingOptionIcon",["Google"])}),label:t===l.LOGIN_OPTION.EXISTING?o("onboardingSignInWith",["Google"]):o("onboardingContinueWith",["Google"]),marginBottom:4,onClick:()=>n(l.LOGIN_TYPE.GOOGLE)}),a.default.createElement(u,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-apple-button":"onboarding-create-with-apple-button",icon:a.default.createElement(i.Icon,{name:i.IconName.Apple,color:r.IconColor.iconDefault,size:i.IconSize.Lg}),label:t===l.LOGIN_OPTION.EXISTING?o("onboardingSignInWith",["Apple"]):o("onboardingContinueWith",["Apple"]),marginBottom:2,onClick:()=>n(l.LOGIN_TYPE.APPLE)}),a.default.createElement(i.Box,{alignItems:r.AlignItems.center,marginBottom:4,className:"options-modal__or"},a.default.createElement(i.Text,{width:r.BlockSize.Min,variant:r.TextVariant.bodyMd,fontWeight:r.FontWeight.Medium,color:r.TextColor.textMuted,backgroundColor:r.BackgroundColor.backgroundDefault,paddingInline:2,marginInline:"auto",textTransform:r.TextTransform.Uppercase,as:"div",style:{position:"relative",zIndex:1}},o("or"))),a.default.createElement(i.Button,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-srp-button":"onboarding-create-with-srp-button",variant:i.ButtonVariant.Secondary,width:r.BlockSize.Full,size:i.ButtonSize.Lg,onClick:()=>n(l.LOGIN_TYPE.SRP)},t===l.LOGIN_OPTION.EXISTING?o("onboardingSrpImport"):o("onboardingSrpCreate")))))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("./types");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(null,arguments)}const u=n.SocialButton=a.default.forwardRef((({icon:e,label:t,...n},o)=>a.default.createElement(i.Text,c({ref:o,as:"button",className:"options-modal__plain-button",display:r.Display.Flex,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,width:r.BlockSize.Full,borderRadius:r.BorderRadius.XL,borderColor:r.BorderColor.borderMuted,backgroundColor:r.BackgroundColor.transparent,gap:2},n),e,a.default.createElement(i.Text,{variant:r.TextVariant.bodyMd,fontWeight:r.FontWeight.Medium},t))))}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-options.tsx"}],[7611,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomePageState=n.LOGIN_TYPE=n.LOGIN_OPTION=n.LOGIN_ERROR=void 0;n.LOGIN_TYPE={GOOGLE:"google",APPLE:"apple",SRP:"srp"},n.LOGIN_OPTION={NEW:"new",EXISTING:"existing"},n.WelcomePageState={Banner:"Banner",Login:"Login"},n.LOGIN_ERROR={UNABLE_TO_CONNECT:"unable_to_connect",GENERIC:"generic",SESSION_EXPIRED:"session_expired"}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/types.ts"}],[7612,{"../../../components/app/terms-of-use-popup":6358,"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,"../../../store/actions":7835,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onAccept:e}){const t=(0,c.useI18nContext)(),n=(0,i.useDispatch)(),[o,d]=(0,a.useState)(!1),p=(0,a.useCallback)((()=>{d(!1),n((0,u.setTermsOfUseLastAgreed)((new Date).getTime())),e()}),[n,e]);return a.default.createElement(r.Box,{className:"welcome-banner",paddingInline:6},a.default.createElement(r.Box,{className:"welcome-banner__wrapper",width:s.BlockSize.Full},a.default.createElement(r.Text,{"data-testid":"onboarding-welcome-banner-title",className:"welcome-banner__title",as:"h2",textTransform:s.TextTransform.Uppercase,marginBottom:8},t("welcomeTitle")),a.default.createElement(r.Text,{variant:s.TextVariant.bodyLgMedium,className:"welcome-banner__description",marginBottom:6},t("welcomeDescription")),a.default.createElement(r.Button,{"data-testid":"onboarding-get-started-button",className:"welcome-banner__button",size:r.ButtonSize.Lg,onClick:()=>d(!0),endIconName:r.IconName.Arrow2Right,textTransform:s.TextTransform.Uppercase,borderRadius:s.BorderRadius.pill},t("welcomeGetStarted"))),o&&a.default.createElement(l.default,{onAccept:p,onClose:()=>d(!1)}))};var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("react-redux"),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),l=(o=e("../../../components/app/terms-of-use-popup"))&&o.__esModule?o:{default:o},c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-banner.tsx"}],[7613,{"../../../../shared/constants/preferences":5818,"../../../../shared/modules/environment":5905,"../../../components/component-library":6474,"../../../components/ui/mascot":6882,"../../../helpers/constants/design-system":6984,"../../../helpers/utils/build-types":7008,"../../../hooks/useI18nContext":7109,"./login-options":7610,"./types":7611,classnames:4139,events:4454,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onLogin:e}){const t=(0,c.useI18nContext)(),n=(0,a.useRef)(new o.default),[g,y]=(0,a.useState)(!1),[h,b]=(0,a.useState)(null),E=(0,d.getIsSeedlessOnboardingFeatureEnabled)(),x=(0,a.useCallback)((async t=>{h&&(y(!1),await e(t,h))}),[h,e]);return a.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,gap:4,marginInline:"auto",marginTop:2,padding:6,className:"welcome-login","data-testid":"get-started"},a.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,className:"welcome-login__content"},a.default.createElement(s.Box,{className:(0,i.default)("welcome-login__mascot",{"welcome-login__mascot--image":(0,u.isFlask)()||(0,u.isBeta)()})},(0,u.isFlask)()||(0,u.isBeta)()?a.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"178",height:"178"}):a.default.createElement(r.default,{animationEventEmitter:n.current,width:"268",height:"268"})),a.default.createElement(s.Text,{marginInline:5,textAlign:l.TextAlign.Center,as:"h2",className:"welcome-login__title","data-testid":"onboarding-welcome"},t("welcomeToMetaMask"),"!")),a.default.createElement(s.Box,{"data-theme":p.ThemeType.light,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},a.default.createElement(s.Button,{"data-testid":"onboarding-create-wallet",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,block:!0,onClick:async()=>{y(!0),b(m.LOGIN_OPTION.NEW),E||await e(m.LOGIN_TYPE.SRP,m.LOGIN_OPTION.NEW)}},t("onboardingCreateWallet")),a.default.createElement(s.Button,{"data-testid":"onboarding-import-wallet",variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,block:!0,onClick:async()=>{y(!0),b(m.LOGIN_OPTION.EXISTING),E||await e(m.LOGIN_TYPE.SRP,m.LOGIN_OPTION.EXISTING)}},t(E?"onboardingImportWallet":"onboardingSrpImport"))),E&&g&&h&&a.default.createElement(f.default,{loginOption:h,onClose:()=>{b(null)},handleLogin:x}))};var o=y(e("events")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=y(e("classnames")),r=y(e("../../../components/ui/mascot")),s=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/utils/build-types"),d=e("../../../../shared/modules/environment"),p=e("../../../../shared/constants/preferences"),f=y(e("./login-options")),m=e("./types");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-login.tsx"}],[7614,{"../../../../shared/constants/app":5798,"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/onboarding":5816,"../../../../shared/lib/trace":5892,"../../../../shared/modules/browser-runtime.utils":5901,"../../../../shared/modules/environment":5905,"../../../../shared/modules/error":5906,"../../../components/ui/loading-screen":6876,"../../../contexts/metametrics":6947,"../../../helpers/constants/routes":6989,"../../../selectors":7812,"../../../store/actions":7835,"./login-error-modal":7609,"./types":7611,"./welcome-banner":7612,"./welcome-login":7613,loglevel:4920,"prop-types":5080,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=w;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=k(e("prop-types")),i=e("react-redux"),r=e("react-router-dom"),s=k(e("loglevel")),l=e("../../../helpers/constants/routes"),c=e("../../../selectors"),u=e("../../../../shared/constants/onboarding"),d=e("../../../contexts/metametrics"),p=e("../../../store/actions"),f=k(e("../../../components/ui/loading-screen")),m=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/modules/environment"),y=e("../../../../shared/modules/browser-runtime.utils"),h=e("../../../../shared/constants/app"),b=e("../../../../shared/modules/error"),E=e("../../../../shared/lib/trace"),x=k(e("./welcome-login")),C=k(e("./welcome-banner")),T=e("./types"),v=k(e("./login-error-modal"));function k(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function w({pageState:e=T.WelcomePageState.Banner,setPageState:t}){const n=(0,i.useDispatch)(),a=(0,r.useHistory)(),k=(0,i.useSelector)(c.getCurrentKeyring),_=(0,g.getIsSeedlessOnboardingFeatureEnabled)(),w=(0,i.useSelector)(c.getFirstTimeFlowType),S=(0,i.useSelector)(c.getIsParticipateInMetaMetricsSet),[I,O]=(0,o.useState)(!1),[N,M]=(0,o.useState)(!1),[B,A]=(0,o.useState)(null);(0,o.useEffect)((()=>{k&&!I&&(w===u.FirstTimeFlowType.import||w===u.FirstTimeFlowType.socialImport||w===u.FirstTimeFlowType.restore?a.replace(S?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS):w===u.FirstTimeFlowType.socialCreate?(0,y.getBrowserName)()===h.PLATFORM_FIREFOX?a.replace(l.ONBOARDING_COMPLETION_ROUTE):a.replace(l.ONBOARDING_METAMETRICS):a.replace(l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE))}),[k,a,w,I,S]);const D=(0,o.useContext)(d.MetaMetricsContext),{bufferedTrace:R,bufferedEndTrace:P,onboardingParentContext:F}=D,j=(0,o.useCallback)((async()=>{M(!0),O(!0),await n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.create)),D({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:m.MetaMetricsEventAccountType.Default}}),null==R||R({name:E.TraceName.OnboardingNewSrpCreateWallet,op:E.TraceOperation.OnboardingUserJourney,parentContext:null==F?void 0:F.current}),a.push(l.ONBOARDING_CREATE_PASSWORD_ROUTE)}),[n,a,D,F,R]),L=(0,o.useCallback)((async()=>{M(!0),await n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.import)),D({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImportStarted,properties:{account_type:m.MetaMetricsEventAccountType.Imported}}),null==R||R({name:E.TraceName.OnboardingExistingSrpImport,op:E.TraceOperation.OnboardingUserJourney,parentContext:null==F?void 0:F.current}),a.push(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE)}),[n,a,D,F,R]),W=(0,o.useCallback)((async e=>{if(_){null==R||R({name:E.TraceName.OnboardingSocialLoginAttempt,op:E.TraceOperation.OnboardingUserJourney,tags:{provider:e},parentContext:null==F?void 0:F.current});const t=await n((0,p.startOAuthLogin)(e,R,P));return null==P||P({name:E.TraceName.OnboardingSocialLoginAttempt}),t}return!0}),[n,_,F,R,P]),$=(0,o.useCallback)(((e,t)=>{const n=e instanceof Error?e.message:"Unknown error";null==R||R({name:E.TraceName.OnboardingSocialLoginError,op:E.TraceOperation.OnboardingError,tags:{provider:t,errorMessage:n},parentContext:F.current}),null==P||P({name:E.TraceName.OnboardingSocialLoginError}),null==P||P({name:E.TraceName.OnboardingSocialLoginAttempt,data:{success:!1}})}),[F,R,P]),U=(0,o.useCallback)((async e=>{M(!0),O(!0),await n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.socialCreate)),D({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${m.MetaMetricsEventAccountType.Default}_${e}`}});try{const t=await W(e);D({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${m.MetaMetricsEventAccountType.Default}_${e}`}}),t?(null==R||R({name:E.TraceName.OnboardingNewSocialCreateWallet,op:E.TraceOperation.OnboardingUserJourney,parentContext:F.current}),a.replace(l.ONBOARDING_CREATE_PASSWORD_ROUTE)):a.replace(l.ONBOARDING_ACCOUNT_EXIST)}catch(t){$(t,e)}finally{M(!1)}}),[n,W,D,a,F,$,R]),z=(0,o.useCallback)((async e=>{M(!0),n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.socialImport)),D({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${m.MetaMetricsEventAccountType.Imported}_${e}`}});try{const t=await W(e);D({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${m.MetaMetricsEventAccountType.Imported}_${e}`}}),t?a.push(l.ONBOARDING_ACCOUNT_NOT_FOUND):(null==R||R({name:E.TraceName.OnboardingExistingSocialLogin,op:E.TraceOperation.OnboardingUserJourney,parentContext:F.current}),a.push(l.ONBOARDING_UNLOCK_ROUTE))}catch(t){$(t,e)}finally{M(!1)}}),[n,W,D,a,F,$,R]),V=(0,o.useCallback)((e=>{s.default.error("handleLoginError::error",e);e.message===b.OAuthErrorMessages.USER_CANCELLED_LOGIN_ERROR?A(null):A(T.LOGIN_ERROR.GENERIC)}),[]),G=(0,o.useCallback)((async(e,t)=>{try{t===T.LOGIN_OPTION.NEW&&e===T.LOGIN_TYPE.SRP?await j():t===T.LOGIN_OPTION.EXISTING&&e===T.LOGIN_TYPE.SRP?await L():_&&(t===T.LOGIN_OPTION.NEW?await U(e):t===T.LOGIN_OPTION.EXISTING&&await z(e))}catch(e){V(e)}}),[j,L,U,z,_,V]);return o.default.createElement(o.default.Fragment,null,e===T.WelcomePageState.Banner&&o.default.createElement(C.default,{onAccept:()=>t(T.WelcomePageState.Login)}),e===T.WelcomePageState.Login&&o.default.createElement(x.default,{onLogin:G}),N&&o.default.createElement(f.default,null),null!==B&&o.default.createElement(v.default,{onClose:()=>A(null),loginError:B}))}w.propTypes={pageState:a.default.oneOf(Object.values(T.WelcomePageState)),setPageState:a.default.func.isRequired}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome.js"}],[7615,{"../../../components/app/permissions-connect-footer":6197,"../../../components/component-library":6474,"../../../components/ui/account-list":6808,"../../../components/ui/page-container":6894,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,"@metamask/keyring-api":2077,"@metamask/permission-controller":2385,"prop-types":5080,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=m(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("@metamask/permission-controller"),r=e("@metamask/keyring-api"),s=e("../../../hooks/useI18nContext"),l=m(e("../../../components/app/permissions-connect-footer")),c=m(e("../../../components/ui/account-list")),u=e("../../../components/ui/page-container"),d=e("../../../helpers/constants/design-system"),p=e("../../../components/component-library");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}const g=({selectedAccountAddresses:e,addressLastConnectedMap:t={},accounts:n,selectAccounts:o,selectNewAccountViaModal:f,cancelPermissionsRequest:m,permissionsRequestId:g,targetSubjectMetadata:y,nativeCurrency:h})=>{const[b,E]=(0,a.useState)(e),x=n.filter((e=>(0,r.isEvmAccountType)(e.type))),C=(0,s.useI18nContext)(),T=Object.keys(e).length>x.length,v=0===n.length?C("connectAccountOrCreate"):(null==y?void 0:y.subjectType)===i.SubjectType.Snap?C("selectAccountsForSnap"):C("selectAccounts");return a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Box,{className:"permissions-connect-choose-account__content",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative,width:d.BlockSize.Full,height:d.BlockSize.Full,paddingLeft:6,paddingRight:6},a.default.createElement(p.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.center,alignItems:d.AlignItems.center,paddingTop:4,paddingBottom:4},a.default.createElement(p.Text,{variant:d.TextVariant.headingMd},C("connectWithMetaMask")),a.default.createElement(p.Text,{variant:d.TextVariant.bodyMd},v)),a.default.createElement(c.default,{accounts:n,selectNewAccountViaModal:f,addressLastConnectedMap:t,nativeCurrency:h,selectedAccounts:b,allAreSelected:()=>x.length===b.size,deselectAll:()=>{E(new Set)},selectAll:()=>{const e=new Set(x.map((e=>e.address)));E(e)},handleAccountClick:e=>{const t=new Set(b);t.has(e)?t.delete(e):t.add(e),E(t)}})),a.default.createElement(p.Box,{backgroundColor:d.BackgroundColor.backgroundAlternative,className:"permissions-connect-choose-account__footer",paddingTop:4},(null==y?void 0:y.subjectType)!==i.SubjectType.Snap&&a.default.createElement(l.default,null),a.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>m(g),cancelText:C("cancel"),onSubmit:()=>o(b),submitText:C("next"),disabled:T||0===b.size})))};g.propTypes={accounts:o.default.arrayOf(o.default.shape({address:o.default.string,addressLabel:o.default.string,lastConnectedDate:o.default.string,balance:o.default.string})).isRequired,selectAccounts:o.default.func.isRequired,selectNewAccountViaModal:o.default.func.isRequired,nativeCurrency:o.default.string.isRequired,addressLastConnectedMap:o.default.object,cancelPermissionsRequest:o.default.func.isRequired,permissionsRequestId:o.default.string.isRequired,selectedAccountAddresses:o.default.object.isRequired,targetSubjectMetadata:o.default.shape({extensionId:o.default.string,iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,subjectType:o.default.string})};n.default=g}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/choose-account.js"}],[7616,{"./choose-account":7615},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./choose-account"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/index.js"}],[7617,{"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/network":5813,"../../../../shared/lib/caip25-caveat-merger":5841,"../../../../shared/modules/selectors/networks":5921,"../../../components/component-library":6474,"../../../components/multichain":6670,"../../../components/multichain/create-solana-account-modal/create-solana-account-modal":6644,"../../../components/multichain/pages/page":6764,"../../../components/multichain/pages/review-permissions-page/site-cell/site-cell":6771,"../../../components/ui/tabs":6917,"../../../contexts/metametrics":6947,"../../../helpers/constants/design-system":6984,"../../../helpers/utils/util":7037,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"../../../selectors/multichain":7819,"./utils":7618,"@metamask/chain-agnostic-permission":1542,"@metamask/utils":2974,lodash:4912,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectPage=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=e("@metamask/chain-agnostic-permission"),r=e("@metamask/utils"),s=e("lodash"),l=e("../../../hooks/useI18nContext"),c=e("../../../selectors"),u=e("../../../../shared/modules/selectors/networks"),d=e("../../../components/component-library"),p=e("../../../components/multichain/pages/page"),f=e("../../../components/multichain/pages/review-permissions-page/site-cell/site-cell"),m=e("../../../helpers/constants/design-system"),g=e("../../../../shared/constants/network"),y=e("../../../selectors/multichain"),h=e("../../../components/ui/tabs"),b=e("../../../components/multichain"),E=e("../../../helpers/utils/util"),x=e("../../../../shared/constants/metametrics"),C=e("../../../contexts/metametrics"),T=e("../../../components/multichain/create-solana-account-modal/create-solana-account-modal"),v=e("../../../../shared/lib/caip25-caveat-merger"),k=e("./utils");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.ConnectPage=({request:e,permissionsRequestId:t,rejectPermissionsRequest:n,approveConnection:_,targetSubjectMetadata:w})=>{const S=(0,l.useI18nContext)(),I=(0,o.useContext)(C.MetaMetricsContext),O=(0,a.useSelector)((t=>{var n;return(0,c.getPermissions)(t,null===(n=e.metadata)||void 0===n?void 0:n.origin)})),N=(0,o.useMemo)((()=>O?(0,k.getCaip25CaveatValueFromPermissions)(O):null),[O]),M=(0,k.getCaip25CaveatValueFromPermissions)(e.permissions),B=N?(0,v.mergeCaip25CaveatValues)(M,N):M,A=(0,i.getCaipAccountIdsFromCaip25CaveatValue)(B),D=(0,i.getAllScopesFromCaip25CaveatValue)(B),{promptToCreateSolanaAccount:R,isEip1193Request:P}=e.metadata??{},F=(0,a.useSelector)(u.getAllNetworkConfigurationsByCaipChainId),[j,L]=(0,o.useMemo)((()=>Object.entries(F).reduce((([e,t],[n,o])=>{const a=n;return(g.CAIP_FORMATTED_EVM_TEST_CHAINS.includes(a)?t:e).push({...o,caipChainId:a}),[e,t]}),[[],[]])),[F]),W=(0,o.useMemo)((()=>[...j,...L].map((({caipChainId:e})=>e))),[j,L]),[$,U]=(0,o.useState)(!1),[z,V]=(0,o.useState)(!1),[G,q]=(0,o.useState)(!1),J=(0,a.useSelector)(y.getMultichainNetwork).chainId,H=L.find((e=>e.caipChainId===J));let K=H?[...j,H].map((({caipChainId:e})=>e)):j.map((({caipChainId:e})=>e)),Y=D.filter((e=>W.includes(e)));if(P){K=K.filter((e=>{const{namespace:t}=(0,r.parseCaipChainId)(e);return t===r.KnownCaipNamespace.Eip155}));!Y.some((e=>{const{namespace:t}=(0,r.parseCaipChainId)(e);return t===r.KnownCaipNamespace.Eip155}))&&N&&(Y=Array.from(new Set([...K,...Y])))}const X=Y.length>0?Y:K,[Q,Z]=(0,o.useState)(X),ee=(0,o.useCallback)(((e,{isUserModified:t=!0}={})=>{t&&U(!0),Z(e)}),[U,Z]),te=(0,a.useSelector)(c.getUpdatedAndSortedAccountsWithCaipAccountId),ne=(0,i.getAllNamespacesFromCaip25CaveatValue)(B).filter((e=>e!==r.KnownCaipNamespace.Wallet)),oe=te.filter((e=>{const{chain:{namespace:t}}=(0,r.parseCaipAccountId)(e.caipAccountId);return ne.includes(t)})),ae=oe.filter((e=>(0,i.isCaipAccountIdInPermittedAccountIds)(e.caipAccountId,A))),ie=(0,k.getDefaultAccounts)(ne,ae,oe).map((({caipAccountId:e})=>e)),[re,se]=(0,o.useState)(ie),le=(0,o.useCallback)(((e,{isUserModified:t=!0}={})=>{t&&U(!0);let n=[...Q];e.forEach((e=>{const{chain:{namespace:t}}=(0,r.parseCaipAccountId)(e);if(!n.some((e=>{try{const{namespace:n}=(0,r.parseCaipChainId)(e);return t===n}catch(e){return!1}}))){const e=W.filter((e=>{try{const{namespace:n}=(0,r.parseCaipChainId)(e);return t===n}catch(e){return!1}}));n=Array.from(new Set([...n,...e]))}})),ee(n,{isUserModified:t}),se(e)}),[U,se,Q,ee,W]);(0,o.useEffect)((()=>{$||(0,s.isEqual)(ie,re)||le(ie,{isUserModified:!1})}),[$,le,re,JSON.stringify(ie)]);const ce=te.filter((({caipAccountId:e})=>re.some((t=>t===e)))),ue=(0,o.useMemo)((()=>te.some((({caipAccountId:e})=>{const{chain:t}=(0,r.parseCaipAccountId)(e);return t.namespace===r.KnownCaipNamespace.Solana}))),[te]),de=(0,o.useCallback)((()=>{V(!0),I({category:x.MetaMetricsEventCategory.Navigation,event:x.MetaMetricsEventName.ViewPermissionedAccounts,properties:{location:"Connect view (accounts tab), Permissions toast, Permissions (dapp)"}})}),[I]),pe=(0,o.useCallback)((()=>{q(!0)}),[]),fe=(0,o.useCallback)((()=>{q(!1)}),[]),me=(0,o.useCallback)((()=>{V(!1)}),[]),ge=(0,o.useCallback)((()=>{n(t)}),[t,n]),ye=(0,o.useCallback)((()=>{const t={...e,permissions:{...e.permissions,...(0,i.generateCaip25Caveat)(B,re,Q)}};_(t)}),[e,B,re,Q,_]),he=(0,E.transformOriginToTitle)(w.origin);return o.default.createElement(p.Page,{"data-testid":"connect-page",className:"main-container connect-page",backgroundColor:m.BackgroundColor.backgroundDefault},o.default.createElement(p.Header,{paddingTop:8,paddingBottom:0},o.default.createElement(d.Box,{display:m.Display.Flex,justifyContent:m.JustifyContent.center,marginBottom:8},w.iconUrl?o.default.createElement(o.default.Fragment,null,o.default.createElement(d.Box,{style:{filter:"blur(16px) brightness(1.1)",position:"absolute"}},o.default.createElement(d.AvatarFavicon,{backgroundColor:m.BackgroundColor.backgroundMuted,size:d.AvatarFaviconSize.Xl,src:w.iconUrl,name:he})),o.default.createElement(d.AvatarFavicon,{backgroundColor:m.BackgroundColor.backgroundMuted,size:d.AvatarFaviconSize.Lg,src:w.iconUrl,name:he,style:{zIndex:1,background:"transparent"}})):o.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Lg,display:m.Display.Flex,alignItems:m.AlignItems.center,justifyContent:m.JustifyContent.center,color:m.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:m.BackgroundColor.backgroundMuted},(0,E.isIpAddress)(he)?"?":(0,E.getAvatarFallbackLetter)(he))),o.default.createElement(d.Text,{variant:m.TextVariant.headingLg,marginBottom:1},he),o.default.createElement(d.Box,{display:m.Display.Flex,justifyContent:m.JustifyContent.center},o.default.createElement(d.Text,{color:m.TextColor.textAlternative},S("connectionDescription")))),o.default.createElement(p.Content,{paddingLeft:4,paddingRight:4,backgroundColor:m.BackgroundColor.transparent},o.default.createElement(h.Tabs,{onTabClick:()=>null,backgroundColor:m.BackgroundColor.transparent,justifyContent:m.JustifyContent.center,defaultActiveTabKey:"accounts",tabListProps:{backgroundColor:m.BackgroundColor.transparent}},o.default.createElement(h.Tab,{name:S("accounts"),tabKey:"accounts",width:m.BlockSize.Full,"data-testid":"accounts-tab"},o.default.createElement(d.Box,{marginTop:4},o.default.createElement(d.Box,{backgroundColor:m.BackgroundColor.backgroundDefault,borderRadius:m.BorderRadius.XL,style:{overflow:"auto",maxHeight:"268px",scrollbarColor:"var(--color-icon-muted) transparent"}},ce.map((e=>o.default.createElement(b.AccountListItem,{showConnectedStatus:!1,account:e,key:e.caipAccountId,selected:!1}))),0===ce.length&&!R&&o.default.createElement(d.Box,{className:"connect-page__accounts-empty",display:m.Display.Flex,justifyContent:m.JustifyContent.center,alignItems:m.AlignItems.center,borderRadius:m.BorderRadius.XL},o.default.createElement(d.ButtonLink,{onClick:de,"data-testid":"edit"},S("selectAccountToConnect")))),ce.length>0&&o.default.createElement(d.Box,{marginTop:4,display:m.Display.Flex,justifyContent:m.JustifyContent.center},o.default.createElement(d.ButtonLink,{onClick:de,"data-testid":"edit"},S("editAccounts"))),R&&!ue&&o.default.createElement(d.Box,{display:m.Display.Flex,flexDirection:m.FlexDirection.Column,justifyContent:m.JustifyContent.center,alignItems:m.AlignItems.center,marginTop:4,gap:2},o.default.createElement(d.Text,{variant:m.TextVariant.bodyMd,color:m.TextColor.textAlternative,textAlign:m.TextAlign.Center},0===ce.length?S("solanaAccountRequired"):S("solanaAccountRequested")),o.default.createElement(d.Button,{variant:d.ButtonVariant.Secondary,width:m.BlockSize.Full,size:d.ButtonSize.Lg,onClick:pe,"data-testid":"create-solana-account"},S("createSolanaAccount"))),G&&o.default.createElement(T.CreateSolanaAccountModal,{onClose:fe}),z&&o.default.createElement(b.EditAccountsModal,{accounts:te,defaultSelectedAccountAddresses:re,onClose:me,onSubmit:le}))),o.default.createElement(h.Tab,{name:S("permissions"),tabKey:"permissions",width:m.BlockSize.Full,"data-testid":"permissions-tab",disabled:R&&!ue&&0===ce.length},o.default.createElement(d.Box,{marginTop:4},o.default.createElement(f.SiteCell,{nonTestNetworks:j,testNetworks:L,accounts:te,onSelectAccountAddresses:le,onSelectChainIds:ee,selectedAccountAddresses:re,selectedChainIds:Q,isConnectFlow:!0}))))),o.default.createElement(p.Footer,null,o.default.createElement(d.Box,{display:m.Display.Flex,flexDirection:m.FlexDirection.Column,gap:4,width:m.BlockSize.Full},o.default.createElement(d.Box,{display:m.Display.Flex,gap:4,width:m.BlockSize.Full},o.default.createElement(d.Button,{block:!0,variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"cancel-btn",onClick:ge},S("cancel")),o.default.createElement(d.Button,{block:!0,"data-testid":"confirm-btn",size:d.ButtonSize.Lg,onClick:ye,disabled:0===re.length||0===Q.length},S("connect"))))))}}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/connect-page.tsx"}],[7618,{"../../../helpers/utils/util":7037,"@metamask/chain-agnostic-permission":1542,"@metamask/utils":2974},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaip25CaveatValueFromPermissions=function(e){var t;return(null==e||null===(t=e[a.Caip25EndowmentPermissionName])||void 0===t||null===(t=t.caveats)||void 0===t||null===(t=t.find((e=>e.type===a.Caip25CaveatType)))||void 0===t?void 0:t.value)??{optionalScopes:{},requiredScopes:{},sessionProperties:{},isMultichainOrigin:!1}},n.getCaip25PermissionsResponse=function(e,t,n){const o=(0,a.setPermittedEthChainIds)(e,n),i=(0,a.setEthAccounts)(o,t);return{[a.Caip25EndowmentPermissionName]:{caveats:[{type:a.Caip25CaveatType,value:i}]}}},n.getDefaultAccounts=function(e,t,n){const a=[],r=new Set;t.forEach((t=>{const{chain:{namespace:n}}=(0,o.parseCaipAccountId)(t.caipAccountId);e.includes(n)&&(a.push(t),r.add(n))}));const s=e.filter((e=>!r.has(e)));if(s.length>0){const e=(0,i.sortSelectedInternalAccounts)(n);for(const t of s){const n=e.find((e=>{const{chain:{namespace:n}}=(0,o.parseCaipAccountId)(e.caipAccountId);return n===t}));n&&a.push(n)}}return a};var o=e("@metamask/utils"),a=e("@metamask/chain-agnostic-permission"),i=e("../../../helpers/utils/util")}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/utils.ts"}],[7619,{"./permissions-connect.container":7621},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./permissions-connect.container"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/permissions-connect/index.js"}],[762,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/types.js"}],[7620,{"../../../app/scripts/lib/multichain/address":153,"../../../shared/constants/time":5827,"../../components/app/permission-page-container":6191,"../../components/app/snaps/snap-authorship-header/snap-authorship-header":6224,"../../components/component-library":6474,"../../helpers/constants/routes":6989,"./choose-account":7616,"./connect-page/connect-page":7617,"./connect-page/utils":7618,"./redirect":7622,"./snaps/snap-install":7624,"./snaps/snap-result":7626,"./snaps/snap-update":7628,"./snaps/snaps-connect":7630,"@metamask/chain-agnostic-permission":1542,"@metamask/permission-controller":2385,"@metamask/rpc-errors":2524,"@metamask/snaps-utils":2853,"prop-types":5080,react:5262,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=_(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("react-router-dom"),r=e("@metamask/rpc-errors"),s=e("@metamask/permission-controller"),l=e("@metamask/snaps-utils"),c=e("@metamask/chain-agnostic-permission"),u=e("../../../app/scripts/lib/multichain/address"),d=e("../../../shared/constants/time"),p=e("../../helpers/constants/routes"),f=_(e("../../components/app/permission-page-container")),m=e("../../components/component-library"),g=_(e("../../components/app/snaps/snap-authorship-header/snap-authorship-header")),y=_(e("./choose-account")),h=_(e("./redirect")),b=_(e("./snaps/snaps-connect")),E=_(e("./snaps/snap-install")),x=_(e("./snaps/snap-update")),C=_(e("./snaps/snap-result")),T=e("./connect-page/connect-page"),v=e("./connect-page/utils");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=1200*d.MILLISECOND;function I(e,t){const n=(0,v.getCaip25CaveatValueFromPermissions)(t),o=(0,c.getEthAccounts)(n);return o.length>0?new Set(o.map((e=>e.toLowerCase())).filter(u.isEthAddress)):new Set((0,u.isEthAddress)(e)?[e]:[])}function O(e){const t=(0,v.getCaip25CaveatValueFromPermissions)(e);return(0,c.getPermittedEthChainIds)(t)}class N extends a.Component{constructor(...e){var t;super(...e),w(this,"state",{redirecting:!1,selectedAccountAddresses:I(this.props.currentAddress,null===(t=this.props.permissionsRequest)||void 0===t?void 0:t.permissions),permissionsApproved:null,origin:this.props.origin,targetSubjectMetadata:this.props.targetSubjectMetadata||{},snapsInstallPrivacyWarningShown:this.props.snapsInstallPrivacyWarningShown}),w(this,"selectAccounts",(e=>{const{confirmPermissionPath:t,requestType:n,snapsConnectPath:o,snapInstallPath:a,snapUpdatePath:i,snapResultPath:r}=this.props;this.setState({selectedAccountAddresses:e},(()=>{switch(n){case"wallet_installSnap":this.props.history.push(a);break;case"wallet_updateSnap":this.props.history.push(i);break;case"wallet_installSnapResult":this.props.history.push(r);break;case"wallet_connectSnaps":this.props.history.replace(o);break;default:this.props.history.push(t)}}))})),w(this,"cancelPermissionsRequest",(async e=>{const{rejectPermissionsRequest:t}=this.props;e&&(await t(e),this.redirect(!1))})),w(this,"approveConnection",((...e)=>{const{approvePermissionsRequest:t}=this.props;t(...e),this.redirect(!0)}))}componentDidMount(){const{connectPath:e,confirmPermissionPath:t,snapsConnectPath:n,snapInstallPath:o,snapUpdatePath:a,snapResultPath:i,requestType:r,getRequestAccountTabIds:s,permissionsRequest:l,history:c,isRequestingAccounts:u}=this.props;if(s(),l){if(c.location.pathname===e&&!u)switch(r){case"wallet_installSnap":c.replace(o);break;case"wallet_updateSnap":c.replace(a);break;case"wallet_installSnapResult":c.replace(i);break;case"wallet_connectSnaps":c.replace(n);break;default:c.replace(t)}}else c.replace(p.DEFAULT_ROUTE)}componentDidUpdate(e){var t;const{permissionsRequest:n,lastConnectedInfo:o,targetSubjectMetadata:a}=this.props,{redirecting:i,origin:r}=this.state;if(null!=a&&a.origin&&(null===(t=e.targetSubjectMetadata)||void 0===t?void 0:t.origin)!==(null==a?void 0:a.origin)&&this.setState({targetSubjectMetadata:a}),!n&&e.permissionsRequest&&!i){var s,l;const t=((null===(s=o[r])||void 0===s?void 0:s.lastApproved)||0)>((null===(l=e.lastConnectedInfo[r])||void 0===l?void 0:l.lastApproved)||0);this.redirect(t)}}redirect(e){const{history:t,permissionsRequest:n}=this.props;let o=!0;o=!((null==n?void 0:n.permissions)&&Object.keys(n.permissions).includes("wallet_snap")),this.setState({redirecting:o,permissionsApproved:e}),o&&e?setTimeout((()=>t.push(p.DEFAULT_ROUTE)),S):t.push(p.DEFAULT_ROUTE)}goBack(){const{history:e,connectPath:t}=this.props;e.push(t)}renderTopBar(e){const{targetSubjectMetadata:t}=this.state;return a.default.createElement(m.Box,{style:{boxShadow:t.subjectType===s.SubjectType.Snap&&"var(--shadow-size-lg) var(--color-shadow-default)"}},t.subjectType===s.SubjectType.Snap&&a.default.createElement(g.default,{snapId:t.origin,boxShadow:"none",onCancel:()=>{this.cancelPermissionsRequest(e)}}))}render(){var e;const{accounts:t,showNewAccountModal:n,newAccountNumber:o,nativeCurrency:s,permissionsRequest:c,addressLastConnectedMap:u,permissionsRequestId:d,connectPath:p,confirmPermissionPath:m,hideTopBar:g,targetSubjectMetadata:v,snapsConnectPath:k,snapInstallPath:_,snapUpdatePath:w,snapResultPath:S,requestState:I,approvePendingApproval:N,rejectPendingApproval:M,setSnapsInstallPrivacyWarningShownStatus:B,approvePermissionsRequest:A,history:D}=this.props,{selectedAccountAddresses:R,permissionsApproved:P,redirecting:F,snapsInstallPrivacyWarningShown:j}=this.state,L=(0,l.isSnapId)(null==c||null===(e=c.metadata)||void 0===e?void 0:e.origin);return a.default.createElement("div",{className:"permissions-connect"},!g&&this.renderTopBar(d),F&&P?a.default.createElement(h.default,{subjectMetadata:v}):a.default.createElement(i.Switch,null,a.default.createElement(i.Route,{path:p,exact:!0,render:()=>L?a.default.createElement(y.default,{accounts:t,nativeCurrency:s,selectAccounts:e=>this.selectAccounts(e),selectNewAccountViaModal:e=>{n({onCreateNewAccount:t=>e(t),newAccountNumber:o})},addressLastConnectedMap:u,cancelPermissionsRequest:e=>this.cancelPermissionsRequest(e),permissionsRequestId:d,selectedAccountAddresses:R,targetSubjectMetadata:v}):a.default.createElement(T.ConnectPage,{rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),activeTabOrigin:this.state.origin,request:c||{},permissionsRequestId:d,approveConnection:this.approveConnection,targetSubjectMetadata:v})}),a.default.createElement(i.Route,{path:m,exact:!0,render:()=>a.default.createElement(f.default,{request:c||{},approvePermissionsRequest:(...e)=>{A(...e),this.redirect(!0)},rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),selectedAccounts:t.filter((e=>R.has(e.address))),requestedChainIds:O(null==c?void 0:c.permissions),targetSubjectMetadata:v,history:D,connectPath:p,snapsInstallPrivacyWarningShown:j,setSnapsInstallPrivacyWarningShownStatus:B})}),a.default.createElement(i.Route,{path:k,exact:!0,render:()=>a.default.createElement(b.default,{request:c||{},approveConnection:this.approveConnection,rejectConnection:e=>this.cancelPermissionsRequest(e),targetSubjectMetadata:v,snapsInstallPrivacyWarningShown:j,setSnapsInstallPrivacyWarningShownStatus:B})}),a.default.createElement(i.Route,{path:_,exact:!0,render:()=>a.default.createElement(E.default,{request:c||{},requestState:I||{},approveSnapInstall:e=>{N(e,{...c,permissions:I.permissions,approvedAccounts:[...R]}),this.setState({permissionsApproved:!0})},rejectSnapInstall:e=>{M(e,(0,r.serializeError)(r.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!0})},targetSubjectMetadata:v})}),a.default.createElement(i.Route,{path:w,exact:!0,render:()=>a.default.createElement(x.default,{request:c||{},requestState:I||{},approveSnapUpdate:e=>{N(e,{...c,permissions:I.permissions,approvedAccounts:[...R]}),this.setState({permissionsApproved:!0})},rejectSnapUpdate:e=>{M(e,(0,r.serializeError)(r.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!1})},targetSubjectMetadata:v})}),a.default.createElement(i.Route,{path:S,exact:!0,render:()=>a.default.createElement(C.default,{request:c||{},requestState:I||{},approveSnapResult:e=>{N(e),this.setState({permissionsApproved:!0})},targetSubjectMetadata:v})})))}}n.default=N,w(N,"propTypes",{approvePermissionsRequest:o.default.func.isRequired,rejectPermissionsRequest:o.default.func.isRequired,getRequestAccountTabIds:o.default.func.isRequired,accounts:o.default.arrayOf(o.default.shape({id:o.default.string.isRequired,address:o.default.string.isRequired,metadata:o.default.shape({name:o.default.string.isRequired,snap:o.default.shape({id:o.default.string.isRequired,name:o.default.string,enabled:o.default.bool}),keyring:o.default.shape({type:o.default.string.isRequired}).isRequired}).isRequired,addressLabel:o.default.string.isRequired,label:o.default.string.isRequired,balance:o.default.string.isRequired})).isRequired,currentAddress:o.default.string.isRequired,origin:o.default.string,showNewAccountModal:o.default.func.isRequired,newAccountNumber:o.default.number.isRequired,nativeCurrency:o.default.string,permissionsRequest:o.default.object,addressLastConnectedMap:o.default.object.isRequired,lastConnectedInfo:o.default.object.isRequired,permissionsRequestId:o.default.string,history:o.default.object.isRequired,connectPath:o.default.string.isRequired,confirmPermissionPath:o.default.string.isRequired,requestType:o.default.string.isRequired,snapsConnectPath:o.default.string.isRequired,snapInstallPath:o.default.string.isRequired,snapUpdatePath:o.default.string.isRequired,snapResultPath:o.default.string.isRequired,requestState:o.default.object.isRequired,approvePendingApproval:o.default.func.isRequired,rejectPendingApproval:o.default.func.isRequired,setSnapsInstallPrivacyWarningShownStatus:o.default.func.isRequired,snapsInstallPrivacyWarningShown:o.default.bool.isRequired,hideTopBar:o.default.bool,targetSubjectMetadata:o.default.shape({extensionId:o.default.string,iconUrl:o.default.string,name:o.default.string,origin:o.default.string,subjectType:o.default.string}),isRequestingAccounts:o.default.bool.isRequired}),w(N,"defaultProps",{origin:"",nativeCurrency:"",permissionsRequest:undefined,permissionsRequestId:""}),w(N,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.component.js"}],[7621,{"../../ducks/metamask/metamask":6971,"../../helpers/constants/routes":6989,"../../helpers/utils/util":7037,"../../selectors":7812,"../../store/actions":7835,"./permissions-connect.component":7620,"@metamask/chain-agnostic-permission":1542,"@metamask/keyring-api":2077,"@metamask/permission-controller":2385,"@metamask/snaps-rpc-methods":2683,"prop-types":5080,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("@metamask/permission-controller"),a=e("@metamask/snaps-rpc-methods"),i=e("react-redux"),r=g(e("prop-types")),s=e("@metamask/keyring-api"),l=e("@metamask/chain-agnostic-permission"),c=e("../../selectors"),u=e("../../ducks/metamask/metamask"),d=e("../../helpers/utils/util"),p=e("../../store/actions"),f=e("../../helpers/constants/routes"),m=g(e("./permissions-connect.component"));function g(e){return e&&e.__esModule?e:{default:e}}const y=(0,i.connect)(((e,t)=>{var n,i,r;const{match:{params:{id:p}},location:{pathname:m}}=t;let g=(0,c.getPermissionsRequests)(e);g=[...g,...(0,c.getSnapInstallOrUpdateRequests)(e)];const{address:y}=(0,c.getSelectedInternalAccount)(e),h=g.find((e=>e.metadata.id===p)),{metadata:b={},diff:E={}}=h||{},{origin:x}=b,C=(0,u.getNativeCurrency)(e),T=Boolean(null==E?void 0:E.permissionDiffMap),v=Boolean((null==h||null===(n=h.permissions)||void 0===n?void 0:n[l.Caip25EndowmentPermissionName])&&!T),k=(0,c.getTargetSubjectMetadata)(e,x)??{name:(0,d.getURLHostName)(x)||x,origin:x,iconUrl:null,extensionId:null,subjectType:o.SubjectType.Unknown};let _=(0,c.getRequestType)(e,p);h&&1===Object.keys(h.permissions||{}).length&&null!==(i=h.permissions)&&void 0!==i&&i[a.WALLET_SNAP_PERMISSION_KEY]&&(_="wallet_connectSnaps");const w=(0,c.getRequestState)(e,p)||{},S=(0,c.getAccountsWithLabels)(e).filter((e=>(0,s.isEvmAccountType)(e.type))),I=(0,c.getLastConnectedInfo)(e)||{},O=(null===(r=I[x])||void 0===r?void 0:r.accounts)||{};Object.keys(O).forEach((e=>{O[e]=(0,d.formatDate)(O[e],"yyyy-MM-dd")}));const N=`${f.CONNECT_ROUTE}/${p}`,M=`${f.CONNECT_ROUTE}/${p}${f.CONNECT_CONFIRM_PERMISSIONS_ROUTE}`,B=`${f.CONNECT_ROUTE}/${p}${f.CONNECT_SNAPS_CONNECT_ROUTE}`,A=`${f.CONNECT_ROUTE}/${p}${f.CONNECT_SNAP_INSTALL_ROUTE}`,D=`${f.CONNECT_ROUTE}/${p}${f.CONNECT_SNAP_UPDATE_ROUTE}`,R=`${f.CONNECT_ROUTE}/${p}${f.CONNECT_SNAP_RESULT_ROUTE}`,P=m===A||m===D||m===R;let F=1+v;F+=P,F=F.toString();let j="";if(m===N)j="1";else if(m===M)j=v?"2":"1";else if(P)j=v?"3":"2";else{if(m!==B)throw new Error("Incorrect path for permissions-connect component");j=1}return{isRequestingAccounts:v,requestType:_,snapsConnectPath:B,snapInstallPath:A,snapUpdatePath:D,snapResultPath:R,requestState:w,hideTopBar:P,snapsInstallPrivacyWarningShown:(0,c.getSnapsInstallPrivacyWarningShown)(e),permissionsRequest:h,permissionsRequestId:p,accounts:S,currentAddress:y,origin:x,newAccountNumber:S.length+1,nativeCurrency:C,addressLastConnectedMap:O,lastConnectedInfo:I,connectPath:N,confirmPermissionPath:M,totalPages:F,page:j,targetSubjectMetadata:k}}),(e=>({approvePermissionsRequest:t=>e((0,p.approvePermissionsRequest)(t)),rejectPermissionsRequest:t=>e((0,p.rejectPermissionsRequest)(t)),approvePendingApproval:(t,n)=>e((0,p.resolvePendingApproval)(t,n)),rejectPendingApproval:(t,n)=>e((0,p.rejectPendingApproval)(t,n)),setSnapsInstallPrivacyWarningShownStatus:t=>{e((0,p.setSnapsInstallPrivacyWarningShownStatus)(t))},showNewAccountModal:({onCreateNewAccount:t,newAccountNumber:n})=>e((0,p.showModal)({name:"NEW_ACCOUNT",onCreateNewAccount:t,newAccountNumber:n})),getRequestAccountTabIds:()=>e((0,p.getRequestAccountTabIds)())})))(m.default);y.propTypes={history:r.default.object.isRequired,match:r.default.shape({params:r.default.shape({id:r.default.string}).isRequired}).isRequired};n.default=y}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.container.js"}],[7622,{"./permissions-redirect.component":7623},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./permissions-redirect.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/index.js"}],[7623,{"../../../components/app/permissions-connect-footer":6197,"../../../components/component-library":6474,"../../../contexts/i18n":6943,"../../../helpers/constants/design-system":6984,"prop-types":5080,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=c(e("prop-types")),i=e("../../../helpers/constants/design-system"),r=e("../../../contexts/i18n"),s=e("../../../components/component-library"),l=c(e("../../../components/app/permissions-connect-footer"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({subjectMetadata:e}){const t=(0,o.useContext)(r.I18nContext),[n,a]=(0,o.useState)(e);return(0,o.useEffect)((()=>{e&&e.origin&&a(e)}),[e]),o.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,height:i.BlockSize.Full,justifyContent:i.JustifyContent.spaceBetween},o.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,height:i.BlockSize.Full,backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.XS,border:`1px solid ${i.BorderColor.borderMuted}`,boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},o.default.createElement(s.Box,{display:i.Display.Flex,marginBottom:4},o.default.createElement(s.Text,{variant:i.TextVariant.headingMd},t("connecting"))),o.default.createElement(s.Box,{display:i.Display.Flex,backgroundColor:i.BackgroundColor.infoMuted,borderRadius:i.BorderRadius.pill,padding:2},o.default.createElement(s.AvatarToken,{src:n.iconUrl,name:n.name,size:s.AvatarTokenSize.Lg}),o.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,paddingLeft:4,paddingRight:4},o.default.createElement(s.Icon,{name:s.IconName.Confirmation,size:s.IconSize.Xl,color:i.IconColor.infoDefault})),o.default.createElement(s.AvatarToken,{src:"/images/logo/metamask-fox.svg",size:s.AvatarTokenSize.Lg,name:"metamask-fox"}))),o.default.createElement(s.Box,{backgroundColor:i.BackgroundColor.backgroundDefault,padding:4},o.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},o.default.createElement(l.default,null),o.default.createElement(s.Box,{display:i.Display.Flex,paddingTop:4,width:i.BlockSize.Full,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},o.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,width:i.BlockSize.Full,marginRight:2,disabled:!0},t("back")),o.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:i.BlockSize.Full,marginLeft:2,disabled:!0,loading:!0},o.default.createElement(s.Icon,{name:s.IconName.Loading,size:s.IconSize.Lg,color:i.IconColor.infoDefault}))))))}d.propTypes={subjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,subjectType:a.default.string,name:a.default.string.isRequired,origin:a.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/permissions-redirect.component.js"}],[7624,{"./snap-install":7625},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./snap-install"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/index.js"}],[7625,{"../../../../components/app/permission-connect-header":6189,"../../../../components/app/snaps/install-error/install-error":6215,"../../../../components/app/snaps/snap-authorship-header":6223,"../../../../components/app/snaps/snap-install-warning":6236,"../../../../components/app/snaps/snap-permissions-list":6248,"../../../../components/component-library":6474,"../../../../components/ui/page-container":6894,"../../../../components/ui/pulse-loader/pulse-loader":6903,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/util":7037,"../../../../hooks/useI18nContext":7109,"../../../../hooks/useOriginMetadata":7124,"../../../../hooks/useScrollRequired":7129,"../../../../selectors":7812,"../util":7632,"@metamask/snaps-utils":2853,"prop-types":5080,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var o=v(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("react-redux"),r=e("@metamask/snaps-utils"),s=e("../../../../components/ui/page-container"),l=e("../../../../hooks/useI18nContext"),c=v(e("../../../../components/app/snaps/snap-install-warning")),u=e("../../../../helpers/constants/design-system"),d=e("../util"),p=v(e("../../../../components/ui/pulse-loader/pulse-loader")),f=v(e("../../../../components/app/snaps/snap-authorship-header")),m=e("../../../../components/component-library"),g=v(e("../../../../components/app/snaps/snap-permissions-list")),y=e("../../../../hooks/useScrollRequired"),h=v(e("../../../../components/app/snaps/install-error/install-error")),b=e("../../../../hooks/useOriginMetadata"),E=e("../../../../selectors"),x=e("../../../../helpers/utils/util"),C=v(e("../../../../components/app/permission-connect-header"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function k({request:e,requestState:t,approveSnapInstall:n,rejectSnapInstall:o,targetSubjectMetadata:T}){var v,k,_;const w=(0,l.useI18nContext)(),S=(0,b.useOriginMetadata)(null==e||null===(v=e.metadata)||void 0===v?void 0:v.dappOrigin)||{},{origin:I,iconUrl:O}=S,[N,M]=(0,a.useState)(!1),B=(0,i.useSelector)(E.getSnapsMetadata),[A,D]=(0,a.useState)(!1),{isScrollable:R,hasScrolledToBottom:P,scrollToBottom:F,ref:j,onScroll:L}=(0,y.useScrollRequired)([t]),W=(0,a.useCallback)((()=>o(e.metadata.id)),[e,o]),$=(0,a.useCallback)((()=>n(e.metadata.id)),[e,n]),{name:U}=(0,i.useSelector)((e=>(0,E.getSnapMetadata)(e,T.origin))),z=!t.loading&&t.error,V=t.loading,G=(0,r.isSnapId)(null==e||null===(k=e.metadata)||void 0===k?void 0:k.dappOrigin),q=(0,d.getSnapInstallWarnings)((null==t?void 0:t.permissions)??{},w,U,(0,x.getSnapName)(B)),J=q.length>0;return a.default.createElement(m.Box,{className:"snap-install",display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},!V&&!z||G?a.default.createElement(f.default,{snapId:V&&G?null==e||null===(_=e.metadata)||void 0===_?void 0:_.dappOrigin:T.origin,onCancel:W}):a.default.createElement(C.default,{origin:I,iconUrl:O}),a.default.createElement(m.Box,{ref:V||z?undefined:j,onScroll:L,className:"snap-install__content",style:{overflowY:"auto",flex:!V&&!z&&"1"},paddingLeft:4,paddingRight:4},V&&a.default.createElement(m.Box,{display:u.Display.Flex,className:"snap-install__content__loader-container",flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center},a.default.createElement(p.default,null)),z&&a.default.createElement(h.default,{iconName:m.IconName.Warning,title:w("connectionFailed"),description:w("connectionFailedDescription",[a.default.createElement(m.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},U)]),error:t.error}),!z&&!V&&a.default.createElement(a.default.Fragment,null,a.default.createElement(m.Text,{variant:u.TextVariant.headingMd,paddingTop:4,paddingBottom:2,textAlign:"center"},w("installRequest")),a.default.createElement(m.Text,{className:"snap-install__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:u.TextAlign.Center},w("snapInstallRequest",[a.default.createElement(m.Text,{as:"span",key:"2",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},U)])),a.default.createElement(m.Box,{display:u.Display.Flex,backgroundColor:u.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:u.BorderRadius.XL},a.default.createElement(g.default,{snapId:T.origin,snapName:U,permissions:t.permissions||{},connections:t.connections||{},onShowAllPermissions:()=>{D(!0)}})),a.default.createElement(m.Box,{className:"snap-install__scroll-button-area"},!R||P||A?null:a.default.createElement(m.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-install-scroll",iconName:m.IconName.Arrow2Down,backgroundColor:u.BackgroundColor.infoDefault,color:u.IconColor.primaryInverse,onClick:F,style:{cursor:"pointer"}})))),a.default.createElement(m.Box,{className:"snap-install__footer",display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},a.default.createElement(s.PageContainerFooter,{cancelButtonType:"default",hideCancel:z,disabled:V||!z&&R&&!P,onCancel:W,cancelText:w("cancel"),onSubmit:()=>{!z&&J?M(!0):z?W():$()},submitText:w(z?"ok":V?"connect":"confirm")})),N&&a.default.createElement(c.default,{onCancel:()=>M(!1),onSubmit:$,warnings:q,snapName:U}))}k.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapInstall:o.default.func.isRequired,rejectSnapInstall:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/snap-install.js"}],[7626,{"./snap-result":7627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./snap-result"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/index.js"}],[7627,{"../../../../components/app/snaps/install-error/install-error":6215,"../../../../components/app/snaps/snap-authorship-header":6223,"../../../../components/component-library":6474,"../../../../components/ui/box/box":6814,"../../../../components/ui/page-container":6894,"../../../../components/ui/pulse-loader/pulse-loader":6903,"../../../../helpers/constants/design-system":6984,"../../../../hooks/useI18nContext":7109,"../../../../selectors":7812,"prop-types":5080,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var o=y(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("react-redux"),r=e("../../../../components/ui/page-container"),s=e("../../../../hooks/useI18nContext"),l=y(e("../../../../components/ui/box/box")),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/component-library"),d=y(e("../../../../components/ui/pulse-loader/pulse-loader")),p=y(e("../../../../components/app/snaps/install-error/install-error")),f=y(e("../../../../components/app/snaps/snap-authorship-header")),m=e("../../../../selectors");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function h({request:e,requestState:t,approveSnapResult:n,targetSubjectMetadata:o}){const g=(0,s.useI18nContext)(),y=(0,a.useCallback)((()=>n(e.metadata.id)),[e,n]),h=!t.loading&&t.error,b=t.loading,{name:E}=(0,i.useSelector)((e=>(0,m.getSnapMetadata)(e,o.origin)));return a.default.createElement(l.default,{className:"page-container snap-result",justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,borderStyle:c.BorderStyle.none,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(f.default,{snapId:o.origin,onCancel:y}),a.default.createElement(l.default,{className:"snap-result__content",paddingLeft:4,paddingRight:4,alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative,height:c.BlockSize.Full,justifyContent:c.JustifyContent.center},b&&a.default.createElement(l.default,{className:"snap-result__content__loader-container",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,height:c.BlockSize.Full},a.default.createElement(d.default,null)),!b&&!h&&function(e,t){let n;switch(e){case"wallet_installSnap":n=g("snapInstallSuccess");break;case"wallet_updateSnap":n=g("snapUpdateSuccess");break;default:n=g("snapResultSuccess")}return a.default.createElement(l.default,{flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,height:c.BlockSize.Full,paddingTop:2,paddingBottom:2,backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(u.AvatarIcon,{className:"snap-result__header__icon",iconName:u.IconName.Confirmation,size:u.AvatarIconSize.Xl,color:c.IconColor.successDefault,backgroundColor:c.BackgroundColor.successMuted}),a.default.createElement(u.Text,{fontWeight:c.FontWeight.Bold,textAlign:c.TextAlign.Center,variant:c.TextVariant.headingLg,paddingBottom:2,marginTop:4},n),a.default.createElement(u.Text,{textAlign:c.TextAlign.Center},g("snapResultSuccessDescription",[a.default.createElement(u.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},t)])))}(t.type,E),h&&function(e,n){let o,i;switch(e){case"wallet_installSnap":o=g("snapInstallationErrorTitle"),i=g("snapInstallationErrorDescription",[a.default.createElement(u.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},n)]);break;case"wallet_updateSnap":o=g("snapUpdateErrorTitle"),i=g("snapUpdateErrorDescription",[a.default.createElement(u.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},n)]);break;default:o=g("snapResultError")}return a.default.createElement(p.default,{error:t.error,title:o,description:i,iconName:u.IconName.Warning})}(t.type,E)),a.default.createElement(l.default,{className:"snap-result__footer",alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(r.PageContainerFooter,{hideCancel:!0,disabled:b,onSubmit:y,submitText:g("ok").toUpperCase()})))}h.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapResult:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/snap-result.js"}],[7628,{"./snap-update":7629},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./snap-update"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/index.js"}],[7629,{"../../../../components/app/snaps/install-error/install-error":6215,"../../../../components/app/snaps/snap-authorship-header":6223,"../../../../components/app/snaps/snap-install-warning":6236,"../../../../components/app/snaps/update-snap-permission-list":6340,"../../../../components/component-library":6474,"../../../../components/ui/page-container":6894,"../../../../components/ui/pulse-loader/pulse-loader":6903,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/util":7037,"../../../../hooks/useI18nContext":7109,"../../../../hooks/useScrollRequired":7129,"../../../../selectors":7812,"../util":7632,"prop-types":5080,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=C;var o=x(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("react-redux"),r=e("../../../../components/ui/page-container"),s=e("../../../../hooks/useI18nContext"),l=x(e("../../../../components/app/snaps/snap-install-warning")),c=e("../../../../helpers/constants/design-system"),u=x(e("../../../../components/app/snaps/update-snap-permission-list")),d=e("../util"),p=x(e("../../../../components/ui/pulse-loader/pulse-loader")),f=x(e("../../../../components/app/snaps/install-error/install-error")),m=x(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../components/component-library"),y=e("../../../../hooks/useScrollRequired"),h=e("../../../../selectors"),b=e("../../../../helpers/utils/util");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}function C({request:e,requestState:t,approveSnapUpdate:n,rejectSnapUpdate:o,targetSubjectMetadata:E}){const x=(0,s.useI18nContext)(),[C,T]=(0,a.useState)(!1),[v,k]=(0,a.useState)(!1),{isScrollable:_,hasScrolledToBottom:w,scrollToBottom:S,ref:I,onScroll:O}=(0,y.useScrollRequired)([t]),N=(0,i.useSelector)(h.getSnapsMetadata),M=(0,a.useCallback)((()=>o(e.metadata.id)),[e,o]),B=(0,a.useCallback)((()=>n(e.metadata.id)),[e,n]),{name:A}=(0,i.useSelector)((e=>(0,h.getSnapMetadata)(e,E.origin))),D=t.approvedPermissions??{},R=t.unusedPermissions??{},P=t.newPermissions??{},F=t.approvedConnections??{},j=t.unusedConnections??{},L=t.newConnections??{},{newVersion:W}=t,$=t.loading,U=!$&&t.error,z=(0,d.getSnapInstallWarnings)(P,x,A,(0,b.getSnapName)(N)),V=z.length>0;return a.default.createElement(g.Box,{className:"snap-update",display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,borderStyle:c.BorderStyle.none,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(m.default,{snapId:E.origin,onCancel:M}),a.default.createElement(g.Box,{ref:I,onScroll:O,className:"snap-update__content",style:{overflowY:"auto",flex:!$&&"1"},paddingLeft:4,paddingRight:4},!$&&!U&&a.default.createElement(g.Text,{paddingTop:4,paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:"center"},x("updateRequest")),$&&a.default.createElement(g.Box,{className:"snap-update__content__loader-container",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center},a.default.createElement(p.default,null)),U&&a.default.createElement(f.default,{iconName:g.IconName.Warning,error:t.error,title:x("snapUpdateErrorTitle"),description:x("snapUpdateErrorDescription",[a.default.createElement(g.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},A)])}),!U&&!$&&a.default.createElement(a.default.Fragment,null,a.default.createElement(g.Text,{className:"snap-update__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:c.TextAlign.Center},x("snapUpdateRequest",[a.default.createElement(g.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},A),a.default.createElement(g.Text,{as:"span",key:"3",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},W)])),a.default.createElement(g.Box,{display:c.Display.Flex,backgroundColor:c.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:c.BorderRadius.XL},a.default.createElement(u.default,{approvedPermissions:D,revokedPermissions:R,newPermissions:P,approvedConnections:F,revokedConnections:j,newConnections:L,targetSubjectMetadata:E,showAllPermissions:()=>{k(!0)}})),a.default.createElement(g.Box,{className:"snap-update__scroll-button-area"},!_||w||v?null:a.default.createElement(g.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-update-scroll",iconName:g.IconName.Arrow2Down,backgroundColor:c.BackgroundColor.infoDefault,color:c.IconColor.primaryInverse,onClick:S,style:{cursor:"pointer"}})))),a.default.createElement(g.Box,{className:"snap-update__footer",display:c.Display.Flex,alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(r.PageContainerFooter,{cancelButtonType:"default",hideCancel:U,disabled:$||!U&&_&&!w,onCancel:M,cancelText:x("cancel"),onSubmit:()=>{!U&&V?T(!0):U?M():B()},submitText:x(U?"ok":"confirm")})),C&&a.default.createElement(l.default,{onCancel:()=>T(!1),onSubmit:B,snapName:A,warnings:z}))}C.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapUpdate:o.default.func.isRequired,rejectSnapUpdate:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/snap-update.js"}],[763,{"./lib":760},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.patchTags=void 0;const o=e("./lib"),a=[];n.patchTags=e=>{e.forEach((e=>{a.find((t=>t===e))||((0,o.addSemanticEncode)(e,(t=>{if(t instanceof o.DataItem&&t.getTag()===e)return t.getData()})),(0,o.addSemanticDecode)(e,(t=>new o.DataItem(t,e))),a.push(e))}))}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/utils.js"}],[7630,{"./snaps-connect":7631},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./snaps-connect"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/index.js"}],[7631,{"../../../../components/app/snaps/snap-connect-cell/snap-connect-cell":6227,"../../../../components/app/snaps/snap-icon":6234,"../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning":6251,"../../../../components/component-library":6474,"../../../../components/ui/page-container":6894,"../../../../components/ui/pulse-loader/pulse-loader":6903,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/util":7037,"../../../../hooks/useI18nContext":7109,"../../../../hooks/useOriginMetadata":7124,"../../../../selectors":7812,"@metamask/snaps-utils":2853,"prop-types":5080,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=b(e("prop-types")),r=e("@metamask/snaps-utils"),s=e("../../../../hooks/useI18nContext"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/ui/page-container"),d=b(e("../../../../components/app/snaps/snap-connect-cell/snap-connect-cell")),p=e("../../../../helpers/utils/util"),f=b(e("../../../../components/ui/pulse-loader/pulse-loader")),m=b(e("../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning")),g=e("../../../../selectors"),y=e("../../../../hooks/useOriginMetadata"),h=e("../../../../components/app/snaps/snap-icon");function b(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function x({request:e,approveConnection:t,rejectConnection:n,targetSubjectMetadata:i,snapsInstallPrivacyWarningShown:b,setSnapsInstallPrivacyWarningShownStatus:E}){const x=(0,s.useI18nContext)(),{origin:C}=i,[T,v]=(0,o.useState)(!1),k=(0,a.useSelector)((t=>{var n;return(0,g.getPermissions)(t,null==e||null===(n=e.metadata)||void 0===n?void 0:n.origin)})),_=(0,a.useSelector)(g.getPreinstalledSnaps),w=(0,p.getDedupedSnaps)(e,k),S=w[0],{name:I}=(0,a.useSelector)((e=>(0,g.getSnapMetadata)(e,S))),O=Object.keys(_).includes(S),[N,M]=(0,o.useState)(!O&&!b),B=(0,o.useCallback)((()=>{n(e.metadata.id)}),[e,n]),A=(0,o.useCallback)((()=>{try{v(!0),t(e)}finally{v(!1)}}),[e,t]),D=()=>{var e;let t=null===(e=(0,y.useOriginMetadata)(C)||{})||void 0===e?void 0:e.hostname;const{name:n}=(0,a.useSelector)((e=>(0,g.getSnapMetadata)(e,(0,r.isSnapId)(C)?C:`npm:${C}`)));return(0,r.isSnapId)(C)&&(t=n),T?o.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,width:c.BlockSize.Full,height:c.BlockSize.Full},o.default.createElement(f.default,null)):(null==w?void 0:w.length)>1?o.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,paddingTop:4,width:c.BlockSize.Full,style:{overflowY:"hidden"},backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:c.TextAlign.Center},x("connectionRequest")),o.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center},x("multipleSnapConnectionWarning",[o.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),o.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},null==w?void 0:w.length)])),o.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,display:c.Display.Flex,marginTop:4,width:c.BlockSize.Full,style:{overflowY:"auto",flex:1}},w.map((e=>o.default.createElement(d.default,{key:`snaps-connect-${e}`,snapId:e,origin:t}))))):1===(null==w?void 0:w.length)?o.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(l.Box,{paddingBottom:2},o.default.createElement(h.SnapIcon,{snapId:w[0],avatarSize:l.IconSize.Xl})),o.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:"center"},x("connectionRequest")),o.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center,padding:[0,4],overflowWrap:c.OverflowWrap.Anywhere},x("snapConnectionWarning",[o.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),o.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},I)]))):null};return o.default.createElement(l.Box,{className:"snaps-connect",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,height:c.BlockSize.Full,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundAlternative},N&&o.default.createElement(m.default,{onAccepted:()=>{M(!1),E(!0)},onCanceled:B}),o.default.createElement(l.Box,{display:c.Display.Flex,height:c.BlockSize.Full,width:c.BlockSize.Full,paddingLeft:4,paddingRight:4},o.default.createElement(D,null)),o.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",hideCancel:!1,disabled:T,onCancel:B,cancelText:x("cancel"),onSubmit:A,submitText:x("connect")}))}x.propTypes={request:i.default.object.isRequired,approveConnection:i.default.func.isRequired,rejectConnection:i.default.func.isRequired,targetSubjectMetadata:i.default.shape({extensionId:i.default.string,iconUrl:i.default.string,name:i.default.string,origin:i.default.string,subjectType:i.default.string}),snapsInstallPrivacyWarningShown:i.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:i.default.func}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/snaps-connect.js"}],[7632,{"../../../helpers/utils/permission":7025},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapInstallWarnings=function(e,t,n,a){return Object.entries(e).reduce(((e,[i,r])=>{const s=(0,o.getPermissionDescription)({t:t,permissionName:i,permissionValue:r,subjectName:n,getSubjectName:a});return e.concat(s.filter((e=>e.weight<=2)))}),[])};var o=e("../../../helpers/utils/permission")}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/util.js"}],[7633,{"./remote-mode-daily-allowance-card.component":7634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./remote-mode-daily-allowance-card.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/remote-mode/components/daily-allowance-card/index.tsx"}],[7634,{"../../../../../shared/lib/remote-mode":5885,"../../../../components/component-library":6474,"../../../../components/ui/card":6823,"../../../../helpers/constants/design-system":6984,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({dailyAllowance:e,onRemove:t}){const n=(0,a.useCallback)((()=>{null==t||t()}),[t]);return a.default.createElement(r.default,{width:s.BlockSize.Full,marginTop:4,backgroundColor:s.BackgroundColor.backgroundPressed},a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4},a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,borderRadius:s.BorderRadius.MD},a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,gap:2},a.default.createElement("img",{src:l.TOKEN_DETAILS[e.symbol].image,style:{width:"24px",height:"24px",borderRadius:"50%"}}),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Medium},e.symbol)),t&&a.default.createElement(i.Button,{variant:i.ButtonVariant.Link,onClick:n},"Remove")),a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,gap:2},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},"Daily limit"),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,color:s.TextColor.textAlternative},e.amount," ",e.symbol)),a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,gap:2},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},"Available on"),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,color:s.TextColor.textAlternative},"MetaMask Extension"))))};var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("../../../../components/component-library"),r=(o=e("../../../../components/ui/card"))&&o.__esModule?o:{default:o},s=e("../../../../helpers/constants/design-system"),l=e("../../../../../shared/lib/remote-mode");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/remote-mode/components/daily-allowance-card/remote-mode-daily-allowance-card.component.tsx"}],[7635,{"./remote-mode-hardware-wallet-confirm.component":7636},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./remote-mode-hardware-wallet-confirm.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/remote-mode/components/hardware-wallet-confirm-modal/index.tsx"}],[7636,{"../../../../components/component-library":6474,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({visible:e,onConfirm:t,onClose:n}){return a.default.createElement(i.Modal,{onClose:n,isOpen:e},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,null,a.default.createElement(i.ModalHeader,{onClose:n},"Confirm"),a.default.createElement(i.ModalBody,null,a.default.createElement(i.Text,{paddingBottom:4},"Ready to confirm on your hardware wallet?"),a.default.createElement(i.Text,{paddingBottom:4},"Prior to clicking confirm:"),a.default.createElement("ul",{style:{listStyleType:"disc",paddingLeft:"20px"}},a.default.createElement(i.Text,{as:"li"},"Be sure your Ledger is plugged in and to select the Ethereum app."),a.default.createElement(i.Text,{as:"li"},'Enable "smart contract data" or "blind signing" on your Ledger device.'))),a.default.createElement(i.ModalFooter,{onCancel:n,onSubmit:t})))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../../components/component-library")}}},{package:"$root$",file:"ui/pages/remote-mode/components/hardware-wallet-confirm-modal/remote-mode-hardware-wallet-confirm.component.tsx"}],[7637,{"./daily-allowance-card":7633,"./hardware-wallet-confirm-modal":7635,"./remote-mode-status":7638,"./remote-mode-transaction":7640,"./revoke-withdrawl-confirm-modal":7644,"./send-allowance-banner":7646,"./step-indicator/step-indicator.component":7648,"./swap-allowance-card":7649},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RemoteModeDailyAllowanceCard",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"RemoteModeHardwareWalletConfirm",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"RemoteModeStatus",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"RemoteModeSwapAllowanceCard",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"RemoteModeTransaction",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"RevokeWithdrawlConfirm",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"SendAllowanceBanner",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"StepIndicator",{enumerable:!0,get:function(){return s.default}});var o=d(e("./daily-allowance-card")),a=d(e("./hardware-wallet-confirm-modal")),i=d(e("./revoke-withdrawl-confirm-modal")),r=d(e("./swap-allowance-card")),s=d(e("./step-indicator/step-indicator.component")),l=d(e("./remote-mode-transaction")),c=d(e("./remote-mode-status")),u=d(e("./send-allowance-banner"));function d(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/remote-mode/components/index.ts"}],[7638,{"./remote-mode-status.component":7639},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./remote-mode-status.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/remote-mode/components/remote-mode-status/index.ts"}],[7639,{"../../../../components/component-library":6474,"../../../../helpers/constants/design-system":6984,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({enabled:e}){return a.default.createElement(r.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.flexEnd},a.default.createElement(r.Icon,{name:r.IconName.Info,size:r.IconSize.Sm,color:i.IconColor.iconAlternativeSoft,marginRight:1,marginTop:1}),a.default.createElement(r.Text,{color:i.TextColor.textAlternativeSoft,variant:i.TextVariant.bodySm},"Remote Mode: ",e?"On":"Off"))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../../helpers/constants/design-system"),r=e("../../../../components/component-library")}}},{package:"$root$",file:"ui/pages/remote-mode/components/remote-mode-status/remote-mode-status.component.tsx"}],[7640,{"./remote-mode-transaction.component":7641},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./remote-mode-transaction.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/remote-mode/components/remote-mode-transaction/index.ts"}],[7641,{"../../../../components/component-library":6474,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../../components/component-library");n.default=()=>{const e="url('./images/controller.svg')";return a.default.createElement(i.Icon,{name:i.IconName.Global,style:{maskImage:e,WebkitMaskImage:e,display:"inline-block"}})}}}},{package:"$root$",file:"ui/pages/remote-mode/components/remote-mode-transaction/remote-mode-transaction.component.tsx"}],[7642,{"./remote-signer-information.component":7643},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./remote-signer-information.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/remote-mode/components/remote-signer-information/index.tsx"}],[7643,{"../../../../components/component-library":6474,"../../../../components/ui/sender-to-recipient/sender-to-recipient.component":6907,"../../../../helpers/constants/design-system":6984,"../../../../helpers/constants/routes":6989,"../../../../store/actions":7835,"@metamask/controller-utils":1559,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.RemoteSignerInformation=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("react-router-dom"),r=e("react-redux"),s=e("@metamask/controller-utils"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/ui/sender-to-recipient/sender-to-recipient.component"),d=e("../../../../helpers/constants/routes"),p=e("../../../../store/actions");const f=({signerAddress:e,originalSenderAddress:t})=>{const n=(0,i.useHistory)(),o=(0,r.useDispatch)(),f=(0,s.toChecksumHexAddress)(e);return a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,fontWeight:c.FontWeight.Bold,color:c.TextColor.textDefault},"Remote Signer"),a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,gap:2,justifyContent:c.JustifyContent.spaceBetween,alignItems:c.AlignItems.center},a.default.createElement(u.RecipientWithAddress,{checksummedRecipientAddress:f,addressOnly:!0}),a.default.createElement(l.Text,{display:c.Display.InlineBlock,color:c.TextColor.infoDefault,variant:c.TextVariant.bodyMd,onClick:()=>{o((0,p.setSelectedAccount)(t)),n.push(d.REMOTE_ROUTE)},style:{cursor:"pointer",paddingLeft:2}},"View permissions")))};n.RemoteSignerInformation=f;n.default=f}}},{package:"$root$",file:"ui/pages/remote-mode/components/remote-signer-information/remote-signer-information.component.tsx"}],[7644,{"./revoke-withdrawl-confirm-modal.component":7645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RevokeWithdrawlConfirmModalType",{enumerable:!0,get:function(){return o.RevokeWithdrawlConfirmModalType}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var s=i?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(o,r,s):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("./revoke-withdrawl-confirm-modal.component"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/remote-mode/components/revoke-withdrawl-confirm-modal/index.tsx"}],[7645,{"../../../../components/component-library":6474,"../../../../helpers/constants/design-system":6984,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RevokeWithdrawlConfirmModalType=void 0,n.default=function({visible:e,onConfirm:t,onClose:n,type:o}){return a.default.createElement(i.Modal,{onClose:n,isOpen:e},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,null,a.default.createElement(i.ModalHeader,{onClose:n},a.default.createElement(i.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,gap:2},a.default.createElement(i.Icon,{name:i.IconName.Warning,size:i.IconSize.Xl,color:r.IconColor.warningDefault}),a.default.createElement(i.Text,{variant:r.TextVariant.headingSm},"Revoke withdrawal limit?"))),a.default.createElement(i.ModalBody,null,a.default.createElement(i.Text,{paddingBottom:4},"This will remove your current ",o," allowances. You'll pay ($$) in network fees, since this happens on-chain."),a.default.createElement(i.Text,{paddingBottom:4},"To update allowance preferences instead, close this window and choose ",a.default.createElement("span",{style:{fontWeight:"bold"}},"Update"),".")),a.default.createElement(i.ModalFooter,{onCancel:n,onSubmit:t,submitButtonProps:{children:"Continue"}})))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../../components/component-library"),r=e("../../../../helpers/constants/design-system");n.RevokeWithdrawlConfirmModalType=function(e){return e.Swap="Swap",e.Spend="Spend",e}({})}}},{package:"$root$",file:"ui/pages/remote-mode/components/revoke-withdrawl-confirm-modal/revoke-withdrawl-confirm-modal.component.tsx"}],[7646,{"./send-allowance-banner.component":7647},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./send-allowance-banner.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/remote-mode/components/send-allowance-banner/index.ts"}],[7647,{"../../../../components/component-library":6474,"../../../../components/ui/card":6823,"../../../../helpers/constants/design-system":6984,"../../../../helpers/constants/routes":6989,react:5262,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({allowance:e}){const t=(0,a.useHistory)();return o.default.createElement(r.default,{backgroundColor:i.BackgroundColor.backgroundMuted,marginBottom:3},o.default.createElement(s.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodyMd},"Send ",`${e.amount} ${e.symbol}`," without connecting hardware wallet.",o.default.createElement(s.Text,{display:i.Display.InlineBlock,color:i.TextColor.infoDefault,variant:i.TextVariant.bodyMd,onClick:()=>t.push(l.REMOTE_ROUTE),style:{cursor:"pointer",paddingLeft:2}},"View permissions")))};var o=c(e("react")),a=e("react-router-dom"),i=e("../../../../helpers/constants/design-system"),r=c(e("../../../../components/ui/card")),s=e("../../../../components/component-library"),l=e("../../../../helpers/constants/routes");function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/remote-mode/components/send-allowance-banner/send-allowance-banner.component.tsx"}],[7648,{"../../../../components/component-library":6474,"../../../../helpers/constants/design-system":6984,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({currentStep:e,totalSteps:t}){return a.default.createElement(i.Box,{marginBottom:2,display:r.Display.Flex,justifyContent:r.JustifyContent.center},a.default.createElement(i.Text,{textAlign:r.TextAlign.Center,variant:r.TextVariant.bodySm,fontWeight:r.FontWeight.Medium,color:r.TextColor.infoDefault,backgroundColor:r.BackgroundColor.primaryMuted,style:{padding:"4px 8px",borderRadius:"16px",display:"inline-block"}},"Step ",e," of ",t))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../../components/component-library"),r=e("../../../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/remote-mode/components/step-indicator/step-indicator.component.tsx"}],[7649,{"./remote-mode-swap-allowance-card.component":7650},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./remote-mode-swap-allowance-card.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/remote-mode/components/swap-allowance-card/index.tsx"}],[7650,{"../../../../../shared/lib/remote-mode":5885,"../../../../components/component-library":6474,"../../../../components/ui/card":6823,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/remote-mode":7028,"../../remote.constants":7656,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({swapAllowance:e,onRemove:t}){const[n]=(0,a.useState)(l.TOKEN_DETAILS[e.from]),o=(0,a.useCallback)((()=>{null==t||t()}),[t]);return a.default.createElement(r.default,{width:s.BlockSize.Full,marginTop:4,backgroundColor:s.BackgroundColor.backgroundPressed},a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4},a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,borderRadius:s.BorderRadius.MD},a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,gap:2},a.default.createElement("img",{src:n.image,alt:n.name,style:{width:"24px",height:"24px",borderRadius:"50%"}}),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Medium},n.symbol)),t&&a.default.createElement(i.Button,{variant:i.ButtonVariant.Link,onClick:o},"Remove")),a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,gap:2},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},"Swap to"),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,color:s.TextColor.textAlternative},e.to)),a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,gap:2},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},"Daily limit"),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,color:s.TextColor.textAlternative},e.amount," ",n.symbol)),a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,gap:2},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},"Networks"),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,color:s.TextColor.textAlternative},(0,c.getChainNamesForDisplayByIds)(u.SUPPORTED_CHAINS_IDS))),a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,gap:2},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},"Available on"),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,color:s.TextColor.textAlternative},"MetaMask Extension"))))};var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("../../../../components/component-library"),r=(o=e("../../../../components/ui/card"))&&o.__esModule?o:{default:o},s=e("../../../../helpers/constants/design-system"),l=e("../../../../../shared/lib/remote-mode"),c=e("../../../../helpers/utils/remote-mode"),u=e("../../remote.constants");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/remote-mode/components/swap-allowance-card/remote-mode-swap-allowance-card.component.tsx"}],[7651,{"../../../../shared/lib/delegation":5871,"../../../../shared/lib/delegation/caveatBuilder/multiTokenPeriod":5865,"../../../../shared/lib/delegation/delegation":5868,"../../../../shared/lib/remote-mode":5885,"../../../../shared/modules/selectors/networks":5921,"../../../selectors":7812,"../../../selectors/remote-mode":7824,"../../../store/actions":7835,"../../../store/controller-actions/delegation-controller":7837,"../../confirmations/hooks/useConfirmationNavigation":7474,"../../confirmations/hooks/useEIP7702Account":7481,"../../confirmations/hooks/useEIP7702Networks":7482,"../remote.constants":7656,"@metamask/transaction-controller":2925,"@metamask/utils":2974,"ethers/lib/utils":4403,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRemoteMode=void 0;var o=e("@metamask/transaction-controller"),a=e("@metamask/utils"),i=e("react"),r=e("react-redux"),s=e("ethers/lib/utils"),l=e("../../../../shared/lib/delegation"),c=e("../../../../shared/lib/delegation/delegation"),u=e("../../../../shared/modules/selectors/networks"),d=e("../../../selectors"),p=e("../../../selectors/remote-mode"),f=e("../../../store/actions"),m=e("../../../store/controller-actions/delegation-controller"),g=e("../../confirmations/hooks/useEIP7702Account"),y=e("../../confirmations/hooks/useEIP7702Networks"),h=e("../../../../shared/lib/remote-mode"),b=e("../../confirmations/hooks/useConfirmationNavigation"),E=e("../../../../shared/lib/delegation/caveatBuilder/multiTokenPeriod"),x=e("../remote.constants");n.useRemoteMode=({account:e})=>{const{network7702List:t}=(0,y.useEIP7702Networks)(e),n=(0,r.useSelector)(u.getSelectedNetworkClientId),C=(0,r.useSelector)(d.getSelectedNetwork),{chainId:T}=C.configuration,[v,k]=(0,i.useState)(),{confirmations:_,navigateToId:w}=(0,b.useConfirmationNavigation)(),S=(0,i.useMemo)((()=>_.some((e=>e.id===v))),[_,v]);(0,i.useEffect)((()=>{S&&w(v)}),[S,w,v]);const{upgradeAccount:I}=(0,g.useEIP7702Account)({chainId:T}),O=(0,r.useSelector)((t=>(0,p.getRemoteModeConfig)(t,e,T))),N=(0,i.useMemo)((()=>(0,l.getDeleGatorEnvironment)((0,a.hexToNumber)(T)).EIP7702StatelessDeleGatorImpl),[T]),M=(0,i.useMemo)((()=>(0,l.getDeleGatorEnvironment)((0,a.hexToNumber)(T)).DelegationManager),[T]),B=(0,i.useMemo)((()=>t.find((e=>e.chainIdHex===T))),[t,T]),A=(0,i.useCallback)((e=>{const t=e===h.REMOTE_MODES.DAILY_ALLOWANCE?O.dailyAllowance:O.swapAllowance;return t?t.delegation:null}),[O.dailyAllowance,O.swapAllowance]),D=(0,i.useCallback)((async()=>{if(null==B||!B.isSupported){if(!(null!=B&&B.upgradeContractAddress||N))throw new Error("No upgrade contract address found");null!=B&&B.upgradeContractAddress?await I(e,null==B?void 0:B.upgradeContractAddress):await I(e,N)}}),[e,null==B?void 0:B.isSupported,null==B?void 0:B.upgradeContractAddress,I,N]),R=(0,i.useCallback)((async({selectedAccount:e,authorizedAccount:t,mode:n,meta:o})=>{const i=[];if(n===h.REMOTE_MODES.DAILY_ALLOWANCE){const e=JSON.parse(o??"{}").allowances.map((e=>{const t=(0,s.parseUnits)(e.amount.toString(),e.decimals);return{token:e.address,periodAmount:t.toBigInt(),periodDuration:x.DAY_IN_SECONDS,startDate:Math.floor((new Date).getTime()/1e3)}}));i.push((0,E.multiTokenPeriodBuilder)((0,l.getDeleGatorEnvironment)((0,a.hexToNumber)(T)),e))}const r=(0,l.createDelegation)({caveats:i,from:e.address,to:t.address}),c=await(0,m.signDelegation)({delegation:r,chainId:T});return r.signature=c,r}),[T]),P=(0,i.useCallback)((async({delegation:t})=>{const a=(0,c.encodeDisableDelegation)({delegation:t}),i=await(0,f.addTransaction)({from:e,to:M,data:a,value:"0x0"},{networkClientId:n,type:o.TransactionType.contractInteraction});return k(i.id),i}),[e,M,n]);return{enableRemoteMode:(0,i.useCallback)((async({selectedAccount:e,authorizedAccount:t,mode:n,meta:o})=>{await D();const a=await R({selectedAccount:e,authorizedAccount:t,mode:n,meta:o});(0,m.storeDelegationEntry)({delegation:a,tags:[n],chainId:T,meta:o})}),[T,R,D]),disableRemoteMode:(0,i.useCallback)((async({mode:e})=>{const t=A(e);if(!t)throw new Error("No delegation entry found");const n=await P({delegation:t});await(0,m.awaitDeleteDelegationEntry)({hash:(0,c.getDelegationHashOffchain)(t),txMeta:n})}),[P,A]),updateRemoteMode:(0,i.useCallback)((async({selectedAccount:e,authorizedAccount:t,mode:n,meta:o})=>{const a=A(n),i={delegation:await R({selectedAccount:e,authorizedAccount:t,mode:n,meta:o}),tags:[n],chainId:T,meta:o};if(!a)return await(0,m.storeDelegationEntry)(i);const r=await P({delegation:a});return await(0,m.awaitDeleteDelegationEntry)({hash:(0,c.getDelegationHashOffchain)(a),txMeta:r,entryToStore:i})}),[P,T,R,A]),remoteModeConfig:O}}}}},{package:"$root$",file:"ui/pages/remote-mode/hooks/useRemoteMode.ts"}],[7652,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return a.default.createElement(i.Box,null,a.default.createElement(i.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center},a.default.createElement("img",{className:"mm-box mm-box--margin-bottom-4 mm-box--width-1/5",src:"./images/remote-mode.png"}),a.default.createElement(i.Text,{variant:r.TextVariant.headingSm,fontWeight:r.FontWeight.Bold,paddingBottom:2},"Cold storage. Fast access."),a.default.createElement(i.Text,{variant:r.TextVariant.bodyMd,color:r.TextColor.textAlternativeSoft},"Remote Mode lets you use your hardware wallet without plugging it in.")),a.default.createElement(i.Box,{marginTop:4,marginBottom:6},a.default.createElement(i.Box,{display:r.Display.Flex,justifyContent:r.JustifyContent.flexStart,gap:2,paddingTop:2,paddingBottom:2},a.default.createElement(i.Icon,{name:i.IconName.SwapHorizontal,color:r.IconColor.infoDefault}),a.default.createElement(i.Text,null,a.default.createElement("span",{style:{fontWeight:"bold"}},"Stay secure.")," Your keys stay offline, and your funds stay in cold storage.")),a.default.createElement(i.Box,{display:r.Display.Flex,justifyContent:r.JustifyContent.flexStart,gap:2,paddingTop:2,paddingBottom:2},a.default.createElement(i.Icon,{name:i.IconName.Cash,color:r.IconColor.infoDefault}),a.default.createElement(i.Text,null,a.default.createElement("span",{style:{fontWeight:"bold"}},"Move faster.")," Allow limited actions like swaps or approvals ahead of time.")),a.default.createElement(i.Box,{display:r.Display.Flex,justifyContent:r.JustifyContent.flexStart,gap:2,paddingTop:2,paddingBottom:2},a.default.createElement(i.Icon,{name:i.IconName.SecurityTick,color:r.IconColor.infoDefault}),a.default.createElement(i.Text,null,a.default.createElement("span",{style:{fontWeight:"bold"}},"Stay in control.")," Set your own rules, like spending caps and allowed actions.")),a.default.createElement(i.Box,{display:r.Display.Flex,justifyContent:r.JustifyContent.flexStart,gap:2,paddingTop:2,paddingBottom:2},a.default.createElement(i.Icon,{name:i.IconName.Star,color:r.IconColor.infoDefault}),a.default.createElement(i.Text,null,a.default.createElement("span",{style:{fontWeight:"bold"}},"Get smart.")," All the benefits of a smart account, and your keys stay safe."))))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/remote-mode/introducing/remote-mode-introducing.component.tsx"}],[7653,{"./remote-mode-overview.container":7654},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./remote-mode-overview.container"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/remote-mode/overview/index.ts"}],[7654,{"../../../components/component-library":6474,"../../../components/multichain/pages/page":6764,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../helpers/utils/remote-mode":7028,"../../../selectors":7812,"../../../selectors/remote-mode":7824,"../hooks/useRemoteMode":7651,"../introducing/remote-mode-introducing.component":7652,"../setup/setup-swaps/remote-mode-setup-swaps.component":7660,"./remote-mode-permissions.component":7655,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const[e,t]=(0,o.useState)(E.OVERVIEW),[n,h]=(0,o.useState)(!0),b=(0,i.useHistory)(),x=(0,a.useSelector)(s.getSelectedInternalAccount),C=(0,a.useSelector)(l.getIsRemoteModeEnabled),{remoteModeConfig:T}=(0,f.useRemoteMode)({account:null==x?void 0:x.address});(0,o.useEffect)((()=>{C||b.push(p.DEFAULT_ROUTE)}),[C,b]),(0,o.useEffect)((()=>{T&&t(E.PERMISSIONS)}),[T]),(0,o.useEffect)((()=>{h((0,r.isRemoteModeSupported)(x))}),[x]);return o.default.createElement(u.Page,{className:"main-container","data-testid":"remote-mode"},o.default.createElement(u.Header,{textProps:{variant:d.TextVariant.headingSm},startAccessory:o.default.createElement(c.ButtonIcon,{size:c.ButtonIconSize.Sm,ariaLabel:"back",iconName:c.IconName.ArrowLeft,onClick:()=>{b.push(p.DEFAULT_ROUTE)}})},"Remote mode"),!n&&o.default.createElement(c.Box,{padding:4},o.default.createElement(c.BannerAlert,{severity:c.BannerAlertSeverity.Warning,marginBottom:2},o.default.createElement(c.Text,{variant:d.TextVariant.headingSm,fontWeight:d.FontWeight.Bold},"Select a hardware wallet"),o.default.createElement(c.Text,{variant:d.TextVariant.bodyMd},"To continue, select your hardware wallet from the account menu."))),(()=>{switch(e){case E.OVERVIEW:return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.Content,{padding:6},o.default.createElement(m.default,null)),o.default.createElement(u.Footer,null,o.default.createElement(c.Button,{style:{width:"100%"},onClick:()=>t(E.PERMISSIONS),size:c.ButtonSize.Lg,disabled:!n},"Get Remote Mode")));case E.PERMISSIONS:return o.default.createElement(u.Content,{padding:6},o.default.createElement(y.default,{setStartEnableRemoteSwap:()=>{b.push(p.REMOTE_ROUTE_SETUP_SWAPS)},setStartEnableDailyAllowance:()=>{b.push(p.REMOTE_ROUTE_SETUP_DAILY_ALLOWANCE)}}));case E.SETUP_REMOTE_SWAPS:return o.default.createElement(u.Content,{padding:2},o.default.createElement(g.default,null));default:return null}})())};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=e("react-router-dom"),r=e("../../../helpers/utils/remote-mode"),s=e("../../../selectors"),l=e("../../../selectors/remote-mode"),c=e("../../../components/component-library"),u=e("../../../components/multichain/pages/page"),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/constants/routes"),f=e("../hooks/useRemoteMode"),m=h(e("../introducing/remote-mode-introducing.component")),g=h(e("../setup/setup-swaps/remote-mode-setup-swaps.component")),y=h(e("./remote-mode-permissions.component"));function h(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}var E=function(e){return e.OVERVIEW="OVERVIEW",e.PERMISSIONS="PERMISSIONS",e.SETUP_REMOTE_SWAPS="SETUP_REMOTE_SWAPS",e.SETUP_DAILY_ALLOWANCE="SETUP_DAILY_ALLOWANCE",e}(E||{})}}},{package:"$root$",file:"ui/pages/remote-mode/overview/remote-mode-overview.container.tsx"}],[7655,{"../../../../shared/lib/remote-mode":5885,"../../../components/component-library":6474,"../../../components/ui/card":6823,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../selectors":7812,"../components":7637,"../components/revoke-withdrawl-confirm-modal":7644,"../hooks/useRemoteMode":7651,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({setStartEnableRemoteSwap:e,setStartEnableDailyAllowance:t}){const[n,o]=(0,a.useState)(!1),[y,h]=(0,a.useState)(!1),[b,E]=(0,a.useState)(!1),[x,C]=(0,a.useState)(!1),T=(0,i.useHistory)(),v=(0,r.useSelector)(d.getSelectedInternalAccount),{disableRemoteMode:k,remoteModeConfig:{swapAllowance:_,dailyAllowance:w}}=(0,f.useRemoteMode)({account:v.address});return a.default.createElement(s.Box,null,a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternativeSoft},"Remote Mode lets you use your hardware wallet without plugging it in."," "),a.default.createElement(s.Box,{paddingTop:2,paddingBottom:2},a.default.createElement(l.default,{backgroundColor:c.BackgroundColor.backgroundSection},a.default.createElement(s.Box,{display:c.Display.Flex,gap:2,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(s.Text,{fontWeight:c.FontWeight.Bold},"Remote Swaps"),_?a.default.createElement(s.Box,{display:c.Display.Flex,gap:4},a.default.createElement(s.Text,{color:c.TextColor.infoDefault,style:{cursor:"pointer"},onClick:()=>{T.push({pathname:g.REMOTE_ROUTE_SETUP_SWAPS,search:"?update=true"})}},"Update"),a.default.createElement(s.Text,{color:c.TextColor.errorDefault,style:{cursor:"pointer"},onClick:()=>E(!0)},"Revoke")):a.default.createElement(s.Text,{color:c.TextColor.infoDefault,style:{cursor:"pointer"},onClick:()=>{e&&e(!0)}},"Turn on")),_?a.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4,paddingTop:2},a.default.createElement(s.Box,{borderColor:c.BorderColor.borderMuted,width:c.BlockSize.Full,style:{height:"1px",borderBottomWidth:0},marginTop:2}),a.default.createElement(s.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,gap:2},a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"Authorized"),a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"Account #1")),a.default.createElement(s.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,gap:2},a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"Networks"),a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"Ethereum Mainnet")),a.default.createElement(s.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,gap:2},a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"Available on"),a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"MetaMask Swaps")),a.default.createElement(s.Box,{borderColor:c.BorderColor.borderMuted,width:c.BlockSize.Full,style:{height:"1px",borderBottomWidth:0},marginTop:2}),a.default.createElement(s.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,alignItems:c.AlignItems.center,onClick:()=>o(!n),style:{cursor:"pointer"}},a.default.createElement(s.Text,{color:c.TextColor.infoDefault},_.allowances.length," token",1===_.allowances.length?"":"s"," enabled"),a.default.createElement(s.Text,null,n?a.default.createElement(s.Icon,{name:s.IconName.ArrowUp,size:s.IconSize.Sm}):a.default.createElement(s.Icon,{name:s.IconName.ArrowDown,size:s.IconSize.Sm}))),n&&a.default.createElement(s.Box,null,_.allowances.map((e=>a.default.createElement(u.RemoteModeSwapAllowanceCard,{key:e.from,swapAllowance:e}))))):a.default.createElement(s.Text,{color:c.TextColor.textAlternativeSoft},"Allow your MetaMask account to trade with hardware funds via MetaMask Swaps. Allowances can only be used to swap."))),a.default.createElement(s.Box,{paddingTop:2,paddingBottom:2},a.default.createElement(l.default,{backgroundColor:c.BackgroundColor.backgroundSection},a.default.createElement(s.Box,{display:c.Display.Flex,gap:2,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(s.Text,{fontWeight:c.FontWeight.Bold},"Withdrawal limit"),w?a.default.createElement(s.Box,{display:c.Display.Flex,gap:4},a.default.createElement(s.Text,{color:c.TextColor.infoDefault,style:{cursor:"pointer"},onClick:()=>{T.push({pathname:g.REMOTE_ROUTE_SETUP_DAILY_ALLOWANCE,search:"?update=true"})}},"Update"),a.default.createElement(s.Text,{color:c.TextColor.errorDefault,style:{cursor:"pointer"},onClick:()=>C(!0)},"Revoke")):a.default.createElement(s.Text,{color:c.TextColor.infoDefault,style:{cursor:"pointer"},onClick:()=>{t&&t(!0)}},"Turn on")),w?a.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4,paddingTop:2},a.default.createElement(s.Box,{borderColor:c.BorderColor.borderMuted,width:c.BlockSize.Full,style:{height:"1px",borderBottomWidth:0},marginTop:2}),a.default.createElement(s.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,gap:2},a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"Authorized"),a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"Account #1")),a.default.createElement(s.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,gap:2},a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"Networks"),a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"Ethereum Mainnet")),a.default.createElement(s.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,gap:2},a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"Available on"),a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textMuted},"MetaMask Swaps")),a.default.createElement(s.Box,{borderColor:c.BorderColor.borderMuted,width:c.BlockSize.Full,style:{height:"1px",borderBottomWidth:0},marginTop:2}),a.default.createElement(s.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,alignItems:c.AlignItems.center,onClick:()=>h(!y),style:{cursor:"pointer"}},a.default.createElement(s.Text,{color:c.TextColor.infoDefault},w.allowances.length," token",1===w.allowances.length?"":"s"," enabled"),a.default.createElement(s.Text,null,y?a.default.createElement(s.Icon,{name:s.IconName.ArrowUp,size:s.IconSize.Sm}):a.default.createElement(s.Icon,{name:s.IconName.ArrowDown,size:s.IconSize.Sm}))),y&&a.default.createElement(s.Box,null,w.allowances.map((e=>a.default.createElement(u.RemoteModeDailyAllowanceCard,{key:e.symbol,dailyAllowance:e}))))):a.default.createElement(s.Text,{color:c.TextColor.textAlternativeSoft},"Allow your MetaMask account to withdraw from hardware funds up to the daily limit.")),a.default.createElement(u.RevokeWithdrawlConfirm,{visible:b,onConfirm:async()=>{E(!1),await k({mode:m.REMOTE_MODES.SWAP})},onClose:()=>E(!1),type:p.RevokeWithdrawlConfirmModalType.Swap}),a.default.createElement(u.RevokeWithdrawlConfirm,{visible:x,onConfirm:async()=>{C(!1),await k({mode:m.REMOTE_MODES.DAILY_ALLOWANCE})},onClose:()=>C(!1),type:p.RevokeWithdrawlConfirmModalType.Spend})))};var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=a?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("react-router-dom"),r=e("react-redux"),s=e("../../../components/component-library"),l=(o=e("../../../components/ui/card"))&&o.__esModule?o:{default:o},c=e("../../../helpers/constants/design-system"),u=e("../components"),d=e("../../../selectors"),p=e("../components/revoke-withdrawl-confirm-modal"),f=e("../hooks/useRemoteMode"),m=e("../../../../shared/lib/remote-mode"),g=e("../../../helpers/constants/routes");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/remote-mode/overview/remote-mode-permissions.component.tsx"}],[7656,{"../../../shared/constants/network":5813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SUPPORTED_HARDWARE_WALLET_TYPES=n.SUPPORTED_CHAINS_IDS=n.DAY_IN_SECONDS=void 0;var o=e("../../../shared/constants/network");n.SUPPORTED_CHAINS_IDS=[o.CHAIN_IDS.MAINNET],n.SUPPORTED_HARDWARE_WALLET_TYPES=["Ledger Hardware","Lattice Hardware"],n.DAY_IN_SECONDS=86400}}},{package:"$root$",file:"ui/pages/remote-mode/remote.constants.ts"}],[7657,{"./remote-mode-setup-daily-allowance.component":7658},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RemoteModeSetupDailyAllowance",{enumerable:!0,get:function(){return a.default}});var o,a=(o=e("./remote-mode-setup-daily-allowance.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/pages/remote-mode/setup/setup-daily-allowance/index.ts"}]],[],{});