LavaPack.loadBundle([[7075,{"../../selectors/metamask-notifications/metamask-notifications":7813,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useReadNotificationsCounter=function(){const{readSnapNotificationsCount:e}=a(),{featureAnnouncementsReadCount:t}=s(),{onChainMetamaskNotificationsReadCount:n}=i();return{notificationsReadCount:e+t+n}},n.useUnreadNotificationsCounter=function(){const{unreadSnapNotificationsCount:e}=a(),{featureAnnouncementsUnreadCount:t}=s(),{onChainMetamaskNotificationsUnreadCount:n}=i();return{notificationsUnreadCount:e+t+n}};var r=e("react-redux"),o=e("../../selectors/metamask-notifications/metamask-notifications");const a=()=>({unreadSnapNotificationsCount:(0,r.useSelector)(o.getSnapNotificationsUnreadCount),readSnapNotificationsCount:(0,r.useSelector)(o.getSnapNotificationsReadCount)}),s=()=>{const e=(0,r.useSelector)(o.selectIsFeatureAnnouncementsEnabled),t=(0,r.useSelector)(o.getFeatureAnnouncementsUnreadCount),n=(0,r.useSelector)(o.getFeatureAnnouncementsReadCount);return e?{featureAnnouncementsUnreadCount:t,featureAnnouncementsReadCount:n}:{featureAnnouncementsUnreadCount:0,featureAnnouncementsReadCount:0}},i=()=>{const e=(0,r.useSelector)(o.selectIsMetamaskNotificationsEnabled),t=(0,r.useSelector)(o.getOnChainMetamaskNotificationsUnreadCount),n=(0,r.useSelector)(o.getOnChainMetamaskNotificationsReadCount);return e?{onChainMetamaskNotificationsUnreadCount:t,onChainMetamaskNotificationsReadCount:n}:{onChainMetamaskNotificationsUnreadCount:0,onChainMetamaskNotificationsReadCount:0}}}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useCounter.tsx"}],[7076,{"../../store/actions":7835,loglevel:4920,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCreateNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,o.useState)(null);return{createNotifications:(0,o.useCallback)((async()=>{n(null);try{await e((0,i.createOnChainTriggers)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),s.default.error(e),e}}),[e]),error:t}},n.useDisableNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,o.useState)(null);return{disableNotifications:(0,o.useCallback)((async()=>{n(null);try{await e((0,i.disableMetamaskNotifications)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),s.default.error(e),e}}),[e]),error:t}},n.useEnableNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,o.useState)(null);return{enableNotifications:(0,o.useCallback)((async()=>{n(null);try{await e((0,i.enableMetamaskNotifications)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),s.default.error(e),e}}),[e]),error:t}},n.useListNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,o.useState)(!1),[r,l]=(0,o.useState)(null),[u,c]=(0,o.useState)(undefined);return{listNotifications:(0,o.useCallback)((async()=>{n(!0),l(null);const t=new URLSearchParams(window.location.search).get("previewToken");try{const n=await e((0,i.fetchAndUpdateMetamaskNotifications)(t??undefined));return c(n),n}catch(e){throw s.default.error(e),l(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1)}}),[e]),notificationsData:u,isLoading:t,error:r}},n.useMarkNotificationAsRead=function(){const e=(0,a.useDispatch)();return{markNotificationAsRead:(0,o.useCallback)((async t=>{try{e((0,i.markMetamaskNotificationsAsRead)(t))}catch(e){throw s.default.error(e),e}}),[e])}};var r,o=e("react"),a=e("react-redux"),s=(r=e("loglevel"))&&r.__esModule?r:{default:r},i=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useNotifications.ts"}],[7077,{"../../selectors/metamask-notifications/metamask-notifications":7813,"../../store/actions":7835,loglevel:4920,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountSettingsProps=function(e){const t=(0,a.useSelector)(l.getIsUpdatingMetamaskNotificationsAccount),n=(0,a.useSelector)(l.selectIsMetamaskNotificationsEnabled),r=function(){const e=(0,a.useDispatch)(),t=(0,o.useCallback)((async t=>{try{return await e((0,i.checkAccountsPresence)(t))}catch{return{}}}),[]);return t}(),[s,u]=(0,o.useState)({}),[c,d]=(0,o.useState)(!1),[m,p]=(0,o.useState)(null),f=(0,o.useMemo)((()=>JSON.stringify(e)),[e]),h=(0,o.useCallback)((async e=>{try{d(!0),p(null);const t=await r(e);u(t)}catch{p("Failed to get account settings")}finally{d(!1)}}),[]);return(0,o.useEffect)((()=>{if(!n)return;const e=JSON.parse(f);h(e)}),[f,r,n]),{data:s,initialLoading:c,error:m,accountsBeingUpdated:t,update:h}},n.useSwitchAccountNotificationsChange=function(){const e=(0,a.useDispatch)(),[t,n]=(0,o.useState)(null);return{onChange:(0,o.useCallback)((async(t,r)=>{n(null);try{r?await e((0,i.enableAccounts)(t)):await e((0,i.disableAccounts)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");s.default.error(t),n(t)}e((0,i.hideLoadingIndication)())}),[e]),error:t}},n.useSwitchFeatureAnnouncementsChange=function(){const e=(0,a.useDispatch)(),[t,n]=(0,o.useState)(null);return{onChange:(0,o.useCallback)((async t=>{n(null);try{await e((0,i.setFeatureAnnouncementsEnabled)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");n(t)}}),[e]),error:t}};var r,o=e("react"),a=e("react-redux"),s=(r=e("loglevel"))&&r.__esModule?r:{default:r},i=e("../../store/actions"),l=e("../../selectors/metamask-notifications/metamask-notifications")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useSwitchNotifications.ts"}],[7078,{"../../../shared/lib/snaps/snaps":5887,"../../selectors":7812,"../../selectors/accounts":7802,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHdKeyringsWithSnapAccounts=void 0;var r=e("react"),o=e("react-redux"),a=e("../../selectors/accounts"),s=e("../../selectors"),i=e("../../../shared/lib/snaps/snaps");n.useHdKeyringsWithSnapAccounts=()=>{const e=(0,o.useSelector)(s.getMetaMaskHdKeyrings),t=(0,o.useSelector)(a.getInternalAccounts);return(0,r.useMemo)((()=>e.map((e=>{const n=t.filter((t=>{var n;return t.metadata.snap&&(0,i.isSnapPreinstalled)(t.metadata.snap.id)&&(null===(n=t.options)||void 0===n?void 0:n.entropySource)===e.metadata.id})).map((e=>e.address));return{...e,accounts:[...e.accounts,...n]}}))),[e,t])}}}},{package:"$root$",file:"ui/hooks/multi-srp/useHdKeyringsWithSnapAccounts.ts"}],[7079,{"../../../../shared/modules/selectors/networks":5921,"../../../selectors":7812,"@metamask/bridge-controller":1483,"@metamask/utils":2974,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.RampsMetaMaskEntry=void 0;var r=e("react"),o=e("react-redux"),a=e("@metamask/bridge-controller"),s=e("@metamask/utils"),i=e("../../../../shared/modules/selectors/networks"),l=e("../../../selectors");let u=n.RampsMetaMaskEntry=function(e){return e.BuySellButton="ext_buy_sell_button",e.NftBanner="ext_buy_banner_nfts",e.TokensBanner="ext_buy_banner_tokens",e.ActivityBanner="ext_buy_banner_activity",e.BtcBanner="ext_buy_banner_btc",e}({});n.default=(e=u.BuySellButton)=>{const t=(0,o.useSelector)(i.getCurrentChainId),n=(0,o.useSelector)(l.getMetaMetricsId),c=(0,o.useSelector)(l.getParticipateInMetaMetrics),d=(0,o.useSelector)(l.getDataCollectionForMarketing),m=(0,r.useCallback)((t=>{try{const r=new URLSearchParams;r.set("metamaskEntry",e);let o="";o=(0,a.isSolanaChainId)(t)?t:(0,s.hexToNumber)(t).toString(),r.set("chainId",o),n&&r.set("metametricsId",n),r.set("metricsEnabled",String(c)),d&&r.set("marketingEnabled",String(d));const i=new URL("https://portfolio.metamask.io");return i.pathname="buy",i.search=r.toString(),i.toString()}catch{return"https://portfolio.metamask.io/buy"}}),[d,c,n,e]);return{openBuyCryptoInPdapp:(0,r.useCallback)((e=>{const n=m(e||t);global.platform.openTab({url:n})}),[t,m]),getBuyURI:m}}}}},{package:"$root$",file:"ui/hooks/ramps/useRamps/useRamps.ts"}],[7080,{"../../../shared/modules/conversion.utils":5904,"../../../shared/modules/hexstring-utils":5910,"../../selectors/snaps":7832,"@metamask/utils":2974,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=void 0;var r=e("@metamask/utils"),o=e("react-redux"),a=e("../../selectors/snaps"),s=e("../../../shared/modules/hexstring-utils"),i=e("../../../shared/modules/conversion.utils");n.useDisplayName=e=>{const{address:t,chain:{namespace:n,reference:l}}=e,u=n===r.KnownCaipNamespace.Eip155,c=u?(0,s.toChecksumHexAddress)(t):t,d=(0,o.useSelector)((e=>(0,a.getMemoizedAccountName)(e,c))),m=(0,o.useSelector)((e=>(0,a.getAddressBookEntryByNetwork)(e,c,`0x${(0,i.decimalToHex)(u?l:"0")}`)));return d||u&&(null==m?void 0:m.name)||undefined}}}},{package:"$root$",file:"ui/hooks/snaps/useDisplayName.ts"}],[7081,{"../../selectors":7812,"@metamask/snaps-sdk":2739,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useInsightSnaps=function(e){const t=(0,r.useSelector)((t=>(0,a.getSnapInsights)(t,e))),n=t?Object.values(t):[],s=n.filter((e=>e.severity===o.SeverityLevel.Critical));return{data:n,warnings:s}};var r=e("react-redux"),o=e("@metamask/snaps-sdk"),a=e("../../selectors")}}},{package:"$root$",file:"ui/hooks/snaps/useInsightSnaps.js"}],[7082,{react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react");n.default=()=>{const e=(0,r.useRef)(null),[t,n]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{n(e.current&&e.current.offsetHeight<e.current.scrollHeight)}),[e]),{contentRef:e,isOverflowing:t}}}}},{package:"$root$",file:"ui/hooks/snaps/useIsOverflowing.js"}],[7083,{"../../store/actions":7835,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeWebsite=void 0;var r=e("react"),o=e("../../store/actions");n.useSafeWebsite=e=>{const[t,n]=(0,r.useState)();return(0,r.useEffect)((()=>{e&&(async()=>{(await(0,o.getPhishingResult)(e)).result||n(new URL(e))})()}),[e]),t}}}},{package:"$root$",file:"ui/hooks/snaps/useSafeWebsite.ts"}],[7084,{"../../helpers/utils/util":7037,"@metamask/snaps-utils":2853,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-router-dom"),o=e("@metamask/snaps-utils"),a=e("../../helpers/utils/util");n.default=()=>{const e=(0,r.useHistory)();return{navigate:t=>{let n;const r=(0,o.parseMetaMaskUrl)(t);n=r.snapId?(0,a.getSnapRoute)(r.snapId):r.path,e.push(n)}}}}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNavigation.ts"}],[7085,{"../../store/actions":7835,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapSettings=function({snapId:e}){const t=(0,o.useDispatch)(),[n,s]=(0,r.useState)(!0),[i,l]=(0,r.useState)(undefined),[u,c]=(0,r.useState)(undefined);return(0,r.useEffect)((()=>{let n=!1;return e&&async function(e){try{c(undefined),s(!0);const r=await(0,a.handleSnapRequest)({snapId:e,origin:"metamask",handler:"onSettingsPage",request:{jsonrpc:"2.0",method:" "}});n||(l(r),(0,a.forceUpdateMetamaskState)(t))}catch(e){n||c(e)}finally{n||s(!1)}}(e),()=>{n=!0}}),[e]),{data:i,error:u,loading:n}};var r=e("react"),o=e("react-redux"),a=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapSettings.ts"}],[7086,{"../../selectors":7812,"../../store/actions":7835,loglevel:4920,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSyncSRPs=void 0;var r,o=e("react"),a=e("react-redux"),s=(r=e("loglevel"))&&r.__esModule?r:{default:r},i=e("../../store/actions"),l=e("../../selectors");n.useSyncSRPs=()=>{const e=(0,a.useDispatch)(),t=(0,a.useSelector)(l.getIsSocialLoginFlow),[n,r]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{t&&(async()=>{try{r(!0),await e((0,i.syncSeedPhrases)())}catch(e){s.default.error("[useSyncSRPs] error",e)}finally{r(!1)}})()}),[e,t]),{loading:n}}}}},{package:"$root$",file:"ui/hooks/social-sync/useSyncSRPs.ts"}],[7087,{"../../../shared/constants/swaps":5825,"../../../shared/modules/selectors/networks":5921,"../../ducks/swaps/swaps":6980,lodash:4912,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react"),o=e("react-redux"),a=e("lodash"),s=e("../../../shared/modules/selectors/networks"),i=e("../../../shared/constants/swaps"),l=e("../../ducks/swaps/swaps");n.default=function(){const e=(0,o.useSelector)(s.getCurrentChainId),t=(0,o.useSelector)(l.getFromToken,a.isEqual),n=(0,r.useMemo)((()=>{if(!t)return null;const n=i.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e]??null;return n?n.address===(null==t?void 0:t.address)?i.SWAPS_CHAINID_COMMON_TOKEN_PAIR[e]??null:n:null}),[e,null==t?void 0:t.address]);return n||console.warn(`No Swap default token found for chainId: ${e}`),{defaultToToken:n}}}}},{package:"$root$",file:"ui/hooks/swap/useSwapDefaultToToken.ts"}],[7088,{"../../shared/constants/network":5813,"../../shared/modules/conversion.utils":5904,"../../shared/modules/selectors/networks":5921,"../ducks/metamask/metamask":6971,"../helpers/utils/token-util":7033,"../selectors":7812,"ethereumjs-util":4363,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalCrossChainFiatBalance=void 0;var r=e("react-redux"),o=e("ethereumjs-util"),a=e("react"),s=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../../shared/modules/conversion.utils"),u=e("../helpers/utils/token-util"),c=e("../../shared/modules/selectors/networks"),d=e("../../shared/constants/network");n.useAccountTotalCrossChainFiatBalance=(e,t)=>{const n=(0,r.useSelector)(c.getNetworkConfigurationsByChainId),m=(0,r.useSelector)(i.getEnabledNetworks),p=(0,a.useMemo)((()=>Object.assign({},...Object.values(m??{}))),[m]),f=(0,r.useSelector)(s.getCurrencyRates),h=(0,r.useSelector)(s.getCurrentCurrency),g=(0,r.useSelector)(i.getCrossChainTokenExchangeRates,r.shallowEqual),k=(0,r.useSelector)(i.getCrossChainMetaMaskCachedBalances),y=(0,a.useMemo)((()=>({...g})),[g]),v=(0,a.useMemo)((()=>t.map((e=>Object.keys(p).includes(e.chainId.toString())?e:null)).filter((e=>null!==e))),[t,p]),T=(0,a.useMemo)((()=>v.map((t=>{var r,a;const{tokensWithBalances:s}=t,i=d.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[t.chainId]??n[t.chainId].nativeCurrency,c=null==f||null===(r=f[i])||void 0===r?void 0:r.conversionRate,m=s.map((e=>{var n;const r=null==y||null===(n=y[t.chainId])||void 0===n?void 0:n[(0,o.toChecksumAddress)(e.address)];return(0,u.getTokenFiatAmount)(r,c,h,e.string,e.symbol,!1,!1)})),p=(null==k||null===(a=k[t.chainId])||void 0===a?void 0:a[null==e?void 0:e.address])??0,g=(0,l.getValueFromWeiHex)({value:p,toCurrency:h,conversionRate:c,numberOfDecimals:2});return{...t,tokenFiatBalances:m,nativeFiatValue:g}}))),[v,n,f,y,k,null==e?void 0:e.address,h]);return{totalFiatBalance:(0,a.useMemo)((()=>T.reduce(((e,t)=>{const n=t.tokenFiatBalances.filter((e=>e!==undefined)),r=(0,l.sumDecimals)(t.nativeFiatValue,...n);return e+(r.toNumber?r.toNumber():Number(r))}),0)),[T]).toString(10),tokenFiatBalancesCrossChains:T}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalCrossChainFiatBalance.ts"}],[7089,{"../../shared/modules/conversion.utils":5904,"../../shared/modules/selectors/networks":5921,"../ducks/metamask/metamask":6971,"../helpers/utils/confirm-tx.util":7010,"../helpers/utils/token-util":7033,"../helpers/utils/util":7037,"../selectors":7812,"./useTokenBalances":7136,"ethereumjs-util":4363,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalFiatBalance=void 0;var r=e("react-redux"),o=e("ethereumjs-util"),a=e("react"),s=e("../../shared/modules/selectors/networks"),i=e("../selectors"),l=e("../../shared/modules/conversion.utils"),u=e("../ducks/metamask/metamask"),c=e("../helpers/utils/confirm-tx.util"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),p=e("./useTokenBalances");n.useAccountTotalFiatBalance=(e,t)=>{const n=(0,r.useSelector)(s.getCurrentChainId),f=(0,r.useSelector)(u.getConversionRate),h=(0,r.useSelector)(u.getCurrentCurrency),g=(0,r.useSelector)(i.getTokenExchangeRates,r.shallowEqual),k=(0,r.useSelector)(i.getConfirmationExchangeRates),y=(0,r.useSelector)(i.getMetaMaskCachedBalances),v=(null==y?void 0:y[null==e?void 0:e.address])??0,T=(0,l.getValueFromWeiHex)({value:v,toCurrency:h,conversionRate:f,numberOfDecimals:2}),b=(0,r.useSelector)(i.getAllTokens),S=(0,a.useMemo)((()=>{var t;return(null==b||null===(t=b[n])||void 0===t?void 0:t[null==e?void 0:e.address])??[]}),[null==e?void 0:e.address,n,b]),C=(0,r.useSelector)(i.getTokenList),w=(0,r.useSelector)(i.getNativeCurrencyImage),x=(0,r.useSelector)(u.getNativeCurrency),{tokensWithBalances:E}=(0,p.useTokenTracker)({chainId:n,tokens:S,address:null==e?void 0:e.address,hideZeroBalanceTokens:t}),A=(0,a.useMemo)((()=>({...g,...k})),[k,g]),I=(0,a.useMemo)((()=>E.map((e=>{const t=A[(0,o.toChecksumAddress)(e.address)];return(0,d.getTokenFiatAmount)(t,f,h,e.string,e.symbol,!1,!1)}))),[E,A,f,h]),_=(0,a.useMemo)((()=>((e,t)=>{const n=[];return t.forEach((t=>{const r=null==e?void 0:e[t.address.toLowerCase()];r&&n.push({...r,balance:t.balance,string:t.string,balanceError:t.balanceError})})),n})(C,E)),[C,E]),M=(0,a.useMemo)((()=>[{iconUrl:w,symbol:x,fiatBalance:T},..._.map(((e,t)=>({...e,fiatBalance:I[t]})))]),[_,I,w,x,T]),P=(0,a.useMemo)((()=>M.sort(((e,t)=>parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance)))),[M]),D=(0,l.sumDecimals)(T,...I).toString(10),N=(0,a.useMemo)((()=>(E.forEach((e=>{e.string=(0,m.roundToDecimalPlacesRemovingExtraZeroes)(e.string,5);const t=A[(0,o.toChecksumAddress)(e.address)];e.tokenFiatAmount=(0,d.getTokenFiatAmount)(t,f,h,e.string,e.symbol,!1,!1)||"0"})),E)),[E,A,f,h]),B=(0,c.formatCurrency)(D,h);let O=(0,l.getWeiHexFromDecimalValue)({value:D,fromCurrency:h,conversionRate:f,invertConversionRate:!0});return"NaN"===O&&(O="0x0"),{formattedFiat:B,totalWeiBalance:O,totalFiatBalance:D,tokensWithBalances:N,loading:!1,orderedTokenList:P,mergedRates:A}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[7090,{"../ducks/metamask/metamask":6971,"../selectors":7812,"../selectors/selectors":7827,"../store/actions":7835,"./useMultiPolling":7114,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=e("react-redux"),a=e("../selectors"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=e("../selectors/selectors"),u=(r=e("./useMultiPolling"))&&r.__esModule?r:{default:r};n.default=()=>{const e=(0,o.useSelector)(a.getNetworkClientIdsToPoll),t=(0,o.useSelector)(i.getCompletedOnboarding),n=(0,o.useSelector)(i.getIsUnlocked),r=(0,o.useSelector)(a.getEnabledNetworkClientIds),c=t&&n,d=l.isGlobalNetworkSelectorRemoved?r:e;(0,u.default)({startPolling:s.accountTrackerStartPolling,stopPollingByPollingToken:s.accountTrackerStopPollingByPollingToken,input:c?d:[]})}}}},{package:"$root$",file:"ui/hooks/useAccountTrackerPolling.ts"}],[7091,{"../ducks/confirm-alerts/confirm-alerts":6963,"../helpers/constants/design-system":6984,"../selectors/alerts":7803,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),o=e("react"),a=e("../selectors/alerts"),s=e("../ducks/confirm-alerts/confirm-alerts"),i=e("../helpers/constants/design-system");function l(e){const t={[i.Severity.Danger]:3,[i.Severity.Warning]:2,[i.Severity.Info]:1};return e.sort(((e,n)=>t[n.severity]-t[e.severity]))}n.default=e=>{const t=(0,r.useDispatch)(),n=l((0,r.useSelector)((t=>(0,a.selectAlerts)(t,e)))),u=(0,r.useSelector)((t=>(0,a.selectConfirmedAlertKeys)(t,e))),c=l((0,r.useSelector)((t=>(0,a.selectGeneralAlerts)(t,e)))),d=l((0,r.useSelector)((t=>(0,a.selectFieldAlerts)(t,e)))),m=(0,o.useCallback)((e=>e?n.filter((t=>t.field===e)):[]),[n]),p=(0,o.useCallback)(((n,r)=>{t((0,s.setAlertConfirmed)(e,n,r))}),[t,s.setAlertConfirmed,e]),f=(0,o.useCallback)((e=>u.includes(e)),[u]),h=n.filter((e=>!f(e.key)&&e.severity===i.Severity.Danger)),g=n.length>0,k=n.filter((e=>e.severity===i.Severity.Danger)),y=h.length>0,v=d.filter((e=>!f(e.key)&&e.severity===i.Severity.Danger));return{alerts:n,fieldAlerts:d,generalAlerts:c,getFieldAlerts:m,hasAlerts:g,dangerAlerts:k,hasDangerAlerts:(null==k?void 0:k.length)>0,hasUnconfirmedDangerAlerts:y,isAlertConfirmed:f,setAlertConfirmed:p,unconfirmedDangerAlerts:h,unconfirmedFieldDangerAlerts:v,hasUnconfirmedFieldDangerAlerts:v.length>0}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[7092,{react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RESULT_PENDING=n.RESULT_IDLE=n.RESULT_BASE=void 0,n.createErrorResult=l,n.createSuccessResult=i,n.useAsyncCallback=u,n.useAsyncResult=c,n.useAsyncResultOrThrow=function(e,t=[]){const n=c(e,t);if("error"===n.status)throw n.error;return n};var r=e("react");const o=n.RESULT_BASE={idle:!1,pending:!1,value:undefined,error:undefined},a=n.RESULT_IDLE={...o,status:"idle",idle:!0},s=n.RESULT_PENDING={...o,status:"pending",pending:!0};function i(e){return{...o,status:"success",value:e}}function l(e){return{...o,status:"error",error:e}}function u(e,t=[]){const[n,o]=(0,r.useState)(a),u=(0,r.useRef)(!0);(0,r.useEffect)((()=>()=>{u.current=!1}),[]);return[(0,r.useCallback)((async()=>{if(u.current){o(s);try{const t=await e();u.current&&o(i(t))}catch(e){u.current&&o(l(e))}}}),t),n]}function c(e,t=[]){const[n,o]=u(e,t);return(0,r.useEffect)((()=>{n()}),[n]),"idle"===o.status?s:o}}}},{package:"$root$",file:"ui/hooks/useAsync.ts"}],[7093,{"../../../shared/constants/app":5798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ZERO_BALANCE=n.SWEEPSTAKES_START=n.SWEEPSTAKES_SLIDE=n.SWEEPSTAKES_END=n.SOLANA_SLIDE=n.SMART_ACCOUNT_UPGRADE_SLIDE=n.REMOTE_MODE_SLIDE=n.MULTI_SRP_SLIDE=n.FUND_SLIDE=n.DOWNLOAD_MOBILE_APP_SLIDE=n.CASH_SLIDE=n.CARD_SLIDE=n.BRIDGE_SLIDE=n.BASIC_FUNCTIONALITY_SLIDE=n.BACKUPANDSYNC_SLIDE=void 0;var r=e("../../../shared/constants/app");n.BASIC_FUNCTIONALITY_SLIDE={id:"basic_functionality",title:"basicConfigurationBannerTitle",description:"enableIt",image:"./images/basic-functionality.svg"},n.REMOTE_MODE_SLIDE={id:"remoteMode",title:"slideRemoteModeTitle",description:"slideRemoteModeDescription",image:"./images/slide-cold-storage.svg",href:"/home.html#remote"},n.SOLANA_SLIDE={id:"solana",title:"slideSolanaTitle",description:"slideSolanaDescription",image:"./images/slide-solana-icon.svg"},n.SMART_ACCOUNT_UPGRADE_SLIDE={id:"smartAccountUpgrade",title:"slideSmartAccountUpgradeTitle",description:"slideSmartAccountUpgradeDescription",image:"./images/smart-account-upgrade.png"},n.SWEEPSTAKES_SLIDE={id:"sweepStake",title:"slideSweepStakeTitle",description:"slideSweepStakeDescription",image:"./images/sweepstakes.png",href:"https://portfolio.metamask.io/explore/nfts?event=012e19e2"},n.FUND_SLIDE={id:"fund",title:"slideFundWalletTitle",description:"slideFundWalletDescription",image:"./images/slide-fund-icon.svg",href:"https://portfolio.metamask.io/buy/build-quote"},n.BRIDGE_SLIDE={id:"bridge",title:"slideBridgeTitle",description:"slideBridgeDescription",image:"./images/slide-bridge-icon.svg"},n.CARD_SLIDE={id:"card",title:"slideDebitCardTitle",description:"slideDebitCardDescription",image:"./images/slide-card-icon.svg",href:"https://portfolio.metamask.io/card"},n.CASH_SLIDE={id:"cash",title:"slideCashOutTitle",description:"slideCashOutDescription",image:"./images/slide-sell-icon.svg",href:"https://portfolio.metamask.io/sell"},n.MULTI_SRP_SLIDE={id:"multiSrp",title:"slideMultiSrpTitle",description:"slideMultiSrpDescription",image:"./images/slide-multi-srp-icon.svg",href:"/home.html#import-srp"},n.BACKUPANDSYNC_SLIDE={id:"backupAndSync",title:"backupAndSyncSlideTitle",description:"backupAndSyncSlideDescription",image:"./images/slide-backup-and-sync-icon.png"},n.DOWNLOAD_MOBILE_APP_SLIDE={id:r.DOWNLOAD_MOBILE_APP_SLIDE_ID,title:"slideDownloadMobileAppTitle",description:"slideDownloadMobileAppDescription",image:"./images/slide-metamask-icon.svg"},n.ZERO_BALANCE="0x0",n.SWEEPSTAKES_START=new Date("2025-04-09T00:00:00Z"),n.SWEEPSTAKES_END=new Date("2025-04-28T23:59:59Z")}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/constants.ts"}],[7094,{"../../../shared/modules/environment":5905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchCarouselSlidesFromContentful=async function(){var e;if(!o||!a)return{prioritySlides:[],regularSlides:[]};const t=new URL(i);t.searchParams.set("access_token",a),t.searchParams.set("content_type",s),t.searchParams.set("fields.showInExtension","true");const n=await fetch(t).then((e=>e.json())),r=(null===(e=n.includes)||void 0===e?void 0:e.Asset)||[],l=e=>{var t;const n=r.find((t=>{var n;return t.sys.id===(null==e||null===(n=e.sys)||void 0===n?void 0:n.id)})),o=(null==n||null===(t=n.fields)||void 0===t||null===(t=t.file)||void 0===t?void 0:t.url)||"";return o.startsWith("//")?`https:${o}`:o},u=[],c=[];for(const e of n.items){const{headline:t,teaser:n,image:r,linkUrl:o,undismissable:a,startDate:s,endDate:i,priorityPlacement:d}=e.fields,m={id:`contentful-${e.sys.id}`,title:t,description:n,image:l(r),href:o,undismissable:a,dismissed:!1,startDate:s,endDate:i,priorityPlacement:d};d?u.push(m):c.push(m)}return{prioritySlides:u,regularSlides:c}};const r=(0,e("../../../shared/modules/environment").isProduction)(),o="jdkgyfmyd9sw",a="mAYNB_k65snv4AXW4o8ksZN8BwWDQF9702HKV7yBDZI",s="promotionalBanner",i=`https://${r?"cdn.contentful.com":"preview.contentful.com"}/spaces/${o}/environments/${r?"master":"dev"}/entries`}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/fetchCarouselSlidesFromContentful.ts"}],[7095,{"./constants":7093,"./useCarouselManagement":7096},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./useCarouselManagement");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=e("./constants");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}))}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/index.ts"}],[7096,{"../../../shared/lib/multichain/accounts":5880,"../../selectors":7812,"../../selectors/remote-mode":7824,"../../store/actions":7835,"./constants":7093,"./fetchCarouselSlidesFromContentful":7094,"@metamask/profile-sync-controller/sdk":2451,"bignumber.js":3997,lodash:4912,loglevel:4920,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSweepstakesCampaignActive=g,n.isActive=k,n.useCarouselManagement=void 0;var r,o=e("lodash"),a=e("react"),s=e("react-redux"),i=(r=e("loglevel"))&&r.__esModule?r:{default:r},l=e("bignumber.js"),u=e("@metamask/profile-sync-controller/sdk"),c=e("../../../shared/lib/multichain/accounts"),d=e("../../store/actions"),m=e("../../selectors"),p=e("../../selectors/remote-mode"),f=e("./constants"),h=e("./fetchCarouselSlidesFromContentful");function g(e){return e>=f.SWEEPSTAKES_START&&e<=f.SWEEPSTAKES_END}function k(e,t=new Date){const n=e.startDate?new Date(e.startDate):null,r=e.endDate?new Date(e.endDate):null;return!(n&&t<n)&&!(r&&t>r)}n.useCarouselManagement=({testDate:e}={})=>{const t=Boolean(!1),n=(0,s.useDispatch)(),r=(0,s.useSelector)(m.getSlides),y=(0,s.useSelector)(m.getRemoteFeatureFlags),v=(0,s.useSelector)(m.getSelectedAccountCachedBalance),T=(0,s.useSelector)(p.getIsRemoteModeEnabled),b=(0,s.useSelector)(m.getSelectedInternalAccount),S=(0,s.useSelector)(m.getUseExternalServices),C=(0,s.useSelector)(m.getShowDownloadMobileAppSlide),w=(0,a.useRef)(),x=new l.BigNumber(v??f.ZERO_BALANCE).eq(f.ZERO_BALANCE);return(0,a.useEffect)((()=>{const a=[],s=r.find((e=>e.id===f.SWEEPSTAKES_SLIDE.id)),l=(null==s?void 0:s.dismissed)??!1,m={...f.FUND_SLIDE,undismissable:x};(0,c.isSolanaAddress)(b.address)||a.push(f.SMART_ACCOUNT_UPGRADE_SLIDE),a.push(f.BRIDGE_SLIDE),a.push(f.CARD_SLIDE),a.push(f.CASH_SLIDE),a.push(f.MULTI_SRP_SLIDE),a.push(f.BACKUPANDSYNC_SLIDE),S||a.push(f.BASIC_FUNCTIONALITY_SLIDE),a.push(f.SOLANA_SLIDE),a.splice(x?0:2,0,m),T&&a.unshift(f.REMOTE_MODE_SLIDE);const p=g(e?new Date(e):new Date((new Date).toISOString()));if(t||!p||l){if(null!=s&&s.dismissed){const e={...f.SWEEPSTAKES_SLIDE,dismissed:!0};a.push(e)}}else{const e={...f.SWEEPSTAKES_SLIDE,dismissed:!1};a.unshift(e)}(async()=>{try{await(async()=>{const t=(null==y?void 0:y.contentfulCarouselEnabled)??!1;if(S&&C){const e=await(0,d.getUserProfileMetaMetrics)();e&&(e.lineage.some((e=>e.agent===u.Platform.MOBILE))||a.unshift(f.DOWNLOAD_MOBILE_APP_SLIDE))}if(t)try{const{prioritySlides:t,regularSlides:s}=await(0,h.fetchCarouselSlidesFromContentful)(),i=t=>t.map((e=>{const t=r.find((t=>t.id===e.id));return{...e,dismissed:(null==t?void 0:t.dismissed)??!1,undismissable:e.undismissable||(null==t?void 0:t.undismissable)||!1}})).filter((t=>k(t,e?new Date(e):new Date))),l=i(t),u=i(s),c=[...l,...a,...u];(0,o.isEqual)(w.current,c)||(n((0,d.updateSlides)(c)),w.current=c)}catch(e){i.default.warn("Failed to fetch Contentful slides:",e),(0,o.isEqual)(w.current,a)||(n((0,d.updateSlides)(a)),w.current=a)}else(0,o.isEqual)(w.current,a)||(n((0,d.updateSlides)(a)),w.current=a)})()}catch(e){i.default.warn("Failed to load carousel slides:",e)}})()}),[n,x,T,y,e,t,r,b.address,S,C]),{slides:r}}}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/useCarouselManagement.ts"}],[7097,{"../../shared/constants/copy":5801,"../../shared/constants/time":5827,"./useTimeout":7135,"copy-to-clipboard":4175,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCopyToClipboard=function(e=u,t={expireClipboard:!0}){const[n,r]=(0,o.useState)(!1),s=(0,l.useTimeout)((()=>{!0===n&&(t.expireClipboard&&(0,a.default)(" ",i.COPY_OPTIONS),r(!1))}),e,!1),c=(0,o.useCallback)((e=>{r(!0),s(),(0,a.default)(e,i.COPY_OPTIONS)}),[s]),d=(0,o.useCallback)((()=>{r(!1)}),[]);return[n,c,d]};var r,o=e("react"),a=(r=e("copy-to-clipboard"))&&r.__esModule?r:{default:r},s=e("../../shared/constants/time"),i=e("../../shared/constants/copy"),l=e("./useTimeout");const u=s.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[7098,{"../../shared/constants/common":5800,"../../shared/constants/network":5813,"../../shared/modules/Numeric":5899,"../../shared/modules/conversion.utils":5904,"../ducks/metamask/metamask":6971,"../helpers/utils/confirm-tx.util":7010,"../helpers/utils/token-util":7033,"../selectors/multichain":7819,"./useMultichainSelector":7117,"@metamask/multichain-network-controller":2212,"bignumber.js":3997,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MIN_AMOUNT=n.DEFAULT_PRECISION=void 0,n.useCurrencyDisplay=function(e,{account:t,displayValue:n,prefix:r,numberOfDecimals:a,denomination:g,currency:v,isAggregatedFiatOverviewBalance:T,...b},S=null){const C=(0,h.useMultichainSelector)(l.getMultichainIsEvm,t),w=(0,h.useMultichainSelector)(l.getMultichainCurrentCurrency,t),x=(0,h.useMultichainSelector)(l.getMultichainNativeCurrency,t),E=(0,h.useMultichainSelector)(l.getMultichainConversionRate,t),A=(0,h.useMultichainSelector)(f.getCurrencyRates,t),I=v===w,_=v===x||v===c.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[S],M=(0,o.useMemo)((()=>{return n||(C||T?T?(0,i.formatCurrency)(e,v):function({isNativeCurrency:e,isUserPreferredCurrency:t,currency:n,nativeCurrency:r,inputValue:o,conversionRate:a,denomination:s,numberOfDecimals:l}){if(e||!t&&!r){const e=new d.Numeric(o,16,m.EtherDenomination.WEI).toDenomination(s||m.EtherDenomination.ETH).round(l||y).toBase(10).toString();return"0"===e&&o&&0!==Number(o)?k:e}if(t&&a)return(0,i.formatCurrency)((0,u.getValueFromWeiHex)({value:o,fromCurrency:r,toCurrency:n,conversionRate:a,numberOfDecimals:l||2,toDenomination:s}),n);return null}({isNativeCurrency:_,isUserPreferredCurrency:I,currency:v,nativeCurrency:x,inputValue:e,conversionRate:E,denomination:g,numberOfDecimals:a}):function({tokenSymbol:e,isNativeCurrency:t,isUserPreferredCurrency:n,currency:r,currentCurrency:o,nativeCurrency:a,inputValue:s,conversionRate:l}){if(t||!n&&!a)return new d.Numeric(s,10).toString();if(n&&l){const t=(0,p.getTokenFiatAmount)(1,Number(l),o,s,e,!1,!1)??"0";return(0,i.formatCurrency)(t,r)}return null}({tokenSymbol:x,isNativeCurrency:_,isUserPreferredCurrency:I,currency:v,currentCurrency:w,nativeCurrency:x,inputValue:e,conversionRate:S?null==A||null===(t=A[c.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[S]])||void 0===t?void 0:t.conversionRate:E}));var t}),[n,C,_,I,v,x,e,E,g,a,w,T,S,A]);let P;if(!b.hideLabel){const e=[...Object.values(c.TEST_NETWORK_TICKER_MAP),...Object.values(s.MULTICHAIN_NETWORK_TICKER)].includes(v)?v:null==v?void 0:v.toUpperCase();P=b.suffix||e}return[`${r||""}${M}${P?` ${P}`:""}`,{prefix:r,value:M,suffix:P}]};var r,o=e("react"),a=(r=e("bignumber.js"))&&r.__esModule?r:{default:r},s=e("@metamask/multichain-network-controller"),i=e("../helpers/utils/confirm-tx.util"),l=e("../selectors/multichain"),u=e("../../shared/modules/conversion.utils"),c=e("../../shared/constants/network"),d=e("../../shared/modules/Numeric"),m=e("../../shared/constants/common"),p=e("../helpers/utils/token-util"),f=e("../ducks/metamask/metamask"),h=e("./useMultichainSelector");const g=n.MIN_AMOUNT=1e-6,k=`<${g}`,y=n.DEFAULT_PRECISION=new a.default(g).decimalPlaces()}}},{package:"$root$",file:"ui/hooks/useCurrencyDisplay.js"}],[7099,{"../../shared/modules/selectors/networks":5921,"../ducks/metamask/metamask":6971,"../helpers/utils/isOriginalNativeTokenSymbol":7019,"../selectors":7812,"../selectors/multichain/networks":7820,"../selectors/selectors":7827,"../store/actions":7835,"./usePolling":7126,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=e("react"),a=e("react-redux"),s=e("../selectors"),i=e("../selectors/multichain/networks"),l=e("../store/actions"),u=e("../ducks/metamask/metamask"),c=e("../selectors/selectors"),d=e("../../shared/modules/selectors/networks"),m=e("../helpers/utils/isOriginalNativeTokenSymbol"),p=(r=e("./usePolling"))&&r.__esModule?r:{default:r};n.default=()=>{const e=(()=>{const e=(0,a.useSelector)(u.getCompletedOnboarding),t=(0,a.useSelector)(u.getIsUnlocked),n=(0,a.useSelector)(s.getUseCurrencyRateCheck);return e&&t&&n})(),t=(e=>{const t=(0,a.useSelector)(d.getNetworkConfigurationsByChainId),n=(0,a.useSelector)(s.useSafeChainsListValidationSelector),[r,l]=(0,o.useState)([]),u=(0,a.useSelector)(s.getChainIdsToPoll),p=(0,a.useSelector)(i.getEnabledChainIds),f=c.isGlobalNetworkSelectorRemoved?p:u;return(0,o.useEffect)((()=>{(async()=>{const r=(await Promise.all(Object.values(t).map((async t=>{const r=await(0,m.getOriginalNativeTokenSymbol)({chainId:t.chainId,useAPICall:n&&e});return f.includes(t.chainId)?r??t.nativeCurrency:null})))).filter((e=>null!==e)),o=[...new Set(r)];l(o)})()}),[u,e,t,f,n]),r})(e),n=e&&t.length>0;(0,p.default)({startPolling:l.currencyRateStartPolling,stopPollingByPollingToken:l.currencyRateStopPollingByPollingToken,input:t,enabled:n})}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[7100,{"../../shared/constants/swaps":5825,"../../shared/modules/selectors/networks":5921,"../../shared/modules/string-utils":5924,"../ducks/metamask/metamask":6971,"../helpers/constants/routes":6989,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,o.useRouteMatch)({path:`${i.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),n=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,c=(0,r.useSelector)(a.getTokens),d=n&&c.find((({address:e})=>(0,u.isEqualCaseInsensitive)(e,n))),m=(0,r.useSelector)(s.getCurrentChainId);return d??(l.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[m]||l.ETH_SWAPS_TOKEN_OBJECT)};var r=e("react-redux"),o=e("react-router-dom"),a=e("../ducks/metamask/metamask"),s=e("../../shared/modules/selectors/networks"),i=e("../helpers/constants/routes"),l=e("../../shared/constants/swaps"),u=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[7101,{"../../shared/constants/first-party-contracts":5804,"../../shared/modules/hexstring-utils":5910,"../ducks/domains":6965,"../helpers/utils/trust-signals":7035,"../selectors":7812,"../selectors/nft":7821,"./useName":7119,"./useNftCollectionsMetadata":7120,"./useTrustSignals":7146,"@metamask/name-controller":2309,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=function(e){return f([e])[0]},n.useDisplayNames=f;var r=e("@metamask/name-controller"),o=e("react-redux"),a=e("../../shared/constants/first-party-contracts"),s=e("../../shared/modules/hexstring-utils"),i=e("../ducks/domains"),l=e("../selectors"),u=e("../selectors/nft"),c=e("../helpers/utils/trust-signals"),d=e("./useName"),m=e("./useNftCollectionsMetadata"),p=e("./useTrustSignals");function f(e){const t=(0,d.useNames)(e),n=e.map((({type:e,value:t,variation:n})=>{if(e!==r.NameType.ETHEREUM_ADDRESS)return undefined;const o=t.toLowerCase();return Object.keys(a.FIRST_PARTY_CONTRACT_NAMES).find((e=>{var t;const r=null===(t=a.FIRST_PARTY_CONTRACT_NAMES[e])||void 0===t?void 0:t[n];return(null==r?void 0:r.toLowerCase())===o}))}));const f=(0,p.useTrustSignals)(e),h=function(e){const t=(0,o.useSelector)(l.selectERC20TokensByChain);return e.map((({preferContractSymbol:e,type:n,value:o,variation:a})=>{var s;if(n!==r.NameType.ETHEREUM_ADDRESS)return undefined;const i=o.toLowerCase(),{iconUrl:l,name:u,symbol:c}=(null==t||null===(s=t[a])||void 0===s||null===(s=s.data)||void 0===s?void 0:s[i])??{};return{name:e&&c?c:u,image:l}}))}(e),g=function(e){const t=(0,o.useSelector)(u.getNftContractsByAddressByChain);return e.map((({type:e,value:n,variation:o})=>{var a;if(e!==r.NameType.ETHEREUM_ADDRESS)return undefined;const s=n.toLowerCase(),i=t[o];return null==i||null===(a=i[s])||void 0===a?void 0:a.name}))}(e),k=function(e){const t=e.filter((({type:e})=>e===r.NameType.ETHEREUM_ADDRESS)).map((({value:e,variation:t})=>({chainId:t,contractAddress:e}))),n=(0,m.useNftCollectionsMetadata)(t);return e.map((({type:e,value:t,variation:o})=>{var a;if(e!==r.NameType.ETHEREUM_ADDRESS)return undefined;const s=null===(a=n[o])||void 0===a?void 0:a[t.toLowerCase()],i=!1!==(null==s?void 0:s.isSpam);if(!s||i)return undefined;const{name:l,image:u}=s;return{name:l,image:u}}))}(e),y=function(e){const t=(0,o.useSelector)(i.getDomainResolutions);return e.map((({type:e,value:n})=>{if(e!==r.NameType.ETHEREUM_ADDRESS)return undefined;const o=null==t?void 0:t.find((e=>(0,s.toChecksumHexAddress)(e.resolvedAddress)===(0,s.toChecksumHexAddress)(n)));return null==o?void 0:o.domainName}))}(e);return e.map(((e,r)=>{const o=t[r],a=n[r],s=f[r],i=h[r],l=g[r],u=k[r],d=y[r];let m=(null==o?void 0:o.name)||a||(null==u?void 0:u.name)||(null==i?void 0:i.name)||l||d||null;const v=Boolean(null==o?void 0:o.name),T=function(e,t,n){if(e===p.TrustSignalDisplayState.Malicious)return p.TrustSignalDisplayState.Malicious;if(t)return p.TrustSignalDisplayState.Petname;if(e===p.TrustSignalDisplayState.Warning)return p.TrustSignalDisplayState.Warning;if(n)return p.TrustSignalDisplayState.Recognized;if(e===p.TrustSignalDisplayState.Verified)return p.TrustSignalDisplayState.Verified;if(e===p.TrustSignalDisplayState.Unknown)return p.TrustSignalDisplayState.Unknown;return p.TrustSignalDisplayState.Unknown}(null==s?void 0:s.state,v,m),b=(null==u?void 0:u.image)||(null==i?void 0:i.image),S=(0,c.getTrustSignalIcon)(T),C=null==s?void 0:s.label;return null===m&&C&&(m=C),{name:m,hasPetname:v,contractDisplayName:null==i?void 0:i.name,image:b,icon:S,displayState:T}}))}}}},{package:"$root$",file:"ui/hooks/useDisplayName.ts"}],[7102,{lodash:4912,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=o.isEqual){const[n,a]=(0,r.useState)(e);return(0,r.useLayoutEffect)((()=>{t(e,n)||a(e)}),[e,t,n]),n};var r=e("react"),o=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[7103,{"../../shared/modules/conversion.utils":5904,"../ducks/metamask/metamask":6971,"../helpers/utils/confirm-tx.util":7010,"../selectors":7812,"bignumber.js":3997,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEthFiatAmount=function(e,t={},n){const r=(0,a.useSelector)(u.getConversionRate),d=(0,a.useSelector)(u.getCurrentCurrency),m=(0,a.useSelector)(i.getShouldShowFiat),p=t.showFiat??m,f=(0,o.useMemo)((()=>(0,c.decEthToConvertedCurrency)(e,d,r)),[r,d,e]);if(!p||"ETH"===d.toUpperCase()||r<=0||e===undefined)return undefined;const h=new s.default(e.toString()).times(r);if(e&&h.lt(new s.default(.01))&&h.greaterThan(new s.default(0)))return n?`< ${(0,l.formatCurrency)(.01,d)}`:`< ${(0,l.formatCurrency)(.01,d)} ${d.toUpperCase()}`;return n?(0,l.formatCurrency)(f,d):`${(0,l.formatCurrency)(f,d)} ${d.toUpperCase()}`};var r,o=e("react"),a=e("react-redux"),s=(r=e("bignumber.js"))&&r.__esModule?r:{default:r},i=e("../selectors"),l=e("../helpers/utils/confirm-tx.util"),u=e("../ducks/metamask/metamask"),c=e("../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[7104,{react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react");n.default=e=>{const[t,n]=(0,r.useState)(""),[o,a]=(0,r.useState)("");return(0,r.useEffect)((()=>{(async()=>{if(e)try{const t=await fetch(e);if(!t.ok)return;let r=await t.text();r=r.replace(/,\s*}/g,"}").replace(/,\s*\]/g,"]");const o=JSON.parse(r);n(o.image),a(o.name)}catch{}})()}),[e]),{image:t,name:o}}}}},{package:"$root$",file:"ui/hooks/useFetchNftDetailsFromTokenURI.ts"}],[7105,{"../ducks/locale/locale":6970,"../ducks/metamask/metamask":6971,"../helpers/utils/util":7037,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFiatFormatter=void 0;var r=e("react-redux"),o=e("../ducks/locale/locale"),a=e("../ducks/metamask/metamask"),s=e("../helpers/utils/util");n.useFiatFormatter=()=>{const e=(0,r.useSelector)(o.getIntlLocale),t=(0,r.useSelector)(a.getCurrentCurrency);return(n,r={})=>{const{shorten:o,truncatedCharLimit:a,truncatedStartChars:i}=r;try{const r=new Intl.NumberFormat(e,{style:"currency",currency:t});if(!o)return r.format(n);const l=r.formatToParts(n);let u="",c="";l.forEach((e=>{"currency"===e.type?u+=e.value:c+=e.value}));const d=(0,s.shortenString)(c,{truncatedCharLimit:a??15,truncatedStartChars:i??12,truncatedEndChars:0,skipCharacterInEnd:!0});return l.findIndex((e=>"currency"===e.type))<l.findIndex((e=>"integer"===e.type))?`${u}${d}`:`${d}${u}`}catch(r){const a=new Intl.NumberFormat(e).format(n),i=(0,s.shortenString)(a,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return o?`${i} ${t}`:`${a} ${t}`}}}}}},{package:"$root$",file:"ui/hooks/useFiatFormatter.ts"}],[7106,{"../../shared/modules/selectors/networks":5921,"../ducks/metamask/metamask":6971,"../store/actions":7835,"./usePolling":7126,"lodash/isEqual":4899,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(e){const t=(0,o.useSelector)(l.getSelectedNetworkClientId),n=e??t,[c,d]=(0,a.useState)(""),m=(0,o.useSelector)((e=>(0,s.getGasEstimateTypeByChainId)(e,c))),p=(0,o.useSelector)((e=>(0,s.getGasFeeEstimatesByChainId)(e,c)),r.default),f=(0,o.useSelector)((e=>(0,s.getIsGasEstimatesLoadingByChainId)(e,{chainId:c,networkClientId:n}))),h=(0,o.useSelector)((e=>(0,s.getIsNetworkBusyByChainId)(e,c)));return(0,a.useEffect)((()=>{let e=!0;return(0,i.getNetworkConfigurationByNetworkClientId)(n).then((t=>{t&&e&&d(t.chainId)})),()=>{e=!1}}),[n]),(0,u.default)({startPolling:e=>(0,i.gasFeeStartPollingByNetworkClientId)(e.networkClientId),stopPollingByPollingToken:i.gasFeeStopPollingByPollingToken,input:{networkClientId:n}}),{gasFeeEstimates:p,gasEstimateType:m,isGasEstimatesLoading:f,isNetworkBusy:h}};var r=c(e("lodash/isEqual")),o=e("react-redux"),a=e("react"),s=e("../ducks/metamask/metamask"),i=e("../store/actions"),l=e("../../shared/modules/selectors/networks"),u=c(e("./usePolling"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[7107,{"../helpers/utils/util":7037,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react"),o=e("../helpers/utils/util");n.default=(e,t)=>{const[n,a]=(0,r.useState)("");return(0,r.useEffect)((()=>{(async()=>{const n=await(0,o.getAssetImageURL)(e,t);a(n)})()}),[e,t]),n}}}},{package:"$root$",file:"ui/hooks/useGetAssetImageUrl.ts"}],[7108,{"../../shared/modules/conversion.utils":5904,"../../shared/modules/selectors/networks":5921,"../selectors":7812,"./useTokenBalances":7136,"bn.js":4045,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGetFormattedTokensPerChain=void 0;var r=e("react-redux"),o=e("bn.js"),a=e("../selectors"),s=e("../../shared/modules/selectors/networks"),i=e("../../shared/modules/conversion.utils"),l=e("./useTokenBalances");n.useGetFormattedTokensPerChain=(e,t,n,u)=>{const c=(0,r.useSelector)(s.getCurrentChainId),d=(0,r.useSelector)(a.getAllTokens),m=(0,l.useTokenBalances)({chainIds:u});return{formattedTokensWithBalancesPerChain:(n?[c]:u).map((n=>{var r;const a=((null==d||null===(r=d[n])||void 0===r?void 0:r[null==e?void 0:e.address])??[]).reduce(((r,a)=>{var s;const u=(null===(s=m.tokenBalances[e.address])||void 0===s||null===(s=s[n])||void 0===s?void 0:s[a.address])??"0x0";if("0x0"!==u||!t){const e=(0,i.hexToDecimal)(u);r.push({address:a.address,symbol:a.symbol,decimals:a.decimals,balance:e,string:(0,l.stringifyBalance)(new o.BN(e),new o.BN(a.decimals))})}return r}),[]);return{chainId:n,tokensWithBalances:a}}))}}}}},{package:"$root$",file:"ui/hooks/useGetFormattedTokensPerChain.ts"}],[7110,{"../../app/scripts/lib/util":226,"../helpers/utils/isOriginalNativeTokenSymbol":7019,"../selectors":7812,"../selectors/multichain":7819,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalNativeTokenSymbol=function(e,t,n,u=""){const[c,d]=(0,r.useState)(!1),m=(0,o.useSelector)(a.useSafeChainsListValidationSelector),p=(0,o.useSelector)(s.getMultichainIsEvm),f=(0,o.useSelector)(s.getMultichainCurrentNetwork);return(0,r.useEffect)((()=>{!async function(e){if(p)try{if((e=>{const t=(0,i.getValidUrl)(e);return null!==t&&("localhost"===t.hostname||"127.0.0.1"===t.hostname)})(u))return void d(!0);const n=await(0,l.isOriginalNativeTokenSymbol)({ticker:t,chainId:e,useAPICall:m});d(n)}catch(e){d(!1)}else d(t===(null==f?void 0:f.ticker))}(e)}),[c,e,t,n,u,m,p,null==f?void 0:f.ticker]),c};var r=e("react"),o=e("react-redux"),a=e("../selectors"),s=e("../selectors/multichain"),i=e("../../app/scripts/lib/util"),l=e("../helpers/utils/isOriginalNativeTokenSymbol")}}},{package:"$root$",file:"ui/hooks/useIsOriginalNativeTokenSymbol.ts"}],[7111,{"../selectors":7812,"../store/actions":7835,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalTokenSymbol=function(e,t){const[n,i]=(0,r.useState)(null),l=(0,o.useSelector)(s.getTokenList);return(0,r.useEffect)((()=>{!async function(e){var n,r;let o=null===(n=l[null==e?void 0:e.toLowerCase()])||void 0===n?void 0:n.symbol;o||(o=await(0,a.getTokenSymbol)(e)),i((null===(r=o)||void 0===r?void 0:r.toLowerCase())===(null==t?void 0:t.toLowerCase()))}(e)}),[e,t]),n};var r=e("react"),o=e("react-redux"),a=e("../store/actions"),s=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useIsOriginalTokenSymbol.js"}],[7112,{"../store/actions":7835,loglevel:4920,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisableMetametrics=function(){const e=(0,a.useDispatch)(),[t,n]=(0,o.useState)(!1),[r,s]=(0,o.useState)(null);return{disableMetametrics:(0,o.useCallback)((async()=>{n(!0),e((0,i.showLoadingIndication)()),s(null);try{await e((0,i.setParticipateInMetaMetrics)(!1))}catch(e){throw s(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())}),[e]),loading:t,error:r}},n.useEnableMetametrics=function(){const e=(0,a.useDispatch)(),[t,n]=(0,o.useState)(!1),[r,l]=(0,o.useState)(null);return{enableMetametrics:(0,o.useCallback)((async()=>{n(!0),e((0,i.showLoadingIndication)()),l(null);try{await e((0,i.setParticipateInMetaMetrics)(!0))}catch(e){throw l(e instanceof Error?e.message:"An unexpected error occurred"),s.default.error(e),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())}),[e]),loading:t,error:r}};var r,o=e("react"),a=e("react-redux"),s=(r=e("loglevel"))&&r.__esModule?r:{default:r},i=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useMetametrics.ts"}],[7113,{"../store/actions":7835,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useModalProps=function(){const e=(0,r.useSelector)((e=>{var t;return null===(t=e.appState.modal.modalState)||void 0===t?void 0:t.props})),t=(0,r.useDispatch)();return{props:e,hideModal:()=>t((0,o.hideModal)())}};var r=e("react-redux"),o=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useModalProps.ts"}],[7114,{react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react");n.default=e=>{const t=(0,r.useRef)(new Map);(0,r.useEffect)((()=>{for(const n of e.input){const r=JSON.stringify(n);t.current.has(r)||e.startPolling(n).then((e=>t.current.set(r,e)))}for(const[n,r]of t.current.entries()){e.input.some((e=>n===JSON.stringify(e)))||(e.stopPollingByPollingToken(r),t.current.delete(n))}}),[e.input&&JSON.stringify(e.input)]),(0,r.useEffect)((()=>()=>{for(const n of t.current.values())e.stopPollingByPollingToken(n)}),[])}}}},{package:"$root$",file:"ui/hooks/useMultiPolling.ts"}],[7115,{"../../shared/constants/multichain/assets":5811,"../helpers/utils/confirm-tx.util":7010,"../helpers/utils/token-util":7033,"../selectors/multichain":7819,"./useAccountTotalFiatBalance":7089,"./useMultichainSelector":7117,"@metamask/keyring-api":2077,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainAccountTotalFiatBalance=n.EMPTY_VALUES=void 0;var r=e("react-redux"),o=e("@metamask/keyring-api"),a=e("../selectors/multichain"),s=e("../helpers/utils/confirm-tx.util"),i=e("../../shared/constants/multichain/assets"),l=e("../helpers/utils/token-util"),u=e("./useMultichainSelector"),c=e("./useAccountTotalFiatBalance");const d=n.EMPTY_VALUES={formattedFiat:"0",totalFiatBalance:"0",totalWeiBalance:"0",tokensWithBalances:[],loading:!1,orderedTokenList:[]};n.useMultichainAccountTotalFiatBalance=(e,t=!1)=>{var n;if((0,o.isEvmAccountType)(e.type))return(0,c.useAccountTotalFiatBalance)(e,t);const m=(0,u.useMultichainSelector)(a.getMultichainCurrentCurrency,e),{network:p}=(0,u.useMultichainSelector)(a.getMultichainNetwork,e),{ticker:f}=p,h=(0,u.useMultichainSelector)(a.getMultichainConversionRate,e),g=(0,u.useMultichainSelector)(a.getMultichainCurrencyImage,e),k=(0,r.useSelector)(a.getMultichainBalances),y=i.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19[f];if(null==k||null===(n=k[e.id])||void 0===n||!n[y])return d;const{amount:v}=k[e.id][y],T=(0,l.getTokenFiatAmount)(1,Number(h),m,v,f,!1,!1)??"0",b={iconUrl:g,symbol:f,fiatBalance:T};return{formattedFiat:(0,s.formatCurrency)(T,m),totalFiatBalance:T,totalBalance:v,tokensWithBalances:[],loading:!1,orderedTokenList:[b]}}}}},{package:"$root$",file:"ui/hooks/useMultichainAccountTotalFiatBalance.ts"}],[7116,{"../../shared/constants/transaction":5829,"../selectors/assets":7805,"../selectors/multichain":7819,"../selectors/selectors":7827,"./useMultichainSelector":7117,"@metamask/utils":2974,"bignumber.js":3997,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainBalances=void 0;var r=e("react"),o=e("react-redux"),a=e("@metamask/utils"),s=e("bignumber.js"),i=e("../selectors/assets"),l=e("../selectors/multichain"),u=e("../../shared/constants/transaction"),c=e("../selectors/selectors"),d=e("./useMultichainSelector");n.useMultichainBalances=e=>{const t=(0,o.useSelector)(c.getSelectedEvmInternalAccount),n=(0,o.useSelector)((t=>(0,c.getInternalAccount)(t,e??""))),m=e?n:t,p=(0,o.useSelector)((e=>(0,i.getTokenBalancesEvm)(e,null==m?void 0:m.address))),f=(0,o.useSelector)(l.getLastSelectedNonEvmAccount),h=(e=>{const t=(0,o.useSelector)(i.getAccountAssets),n=(0,o.useSelector)(i.getAssetsMetadata),c=(0,d.useMultichainSelector)(l.getMultichainBalances),m=(0,o.useSelector)(i.getAssetsRates);return(0,r.useMemo)((()=>{if(!e)return[];const r=null==t?void 0:t[e],o=null==c?void 0:c[e];return o&&r?r.filter((e=>n[e])).map((e=>{var t,r,i,l,c,d,p;const{chainId:f,assetReference:h,assetNamespace:g}=(0,a.parseCaipAssetType)(e);return{chainId:f,symbol:(null===(t=n[e])||void 0===t?void 0:t.symbol)??"",assetId:e,address:h,string:(null===(r=o[e])||void 0===r?void 0:r.amount)??"0",balance:(null===(i=o[e])||void 0===i?void 0:i.amount)??"0",decimals:null===(l=n[e])||void 0===l||null===(l=l.units[0])||void 0===l?void 0:l.decimals,image:(null===(c=n[e])||void 0===c?void 0:c.iconUrl)??"",type:"token"===g?u.AssetType.token:u.AssetType.native,tokenFiatAmount:new s.BigNumber((null===(d=o[e])||void 0===d?void 0:d.amount)??"1").times((null==m||null===(p=m[e])||void 0===p?void 0:p.rate)??"1").toNumber()}})).filter(Boolean):[]}),[n,m,t,e,c])})(e??(null==f?void 0:f.id));return{assetsWithBalance:(0,r.useMemo)((()=>[...p,...h].map((e=>({...e,type:e.isNative?u.AssetType.native:u.AssetType.token}))).sort(((e,t)=>(t.tokenFiatAmount??0)-(e.tokenFiatAmount??0)))),[p,h]),balanceByChainId:(0,r.useMemo)((()=>[...p,...h].reduce(((e,t)=>(e[t.chainId]||(e[t.chainId]=0),e[t.chainId]+=t.tokenFiatAmount??0,e)),{})),[p,h])}}}}},{package:"$root$",file:"ui/hooks/useMultichainBalances.ts"}],[7117,{"../selectors":7812,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainSelector=function(e,t){return(0,r.useSelector)((n=>e(n,t||(0,o.getSelectedInternalAccount)(n))))};var r=e("react-redux"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useMultichainSelector.ts"}],[7118,{"../../shared/constants/transaction":5829,"../components/app/assets/util/formatWithThreshold":6019,"../ducks/locale/locale":6970,"./useI18nContext":7109,"@metamask/keyring-api":2077,"@metamask/multichain-network-controller":2212,"@metamask/transaction-controller":2925,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KEYRING_TRANSACTION_STATUS_KEY=void 0,n.useMultichainTransactionDisplay=function(e,t){const n=(0,s.useSelector)(l.getIntlLocale),{chainId:o}=t,i=a.MULTICHAIN_NETWORK_DECIMAL_PLACES[o],u=(0,c.useI18nContext)(),m=d(e.from,!0,n,i),p=d(e.to,e.type===r.TransactionType.Send,n,i),f=d((e.fees||[]).filter((e=>"base"===e.type)),!0,n),h=d((e.fees||[]).filter((e=>"priority"===e.type)),!0,n),g={[r.TransactionType.Send]:u("sent"),[r.TransactionType.Receive]:u("received"),[r.TransactionType.Swap]:`${u("swap")} ${null==m?void 0:m.unit} ${u("to").toLowerCase()} ${null==p?void 0:p.unit}`,[r.TransactionType.Unknown]:u("interaction")};return{...e,title:g[e.type],from:m,to:p,baseFee:f,priorityFee:h,isRedeposit:0===e.to.length&&e.type===r.TransactionType.Send}};var r=e("@metamask/keyring-api"),o=e("@metamask/transaction-controller"),a=e("@metamask/multichain-network-controller"),s=e("react-redux"),i=e("../components/app/assets/util/formatWithThreshold"),l=e("../ducks/locale/locale"),u=e("../../shared/constants/transaction"),c=e("./useI18nContext");n.KEYRING_TRANSACTION_STATUS_KEY={[r.TransactionStatus.Failed]:o.TransactionStatus.failed,[r.TransactionStatus.Confirmed]:o.TransactionStatus.confirmed,[r.TransactionStatus.Unconfirmed]:u.TransactionGroupStatus.pending,[r.TransactionStatus.Submitted]:o.TransactionStatus.submitted};function d(e,t,n,r){const o={};for(const t of e){if(null==t||!t.asset.fungible)continue;const e=t.asset.type;o[e]?o[e].amount+=parseFloat(t.asset.amount):o[e]={amount:parseFloat(t.asset.amount),address:t.address,unit:t.asset.unit}}return Object.entries(o).map((([e,o])=>function(e,t,n,r){const o=1/10**(r||8),a=(0,i.formatWithThreshold)(e.amount,o,t,{minimumFractionDigits:0,maximumFractionDigits:r||8});let s=a;n&&(s=`-${a}`);return{...e,amount:s}}(o,n,t,r)))[0]}}}},{package:"$root$",file:"ui/hooks/useMultichainTransactionDisplay.ts"}],[7119,{"../selectors":7812,"@metamask/name-controller":2309,lodash:4912,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useName=function(e,t,n){return i([{value:e,type:t,variation:n}])[0]},n.useNames=i;var r=e("@metamask/name-controller"),o=e("react-redux"),a=e("lodash"),s=e("../selectors");function i(e){const t=(0,o.useSelector)(s.getNames,a.isEqual);return e.map((({value:e,type:n,variation:o})=>{var a;const s=function(e,t){if(t===r.NameType.ETHEREUM_ADDRESS)return e.toLowerCase();return e}(e,n),i=(null===(a=t[n])||void 0===a?void 0:a[s])??{},l=i[o],u=i[r.FALLBACK_VARIATION],c=null!=l&&l.name||!u?l??{}:u,{name:d=null,sourceId:m=null,origin:p=null,proposedNames:f={}}=c;return{name:d,sourceId:m,proposedNames:f,origin:p}}))}}}},{package:"$root$",file:"ui/hooks/useName.ts"}],[7120,{"../../shared/constants/transaction":5829,"../store/actions":7835,"./useAsync":7092},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftCollectionsMetadata=function(e){const{value:t}=(0,a.useAsyncResult)((()=>async function(e){const t=e.reduce(((e,{chainId:t,contractAddress:n})=>(e[t]=[...e[t]??[],n.toLowerCase()],e)),{}),n=Object.keys(t),r=await Promise.all(n.map((e=>async function(e,t){const n=await Promise.all(e.map((e=>(0,o.getTokenStandardAndDetails)(e,t)))),r=e.filter(((e,t)=>s.includes(n[t].standard)));if(0===r.length)return{};const a=await(0,o.getNFTContractInfo)(r,t);return a.collections.reduce(((e,t,n)=>(e[r[n]]={name:null==t?void 0:t.name,image:null==t?void 0:t.image,isSpam:null==t?void 0:t.isSpam},e)),{})}(t[e],e))));return n.reduce(((e,t,n)=>(e[t]=r[n],e)),{})}(e)),[JSON.stringify(e)]);return t??{}};var r=e("../../shared/constants/transaction"),o=e("../store/actions"),a=e("./useAsync");const s=[r.TokenStandard.ERC721]}}},{package:"$root$",file:"ui/hooks/useNftCollectionsMetadata.ts"}],[7121,{"../../shared/lib/trace":5892,"../../shared/modules/selectors/networks":5921,"../ducks/metamask/metamask":6971,"../selectors":7812,"../selectors/multichain/networks":7820,"./useI18nContext":7109,"./usePrevious":7127,lodash:4912,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNfts=function({overridePopularNetworkFilter:e=!1}={}){const t=(0,m.useI18nContext)(),n=(0,o.useSelector)(s.getAllNfts),{address:p}=(0,o.useSelector)(i.getSelectedInternalAccount),f=(0,o.useSelector)(u.getCurrentChainId),h=(0,o.useSelector)(i.getAllChainsToPoll),g=(0,o.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),k=(0,o.useSelector)(l.getEnabledNetworksByNamespace),y=(0,r.useMemo)((()=>{if(i.isGlobalNetworkSelectorRemoved){const t={};return e?(null==n?void 0:n[f])??[]:(Object.entries(n??{}).forEach((([e,n])=>{null!=k&&k[e]&&Array.isArray(n)&&(t[e]=n)})),t)}(0,c.trace)({name:c.TraceName.LoadCollectibles});const t=g||e?(null==n?void 0:n[f])??[]:n;return(0,c.endTrace)({name:c.TraceName.LoadCollectibles}),t}),[g,e,n,f,k]),v=(0,o.useSelector)(s.getNftContracts),T=t("nftsPreviouslyOwned"),b=t("unknownCollection"),[S,C]=(0,r.useState)([]),[w,x]=(0,r.useState)([]),[E,A]=(0,r.useState)((()=>(null==y?void 0:y.length)>=0)),I=(0,d.usePrevious)(y),_=(0,d.usePrevious)(h),M=(0,d.usePrevious)(p);return(0,r.useEffect)((()=>{(0,a.isEqual)(I,y)&&(0,a.isEqual)(M,p)&&(0,a.isEqual)(_,f)||(()=>{if(A(!0),p===undefined||h===undefined)return;const e=[],t=[];Object.values(y).flat().forEach((n=>{!1===(null==n?void 0:n.isCurrentlyOwned)?e.push(n):t.push(n)})),x(e),C(t),A(!1)})()}),[y,I,v,A,f,_,p,M,T,b,h]),{loading:E,currentlyOwnedNfts:S,previouslyOwnedNfts:w}};var r=e("react"),o=e("react-redux"),a=e("lodash"),s=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../selectors/multichain/networks"),u=e("../../shared/modules/selectors/networks"),c=e("../../shared/lib/trace"),d=e("./usePrevious"),m=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNfts.ts"}],[7122,{"../../shared/modules/selectors/networks":5921,"../ducks/metamask/metamask":6971,"../helpers/utils/nfts":7023,"../selectors":7812,"../selectors/multichain/networks":7820,"./useI18nContext":7109,"./usePrevious":7127,lodash:4912,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftsCollections=function(){const e=(0,m.useI18nContext)(),t=e("nftsPreviouslyOwned"),n=e("unknownCollection"),[p,f]=(0,r.useState)({}),[h,g]=(0,r.useState)({collectionName:t,nfts:[]}),k=(0,o.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),y=(0,o.useSelector)(s.getAllNfts),v=(0,o.useSelector)(l.getEnabledNetworksByNamespace),{address:T}=(0,o.useSelector)(i.getSelectedInternalAccount),b=(0,o.useSelector)(u.getCurrentChainId),S=(0,r.useMemo)((()=>{if(i.isGlobalNetworkSelectorRemoved){const e={};return Object.entries(y??{}).forEach((([t,n])=>{null!=v&&v[t]&&Array.isArray(n)&&(e[t]=n)})),e}return k?(null==y?void 0:y[b])??[]:y}),[k,y,b,v]),[C,w]=(0,r.useState)((()=>(null==S?void 0:S.length)>=0)),x=(0,o.useSelector)(s.getNftContracts),E=(0,d.usePrevious)(S),A=(0,d.usePrevious)(b),I=(0,d.usePrevious)(T);return(0,r.useEffect)((()=>{(0,a.isEqual)(E,S)&&(0,a.isEqual)(I,T)&&(0,a.isEqual)(A,b)||(()=>{if(w(!0),T===undefined||b===undefined)return;const e={},r={collectionName:t,nfts:[]};Object.values(S).flat().forEach((t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))r.nfts.push(t);else if(e[t.address])e[t.address].nfts.push(t);else{const r=x.find((({address:e})=>e===t.address));e[t.address]={collectionName:(null==r?void 0:r.name)||n,collectionImage:(null==r?void 0:r.logo)||(0,c.getNftImage)(t.image),nfts:[t]}}})),f(e),g(r),w(!1)})()}),[S,E,x,w,b,A,T,I,t,n]),{nftsLoading:C,collections:p,previouslyOwnedCollection:h}};var r=e("react"),o=e("react-redux"),a=e("lodash"),s=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../selectors/multichain/networks"),u=e("../../shared/modules/selectors/networks"),c=e("../helpers/utils/nfts"),d=e("./usePrevious"),m=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNftsCollections.js"}],[7123,{"../helpers/constants/notifications":6987,"../store/actions":7835,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapNotificationTimeouts=void 0;var r=e("react-redux"),o=e("../store/actions"),a=e("../helpers/constants/notifications");n.useSnapNotificationTimeouts=()=>{const e=(0,r.useDispatch)();return{setNotificationTimeout:t=>{setTimeout((()=>{e((0,o.deleteNotificationsById)([t]))}),a.NOTIFICATIONS_EXPIRATION_DELAY)}}}}}},{package:"$root$",file:"ui/hooks/useNotificationTimeouts.ts"}],[7124,{"../selectors":7812,"@metamask/permission-controller":2385,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,o.useSelector)((t=>(0,a.getTargetSubjectMetadata)(t,e)));if(!e)return null;let n=null;try{const t=new URL(e);n={host:t.host,hostname:t.hostname,origin:e,subjectType:r.SubjectType.Unknown}}catch(e){}if(t&&n)return{...n,...t};if(t)return t;return n};var r=e("@metamask/permission-controller"),o=e("react-redux"),a=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[7125,{"../selectors/selectors":7827,"./useTrustSignals":7146,"@metamask/phishing-controller":2398,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginTrustSignals=function(e){let t;if(e)try{const n=new URL(e);t=n.hostname}catch(e){t=undefined}const n=(0,o.useSelector)((e=>(0,a.getUrlScanCacheResult)(e,t)));return{state:i(n),label:null}};var r=e("@metamask/phishing-controller"),o=e("react-redux"),a=e("../selectors/selectors"),s=e("./useTrustSignals");function i(e){var t;const n=null==e||null===(t=e.result)||void 0===t?void 0:t.recommendedAction;if(!n)return s.TrustSignalDisplayState.Unknown;switch(n){case r.RecommendedAction.Block:return s.TrustSignalDisplayState.Malicious;case r.RecommendedAction.Warn:return s.TrustSignalDisplayState.Warning;case r.RecommendedAction.Verified:return s.TrustSignalDisplayState.Verified;case r.RecommendedAction.None:default:return s.TrustSignalDisplayState.Unknown}}}}},{package:"$root$",file:"ui/hooks/useOriginTrustSignals.ts"}],[7126,{react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react");n.default=e=>{const t=(0,r.useRef)(null),n=(0,r.useRef)(null);let o=!1;(0,r.useEffect)((()=>{if(!1===e.enabled)return()=>{};o=!0;const r=()=>{var r;t.current&&(e.stopPollingByPollingToken(t.current),null===(r=n.current)||void 0===r||r.call(n,t.current))};return e.startPolling(e.input).then((a=>{var s;t.current=a,n.current=(null===(s=e.callback)||void 0===s?void 0:s.call(e,a))||null,o||r()})),()=>{o=!1,r()}}),[e.input&&JSON.stringify(e.input),e.enabled])}}}},{package:"$root$",file:"ui/hooks/usePolling.ts"}],[7127,{react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePrevious=function(e){const t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e}),[e]),t.current};var r=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.ts"}],[7128,{"../../shared/lib/delegation/delegation":5868,"../selectors":7812,"@metamask/transaction-controller":2925,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRemoteModeTransaction=void 0;var r=e("@metamask/transaction-controller"),o=e("react-redux"),a=e("react"),s=e("../selectors"),i=e("../../shared/lib/delegation/delegation");const l=[r.TransactionType.simpleSend,r.TransactionType.tokenMethodTransfer];n.useRemoteModeTransaction=({transaction:e})=>{const t=(0,o.useSelector)(s.getSelectedInternalAccount),n=(0,a.useMemo)((()=>{var n,r,o;if(!e.txParams)return!1;const a=!!e.type&&l.includes(e.type),s=null===(n=e.txParams.data)||void 0===n?void 0:n.startsWith(i.REDEEM_DELEGATIONS_SELECTOR),u=(null===(r=e.txParamsOriginal)||void 0===r?void 0:r.from)!==e.txParams.from,c=(null===(o=e.txParamsOriginal)||void 0===o?void 0:o.from)===t.address;return a&&s&&u&&c}),[e,t.address]),r=(0,a.useMemo)((()=>{var n,r;const o=!!e.type&&l.includes(e.type),a=e.txParamsOriginal!==undefined,s=(null===(n=e.txParamsOriginal)||void 0===n?void 0:n.from)!==t.address&&(null===(r=e.txParams)||void 0===r?void 0:r.from)===t.address;return o&&a&&s}),[e,t.address]);return{isRemoteModeTransaction:n,isRemoteModeGasTransaction:r,isRemoteModeActivity:n||r}}}}},{package:"$root$",file:"ui/hooks/useRemoteModeTransaction.ts"}],[7129,{"./usePrevious":7127,lodash:4912,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useScrollRequired=void 0;var r=e("react"),o=e("lodash"),a=e("./usePrevious");n.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{var n,s;const i=(0,r.useRef)(null),l=(0,a.usePrevious)(null===(n=i.current)||void 0===n?void 0:n.offsetHeight),[u,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),h=()=>{if(!i.current)return;const e=i.current&&i.current.scrollHeight>i.current.clientHeight,n=e&&Math.round(i.current.scrollTop)+i.current.offsetHeight+t>=i.current.scrollHeight;e!==d&&(c(!1),m(e)),f(!e||n),e&&!n||c(!0)};(0,r.useEffect)(h,[i,...e]),(0,r.useEffect)((()=>{var e;l!==(null===(e=i.current)||void 0===e?void 0:e.offsetHeight)&&h()}),[null===(s=i.current)||void 0===s?void 0:s.offsetHeight]);return{isScrollable:d,isScrolledToBottom:p,hasScrolledToBottom:u,scrollToBottom:()=>{f(!0),c(!0),i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:c,ref:i,onScroll:(0,o.debounce)(h,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[7130,{"../helpers/constants/routes":6989,"../selectors":7812,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,o.useRouteMatch)({path:(0,a.getPaths)(),exact:!0,strict:!0}),t=((0,r.useSelector)(s.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:a.PATH_NAME_MAP.get(e.path),url:e.path}:undefined,referrer:n}};var r=e("react-redux"),o=e("react-router-dom"),a=e("../helpers/constants/routes"),s=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[7131,{"../ducks/app/app":6956,"./useGasFeeEstimates":7106,lodash:4912,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),n=(0,o.useDispatch)(),l=(0,o.useSelector)(s.getGasLoadingAnimationIsShowing),u=(0,r.useRef)(t),c=!(0,a.isEqual)(u.current,t),d=(0,a.isEqual)(u.current,{});c&&(u.current=t);const m=e||c&&!d;(0,r.useEffect)((()=>{!1===l&&!0===m&&n((0,s.toggleGasLoadingAnimation)(!0))}),[n,l,m]),(0,r.useEffect)((()=>{let e;return l&&!m&&(e=setTimeout((()=>{n((0,s.toggleGasLoadingAnimation)(!1))}),2e3)),()=>{e&&clearTimeout(e)}}),[n,l,m])};var r=e("react"),o=e("react-redux"),a=e("lodash"),s=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[7132,{"../../shared/constants/time":5827,"../../shared/modules/selectors/networks":5921,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:i}=e,l=(0,o.useSelector)(s.getCurrentChainId),[u={}]=n,c=u.chainId===l,{submittedTime:d}=u,[m,p]=(0,r.useState)((()=>Date.now()-d>5e3&&t&&!i&&c));return(0,r.useEffect)((()=>{let e;return i||!t||m||(Date.now()-d>5*a.SECOND?p(!0):e=setTimeout((()=>{p(!0),clearTimeout(e)}),5001-(Date.now()-d))),()=>{e&&clearTimeout(e)}}),[d,m,i,t]),m};var r=e("react"),o=e("react-redux"),a=e("../../shared/constants/time"),s=e("../../shared/modules/selectors/networks")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[7133,{"../../shared/lib/transactions-controller-utils":5894,"../../shared/modules/selectors/networks":5921,"../../shared/modules/swaps.utils":5925,"./useTokenFiatAmount":7140,"@metamask/transaction-controller":2925,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:u,address:c}=t,{primaryTransaction:d,initialTransaction:m}=e,{type:p}=m,{from:f}=m.txParams||{},h=(0,r.useSelector)(i.getCurrentChainId),g=p===o.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,s.isSwapsDefaultTokenAddress)(t.address,h)&&(0,s.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,h)),k=[o.TransactionType.swap].includes(p)&&g?(0,a.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,m,c,f,u,null,h):[o.TransactionType.swap,o.TransactionType.swapAndSend].includes(p)&&d.swapTokenValue,y="string"==typeof k&&-1===Math.sign(k),v=(0,l.useTokenFiatAmount)(c,k||"",n),T=(0,l.useTokenFiatAmount)(d.sourceTokenAddress,k,d.sourceTokenSymbol);let b;k&&(g?b=v:p===o.TransactionType.swapAndSend&&(b=T));return{swapTokenValue:k,swapTokenFiatAmount:b,isViewingReceivedTokenFromSwap:g,isNegative:y}};var r=e("react-redux"),o=e("@metamask/transaction-controller"),a=e("../../shared/lib/transactions-controller-utils"),s=e("../../shared/modules/swaps.utils"),i=e("../../shared/modules/selectors/networks"),l=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[7134,{"../../shared/constants/preferences":5818,"../selectors":7812,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTheme=function(){const e=(0,o.useSelector)(a.getTheme),[t,n]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const t=e&&e!==s.ThemeType.os?e:document.documentElement.getAttribute("data-theme");i.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${s.ThemeType.light}".`),n(s.ThemeType.light)),n(t)}),[e]),t};var r=e("react"),o=e("react-redux"),a=e("../selectors"),s=e("../../shared/constants/preferences");const i=Object.values(s.ThemeType).filter((e=>e!==s.ThemeType.os))}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[7135,{react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const o=(0,r.useRef)(),[a,s]=(0,r.useState)(null);(0,r.useEffect)((()=>{o.current=e}),[e]),(0,r.useEffect)((()=>{if("start"!==a)return undefined;const e=setTimeout((()=>{o.current()}),t);return s(e),()=>{clearTimeout(a)}}),[t,a]);const i=(0,r.useCallback)((()=>{clearTimeout(a),s("start")}),[a]);n&&i();return i};var r=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[7136,{"../../shared/modules/conversion.utils":5904,"../../shared/modules/selectors/networks":5921,"../ducks/metamask/metamask":6971,"../store/actions":7835,"./useMultiPolling":7114,"bn.js":4045,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stringifyBalance=m,n.useTokenTracker=n.useTokenBalances=void 0;var r=e("react-redux"),o=c(e("bn.js")),a=e("../../shared/modules/selectors/networks"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=e("../../shared/modules/conversion.utils"),u=c(e("./useMultiPolling"));function c(e){return e&&e.__esModule?e:{default:e}}const d=({chainIds:e}={})=>{const t=(0,r.useSelector)(i.getTokenBalances),n=(0,r.useSelector)(a.getNetworkConfigurationsByChainId);return(0,u.default)({startPolling:s.tokenBalancesStartPolling,stopPollingByPollingToken:s.tokenBalancesStopPollingByPollingToken,input:e??Object.keys(n)}),{tokenBalances:t}};n.useTokenBalances=d;function m(e,t,n=5){if(e.eq(new o.default(0)))return"0";const r=parseInt(t.toString(),10);if(0===r)return e.toString();let a=e.toString(),s=a.length,i=s-r,l="";if(i<=0){for(;l.length<=-1*i;)l+="0",s+=1;a=l+a,i=1}const u=a.substr(0,s-r);if(0===n)return u;const c=a.substr(i,n);if(/0+$/u.test(c)){let e=a.substr(i).replace(/0+$/u,"");return e.length>0&&(e=`.${e}`),`${u}${e}`}return`${u}.${c}`}n.useTokenTracker=({chainId:e,tokens:t,address:n,hideZeroBalanceTokens:r})=>{const{tokenBalances:a}=d({chainIds:[e]});return{tokensWithBalances:t.reduce(((t,s)=>{var i;const u=(null===(i=a[n])||void 0===i||null===(i=i[e])||void 0===i?void 0:i[s.address])??"0x0";if("0x0"!==u||!r){const e=(0,l.hexToDecimal)(u);t.push({address:s.address,symbol:s.symbol,decimals:s.decimals,balance:e,balanceError:null,string:m(new o.default(e),new o.default(s.decimals))})}return t}),[])}}}}},{package:"$root$",file:"ui/hooks/useTokenBalances.ts"}],[7137,{"../../shared/modules/transaction.utils":5926,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,r.useMemo)((()=>t&&e?(0,o.parseStandardTokenTransactionData)(e):null),[t,e])};var r=e("react"),o=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[7138,{"../ducks/metamask/metamask":6971,"../selectors":7812,"../selectors/multichain/networks":7820,"../store/actions":7835,"./useMultiPolling":7114,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=e("react-redux"),a=e("../selectors"),s=e("../selectors/multichain/networks"),i=e("../store/actions"),l=e("../ducks/metamask/metamask"),u=(r=e("./useMultiPolling"))&&r.__esModule?r:{default:r};n.default=()=>{const e=(0,o.useSelector)(a.getUseTokenDetection),t=(0,o.useSelector)(l.getCompletedOnboarding),n=(0,o.useSelector)(l.getIsUnlocked),r=(0,o.useSelector)(a.getChainIdsToPoll),c=(0,o.useSelector)(s.getEnabledChainIds),d=t&&n&&e,m=a.isGlobalNetworkSelectorRemoved?c:r;return(0,u.default)({startPolling:i.tokenDetectionStartPolling,stopPollingByPollingToken:i.tokenDetectionStopPollingByPollingToken,input:d?[m]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenDetectionPolling.ts"}],[7139,{"../../shared/lib/metamask-controller-utils":5879,"../../shared/lib/transactions-controller-utils":5894,"./useTokenData":7137,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const i=(0,s.useTokenData)(e,n),l=(0,o.getTokenValueParam)(i),u=Boolean(n&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&l);return(0,r.useMemo)((()=>u?(0,a.calcTokenAmount)(l,t.decimals).toString(10):null),[u,l,t])};var r=e("react"),o=e("../../shared/lib/metamask-controller-utils"),a=e("../../shared/lib/transactions-controller-utils"),s=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[7141,{"../ducks/metamask/metamask":6971,"../selectors":7812,"../selectors/multichain/networks":7820,"../selectors/selectors":7827,"../store/actions":7835,"./useMultiPolling":7114,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=e("react-redux"),a=e("../selectors"),s=e("../selectors/multichain/networks"),i=e("../store/actions"),l=e("../ducks/metamask/metamask"),u=e("../selectors/selectors"),c=(r=e("./useMultiPolling"))&&r.__esModule?r:{default:r};n.default=()=>{const e=(0,o.useSelector)(a.getUseTokenDetection),t=(0,o.useSelector)(a.getUseTransactionSimulations),n=(0,o.useSelector)(l.getCompletedOnboarding),r=(0,o.useSelector)(l.getIsUnlocked),d=(0,o.useSelector)(a.getUseExternalServices),m=(0,o.useSelector)(a.getChainIdsToPoll),p=(0,o.useSelector)(s.getEnabledChainIds),f=n&&r&&d&&(e||t),h=u.isGlobalNetworkSelectorRemoved?p:m;return(0,c.default)({startPolling:i.tokenListStartPolling,stopPollingByPollingToken:i.tokenListStopPollingByPollingToken,input:f?h:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenListPolling.ts"}],[7142,{"../ducks/metamask/metamask":6971,"../selectors":7812,"../selectors/multichain/networks":7820,"../selectors/selectors":7827,"../store/actions":7835,"./useMultiPolling":7114,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=e("react-redux"),a=e("../selectors"),s=e("../selectors/multichain/networks"),i=e("../store/actions"),l=e("../ducks/metamask/metamask"),u=e("../selectors/selectors"),c=(r=e("./useMultiPolling"))&&r.__esModule?r:{default:r};n.default=()=>{const e=(0,o.useSelector)(l.getCompletedOnboarding),t=(0,o.useSelector)(l.getIsUnlocked),n=(0,o.useSelector)(a.getUseCurrencyRateCheck),r=(0,o.useSelector)(a.getChainIdsToPoll),d=(0,o.useSelector)(s.getEnabledChainIds),m=(0,o.useSelector)(a.getTokenExchangeRates),p=(0,o.useSelector)(a.getTokensMarketData),f=(0,o.useSelector)(a.getMarketData),h=e&&t&&n,g=u.isGlobalNetworkSelectorRemoved?d:r;return(0,c.default)({startPolling:i.tokenRatesStartPolling,stopPollingByPollingToken:i.tokenRatesStopPollingByPollingToken,input:h?[g]:[]}),{tokenExchangeRates:m,tokensMarketData:p,marketData:f}}}}},{package:"$root$",file:"ui/hooks/useTokenRatesPolling.ts"}],[7143,{"../../shared/constants/time":5827,"../../shared/modules/selectors/networks":5921,"../../shared/modules/string-utils":5924,"../selectors":7812,"./useEqualityCheck":7102,"@metamask/eth-token-tracker":1935,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:n=!1,hideZeroBalanceTokens:r=!1}){const{chainId:m,rpcUrl:p}=(0,s.useSelector)(l.getProviderConfig),{address:f}=(0,s.useSelector)(i.getSelectedInternalAccount,s.shallowEqual),h=t??f,[g,k]=(0,o.useState)((()=>(null==e?void 0:e.length)>=0)),[y,v]=(0,o.useState)([]),[T,b]=(0,o.useState)(null),S=(0,o.useRef)(null),C=(0,d.useEqualityCheck)(e),w=(0,o.useCallback)((e=>{const t=(r?e.filter((e=>Number(e.balance)>0)):e).map((e=>{const t=C.find((t=>(0,c.isEqualCaseInsensitive)(t.address,e.address)));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}}));v(t),k(!1),b(null)}),[r,C]),x=(0,o.useCallback)((e=>{b(e),k(!1)}),[]),E=(0,o.useCallback)((()=>{S.current&&(S.current.stop(),S.current.removeAllListeners("update"),S.current.removeAllListeners("error"),S.current=null)}),[]),A=(0,o.useCallback)(((e,t)=>{E(),S.current=new a.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:n,pollingInterval:8*u.SECOND,balanceDecimals:5}),S.current.on("update",w),S.current.on("error",x),S.current.updateBalances()}),[w,n,x,E]);return(0,o.useEffect)((()=>E),[E]),(0,o.useEffect)((()=>{k(!0),h&&m!==undefined&&global.ethereumProvider?(0===C.length&&w([]),A(h,C)):E()}),[h,E,m,p,C,w,A]),{loading:g,tokensWithBalances:y,error:T}};var r,o=e("react"),a=(r=e("@metamask/eth-token-tracker"))&&r.__esModule?r:{default:r},s=e("react-redux"),i=e("../selectors"),l=e("../../shared/modules/selectors/networks"),u=e("../../shared/constants/time"),c=e("../../shared/modules/string-utils"),d=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[7144,{"../../shared/constants/network":5813,"../../shared/constants/swaps":5825,"../../shared/modules/hexstring-utils":5910,"../../shared/modules/selectors/networks":5921,"../../shared/modules/swaps.utils":5925,"../ducks/metamask/metamask":6971,"../ducks/swaps/swaps":6980,"../helpers/utils/token-util":7033,"../selectors":7812,"./useEqualityCheck":7102,"@metamask/assets-controllers":1457,"bignumber.js":3997,lodash:4912,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=v,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:r=g.TokenBucketPriority.owned}){const l=(0,a.useSelector)(d.getCurrentChainId),u=(0,a.useSelector)(c.getTokenExchangeRates,i.isEqual),h=(0,a.useSelector)(m.getConversionRate),k=(0,a.useSelector)(m.getCurrentCurrency),T=(0,a.useSelector)(c.getSwapsDefaultToken,a.shallowEqual),b=(0,a.useSelector)(c.getTokenList,i.isEqual),S=(0,y.useEqualityCheck)(t),C=(0,y.useEqualityCheck)(e),w=v(T,u,h,k,l,b),x=(0,y.useEqualityCheck)(w),E=(0,a.useSelector)(p.getSwapsTokens,i.isEqual)||[],A=E.length?E:[x,...n.filter((e=>e.symbol!==x.symbol))],I=(0,y.useEqualityCheck)(A);return(0,o.useMemo)((()=>{const e=C.reduce(((e,t)=>({...e,[t.address.toLowerCase()]:t})),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([x,...I,...C],(e=>e.address.toLowerCase())).forEach((n=>{const o=v({...e[n.address.toLowerCase()],...n},u,h,k,l,b);r===g.TokenBucketPriority.owned?(0,f.isSwapsDefaultTokenSymbol)(o.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(o):S[n.address.toLowerCase()]?t.top[S[n.address.toLowerCase()].index]=o:t.others.push(o):S[n.address.toLowerCase()]?t.top[S[n.address.toLowerCase()].index]=o:(0,f.isSwapsDefaultTokenSymbol)(o.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(o):t.others.push(o)})),t.owned=t.owned.sort((({rawFiat:e},{rawFiat:t})=>new s.default(e||0).gt(t||0)?-1:1)),t.top=t.top.filter(Boolean),r===g.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]}),[I,C,S,u,h,k,x,l,b,r])};var r,o=e("react"),a=e("react-redux"),s=(r=e("bignumber.js"))&&r.__esModule?r:{default:r},i=e("lodash"),l=e("@metamask/assets-controllers"),u=e("../helpers/utils/token-util"),c=e("../selectors"),d=e("../../shared/modules/selectors/networks"),m=e("../ducks/metamask/metamask"),p=e("../ducks/swaps/swaps"),f=e("../../shared/modules/swaps.utils"),h=e("../../shared/modules/hexstring-utils"),g=e("../../shared/constants/swaps"),k=e("../../shared/constants/network"),y=e("./useEqualityCheck");function v(e,t,n,r,o,a){var i,c;const{symbol:d,name:m,address:p,iconUrl:g,string:y,balance:v,decimals:T}=e;let b;(0,f.isSwapsDefaultTokenSymbol)(d,o)?b=1:y&&n>0&&(b=t[(0,h.toChecksumHexAddress)(p)]);const S=(0,u.getTokenFiatAmount)(b,n,r,y,d,!0)||"",C=S?(0,u.getTokenFiatAmount)(b,n,r,y,d,!1):"",w=o===k.CHAIN_IDS.SEPOLIA?k.CHAIN_IDS.MAINNET:o,x=(d===k.CURRENCY_SYMBOLS.ETH&&o===k.CHAIN_IDS.MAINNET||d===k.CURRENCY_SYMBOLS.ETH&&o===k.CHAIN_IDS.SEPOLIA||d===k.CURRENCY_SYMBOLS.BNB&&o===k.CHAIN_IDS.BSC||d===k.CURRENCY_SYMBOLS.MATIC&&o===k.CHAIN_IDS.POLYGON||d===k.CURRENCY_SYMBOLS.AVALANCHE&&o===k.CHAIN_IDS.AVALANCHE||d===k.CURRENCY_SYMBOLS.ETH&&o===k.CHAIN_IDS.OPTIMISM||d===k.CURRENCY_SYMBOLS.ETH&&o===k.CHAIN_IDS.ARBITRUM||d===k.CURRENCY_SYMBOLS.ETH&&o===k.CHAIN_IDS.LINEA_MAINNET||d===k.CURRENCY_SYMBOLS.ETH&&o===k.CHAIN_IDS.ZKSYNC_ERA||d===k.CURRENCY_SYMBOLS.ETH&&o===k.CHAIN_IDS.BASE?g:(0,l.formatIconUrlWithProxy)({chainId:w,tokenAddress:p||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:m||(null===(i=a[null==p?void 0:p.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:y&&`${new s.default(y).round(6).toString()} ${d}`,rightSecondaryLabel:S,iconUrl:x,identiconAddress:x?null:p,balance:v,decimals:T,name:m||(null===(c=a[null==p?void 0:p.toLowerCase()])||void 0===c?void 0:c.name),rawFiat:C,image:e.image||e.iconUrl}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[7145,{"../../shared/constants/bridge":5799,"../../shared/constants/transaction":5829,"../../shared/lib/metamask-controller-utils":5879,"../../shared/lib/transactions-controller-utils":5894,"../../shared/modules/string-utils":5924,"../ducks/bridge-status/selectors":6958,"../ducks/locale/locale":6970,"../ducks/metamask/metamask":6971,"../helpers/constants/common":6982,"../helpers/constants/transactions":6995,"../helpers/utils/common.util":7009,"../helpers/utils/token-util":7033,"../helpers/utils/transactions.util":7034,"../helpers/utils/util":7037,"../pages/bridge/hooks/useBridgeTokenDisplayData":7170,"../pages/confirmations/components/simulation-details/formatAmount":7381,"../selectors/selectors":7827,"../store/actions":7835,"./bridge/useBridgeChainInfo":7048,"./useCurrencyDisplay":7098,"./useCurrentAsset":7100,"./useI18nContext":7109,"./useRemoteModeTransaction":7128,"./useSwappedTokenValue":7133,"./useTokenData":7137,"./useTokenDisplayValue":7139,"./useTokenFiatAmount":7140,"./useUserPreferencedCurrency":7147,"@metamask/transaction-controller":2925,"bignumber.js":3997,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,O,F,L,j,$,W,U;const H=(0,r.useDispatch)(),q=(0,r.useSelector)(S.getIntlLocale),V=(0,D.useCurrentAsset)(),z=(0,r.useSelector)(i.getAllTokens),G=(0,r.useSelector)(i.getSelectedAddress),Q=(0,r.useSelector)(f.getNfts),K=(0,r.useSelector)(i.getAllDetectedTokens),Y=(0,r.useSelector)(i.selectERC20TokensByChain),J=(0,x.useI18nContext)(),X=e.initialTransaction.id,Z=(0,r.useSelector)(v.selectBridgeHistoryForAccount),ee=X?Z[X]:undefined,{destNetwork:te}=(0,N.default)({bridgeHistoryItem:ee,srcTxMeta:e.initialTransaction}),ne=C.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==te?void 0:te.chainId],{initialTransaction:re,primaryTransaction:oe}=e,{transferInformation:ae,type:se,txParamsOriginal:ie}=re,{from:le,to:ue}=re.txParams||{},ce=[a.TransactionType.swap,a.TransactionType.bridge].includes(se)&&Boolean(ee),de=(0,r.useSelector)((e=>{var t;return(0,i.getKnownMethodData)(e,null==re||null===(t=re.txParams)||void 0===t?void 0:t.data)}))||{},me=(0,l.getStatusKey)(oe),pe=me in p.PENDING_STATUS_HASH,fe=me===a.TransactionStatus.submitted,he=(0,o.useRef)(!0),ge=null===(t=oe.txParams)||void 0===t?void 0:t.value,ke=(0,m.formatDateWithYearContext)(re.time),{isRemoteModeActivity:ye}=(0,B.useRemoteModeTransaction)({transaction:re});let ve,Te="-",be=!1,Se=ue,Ce=le,we=null==re||null===(n=re.txParams)||void 0===n?void 0:n.data,xe=null;if(ye){var Ee;Se=null==ie?void 0:ie.to,Ce=null==ie?void 0:ie.from,xe=null==re||null===(Ee=re.txParams)||void 0===Ee?void 0:Ee.from,we=null==ie?void 0:ie.data}const Ae=p.TOKEN_CATEGORY_HASH[se];let Ie=null;const[_e,Me]=(0,o.useState)(null);var Pe,De,Ne,Be,Oe,Re;Ae&&(Ie=(null==z||null===(Pe=z[null==e||null===(De=e.initialTransaction)||void 0===De?void 0:De.chainId])||void 0===Pe||null===(Pe=Pe[G])||void 0===Pe?void 0:Pe.find((({address:e})=>(0,k.isEqualCaseInsensitive)(e,Se))))||(null==K||null===(Ne=K[null==e||null===(Be=e.initialTransaction)||void 0===Be?void 0:Be.chainId])||void 0===Ne||null===(Ne=Ne[G])||void 0===Ne?void 0:Ne.find((({address:e})=>(0,k.isEqualCaseInsensitive)(e,Se))))||(null==Y||null===(Oe=Y[null==e||null===(Re=e.initialTransaction)||void 0===Re?void 0:Re.chainId])||void 0===Oe||null===(Oe=Oe.data)||void 0===Oe?void 0:Oe[Se.toLowerCase()]));(0,o.useEffect)((()=>()=>{he.current=!1}),[]),(0,o.useEffect)((()=>{!async function(){if(Ae&&!Ie){const e=await(0,d.getAssetDetails)(Se,Ce,we,Q);!0===he.current&&Me(e)}}()}),[Ae,Ie,Se,Ce,Q,he,we]),_e&&(Ie={address:_e.toAddress,symbol:_e.symbol,decimals:_e.decimals});const Fe=(0,M.useTokenData)(we,Ae),Le=(0,d.getTokenIdParam)(Fe)??(0,y.getTokenValueParam)(Fe),je=Ae&&Q.find((({address:e,tokenId:t})=>(0,k.isEqualCaseInsensitive)(e,Se)&&t===Le));let $e=(0,_.useTokenDisplayValue)(we,Ie,Ae);null!=ae&&ae.decimals&&($e=(0,w.calcTokenAmount)(ae.amount,ae.decimals).toString(10));const We=(0,E.useTokenFiatAmount)(null===(O=Ie)||void 0===O?void 0:O.address,$e,null===(F=Ie)||void 0===F?void 0:F.symbol),Ue=(0,m.stripHttpSchemes)(re.origin||(null===(L=re.msgParams)||void 0===L?void 0:L.origin)||"");let He,qe,Ve=Ae?null===(j=Ie)||void 0===j?void 0:j.symbol:undefined,ze=Ae?$e:undefined,Ge=Ae?We:undefined;const{swapTokenValue:Qe,isNegative:Ke,swapTokenFiatAmount:Ye,isViewingReceivedTokenFromSwap:Je}=(0,P.useSwappedTokenValue)(e,V),Xe=(0,T.useBridgeTokenDisplayData)(e);if(R.includes(se))He=h.TransactionGroupCategory.signatureRequest,qe=J("signatureRequest"),ve=Ue,be=!0;else if(se===a.TransactionType.swap){He=h.TransactionGroupCategory.swap,qe=J("swapTokenToToken",[Xe.sourceTokenSymbol??re.sourceTokenSymbol,Xe.destinationTokenSymbol??re.destinationTokenSymbol]),ve=Ue,be=!0;const e=Xe.sourceTokenSymbol??re.sourceTokenSymbol;Ve=Je?V.symbol:e;const t=Xe.sourceTokenAmountSent??Qe;ze=t?(0,b.formatAmount)(q,new s.default(t)):undefined,Ge=Xe.displayCurrencyAmount??Ye,Te=Ke?"":Je?"+":"-"}else if(se===a.TransactionType.swapAndSend){const e=re.swapAndSendRecipient===Ce;Se=re.swapAndSendRecipient,He=h.TransactionGroupCategory.swapAndSend,qe=J("sentTokenAsToken",[re.sourceTokenSymbol,re.destinationTokenSymbol]),ve=Ue,be=!0,Ve=Je&&e?V.symbol:re.sourceTokenSymbol,ze=Qe,Ge=Ye,Te=Ke?"":Je&&e?"+":"-"}else if(se===a.TransactionType.swapApproval)He=h.TransactionGroupCategory.approval,qe=J("swapApproval",[Xe.sourceTokenSymbol??oe.sourceTokenSymbol]),ve=Ue,be=!0,Ve=Xe.sourceTokenSymbol??oe.sourceTokenSymbol;else if(se===a.TransactionType.tokenMethodApprove){var Ze;He=h.TransactionGroupCategory.approval,Te="",qe=J("approveSpendingCap",[(null===(Ze=Ie)||void 0===Ze?void 0:Ze.symbol)||J("token").toLowerCase()]),ve=Ue,be=!0}else if(se===a.TransactionType.tokenMethodSetApprovalForAll){var et,tt,nt;const e=!(null!=Fe&&null!==(et=Fe.args)&&void 0!==et&&et[1]);He=h.TransactionGroupCategory.approval,Te="",qe=e?J("revokePermissionTitle",[(null===(tt=Ie)||void 0===tt?void 0:tt.symbol)||(null==je?void 0:je.name)||J("token")]):J("setApprovalForAllTitle",[(null===(nt=Ie)||void 0===nt?void 0:nt.symbol)||J("token")]),ve=Ue,be=!0}else if(se===a.TransactionType.tokenMethodIncreaseAllowance){var rt;He=h.TransactionGroupCategory.approval,Te="",qe=J("approveIncreaseAllowance",[(null===(rt=Ie)||void 0===rt?void 0:rt.symbol)||J("token")]),ve=Ue,be=!0}else if(se===a.TransactionType.contractInteraction||se===a.TransactionType.batch||se===a.TransactionType.revokeDelegation){He=h.TransactionGroupCategory.interaction;const e=(0,l.getTransactionTypeTitle)(J,se);qe=(null==de?void 0:de.name)&&(0,u.camelCaseToCapitalize)(de.name)||e,ve=Ue,be=!0}else if(se===a.TransactionType.deployContract)He=h.TransactionGroupCategory.interaction,qe=(0,l.getTransactionTypeTitle)(J,se),ve=Ue,be=!0;else if(se===a.TransactionType.incoming)He=h.TransactionGroupCategory.receive,qe=J("received"),Te="",ve=J("fromAddress",[(0,m.shortenAddress)(Ce)]);else if(se===a.TransactionType.tokenMethodTransferFrom||se===a.TransactionType.tokenMethodTransfer){var ot;He=h.TransactionGroupCategory.send,qe=J("sentSpecifiedTokens",[(null===(ot=Ie)||void 0===ot?void 0:ot.symbol)||(null==je?void 0:je.name)||J("token")]),Se=(0,d.getTokenAddressParam)(Fe),ve=J("toAddress",[(0,m.shortenAddress)(Se)])}else se===a.TransactionType.tokenMethodSafeTransferFrom?(He=h.TransactionGroupCategory.send,qe=J("safeTransferFrom"),Se=(0,d.getTokenAddressParam)(Fe),ve=J("toAddress",[(0,m.shortenAddress)(Se)])):se===a.TransactionType.simpleSend?(He=h.TransactionGroupCategory.send,qe=J("sent"),ve=J("toAddress",[(0,m.shortenAddress)(Se)])):se===a.TransactionType.bridgeApproval?(qe=J("bridgeApproval"),He=h.TransactionGroupCategory.approval,qe=J("bridgeApproval",[Xe.sourceTokenSymbol]),ve=Ue,be=!0,Ve=Xe.sourceTokenSymbol):se===a.TransactionType.bridge?(qe=ne?J("bridgedToChain",[ne]):J("bridged"),He=Xe.category,Ve=Xe.sourceTokenSymbol,ze=(0,b.formatAmount)(q,new s.default(Xe.sourceTokenAmountSent??0)),Ge=Xe.displayCurrencyAmount):H((0,g.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${se}`));const at=ye?`Remote ${qe}`:qe,st=(0,A.useUserPreferencedCurrency)(c.PRIMARY,{},null==e||null===($=e.initialTransaction)||void 0===$?void 0:$.chainId),it=(0,A.useUserPreferencedCurrency)(c.SECONDARY),[lt]=(0,I.useCurrencyDisplay)(ge,{prefix:Te,displayValue:ze,suffix:Ve,...st},null==e||null===(W=e.initialTransaction)||void 0===W?void 0:W.chainId),[ut]=(0,I.useCurrencyDisplay)(ge,{prefix:Te,displayValue:ce?Xe.displayCurrencyAmount:Ge,hideLabel:Ae||Boolean(Qe),...it},null==e||null===(U=e.initialTransaction)||void 0===U?void 0:U.chainId);!Se&&ae&&(Se=ue);return{title:qe,category:He,date:ke,subtitle:ve,subtitleContainsOrigin:be,primaryCurrency:se===a.TransactionType.swap&&pe?"":lt,senderAddress:Ce,recipientAddress:Se,secondaryCurrency:Ae&&!We||!ce&&[a.TransactionType.swap,a.TransactionType.swapAndSend].includes(se)&&!Ye||ce&&!ut?undefined:ut,displayedStatusKey:me,isPending:pe,isSubmitted:fe,detailsTitle:at,remoteSignerAddress:xe}};var r=e("react-redux"),o=e("react"),a=e("@metamask/transaction-controller"),s=O(e("bignumber.js")),i=e("../selectors/selectors"),l=e("../helpers/utils/transactions.util"),u=e("../helpers/utils/common.util"),c=e("../helpers/constants/common"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),p=e("../helpers/constants/transactions"),f=e("../ducks/metamask/metamask"),h=e("../../shared/constants/transaction"),g=e("../store/actions"),k=e("../../shared/modules/string-utils"),y=e("../../shared/lib/metamask-controller-utils"),v=e("../ducks/bridge-status/selectors"),T=e("../pages/bridge/hooks/useBridgeTokenDisplayData"),b=e("../pages/confirmations/components/simulation-details/formatAmount"),S=e("../ducks/locale/locale"),C=e("../../shared/constants/bridge"),w=e("../../shared/lib/transactions-controller-utils"),x=e("./useI18nContext"),E=e("./useTokenFiatAmount"),A=e("./useUserPreferencedCurrency"),I=e("./useCurrencyDisplay"),_=e("./useTokenDisplayValue"),M=e("./useTokenData"),P=e("./useSwappedTokenValue"),D=e("./useCurrentAsset"),N=O(e("./bridge/useBridgeChainInfo")),B=e("./useRemoteModeTransaction");function O(e){return e&&e.__esModule?e:{default:e}}const R=[null,undefined,a.TransactionType.sign,a.TransactionType.personalSign,a.TransactionType.signTypedData,a.TransactionType.ethDecrypt,a.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[7146,{"../../app/scripts/lib/trust-signals/types":224,"../selectors":7812,"@metamask/name-controller":2309,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrustSignalDisplayState=void 0,n.useTrustSignal=function(e,t){return l([{value:e,type:t}])[0]},n.useTrustSignals=l;var r=e("react-redux"),o=e("@metamask/name-controller"),a=e("../selectors"),s=e("../../app/scripts/lib/trust-signals/types");let i=n.TrustSignalDisplayState=function(e){return e.Malicious="malicious",e.Petname="petname",e.Verified="verified",e.Warning="warning",e.Recognized="recognized",e.Unknown="unknown",e}({});function l(e){return(0,r.useSelector)((t=>e.map((({value:e,type:n})=>{if(n!==o.NameType.ETHEREUM_ADDRESS)return{state:i.Unknown,label:null};const r=(0,a.getAddressSecurityAlertResponse)(t,e);if(!r)return{state:i.Unknown,label:null};const l=r.label||null,u=function(e){if(!e.result_type)return i.Unknown;switch(e.result_type){case s.ResultType.Malicious:return i.Malicious;case s.ResultType.Warning:return i.Warning;case s.ResultType.Trusted:return i.Verified;case s.ResultType.Benign:case s.ResultType.ErrorResult:default:return i.Unknown}}(r);return{state:u,label:l}}))))}}}},{package:"$root$",file:"ui/hooks/useTrustSignals.ts"}],[7147,{"../../shared/constants/common":5800,"../../shared/constants/network":5813,"../constants":6940,"../helpers/constants/common":6982,"../selectors":7812,"../selectors/multichain":7819,"./useMultichainSelector":7117,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={},n=null){const d=(0,r.useSelector)(o.getSelectedInternalAccount),m=t.account??d,p=(0,c.useMultichainSelector)(a.getMultichainNativeCurrency,m),{showNativeTokenAsMainBalance:f}=(0,r.useSelector)(o.getPreferences,r.shallowEqual),h=(0,c.useMultichainSelector)(a.getMultichainShouldShowFiat,m),g={currency:(0,c.useMultichainSelector)(a.getMultichainCurrentCurrency,m),numberOfDecimals:t.numberOfDecimals||t.fiatNumberOfDecimals||2},k={currency:n?u.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[n]||p||i.EtherDenomination.ETH:p||i.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||l.ETH_DEFAULT_DECIMALS};if(t.showNativeOverride)return k;if(t.showFiatOverride)return g;if(!h)return k;if(t.shouldCheckShowNativeToken&&f||!t.shouldCheckShowNativeToken)return e===s.PRIMARY?k:g;return e===s.PRIMARY?g:k};var r=e("react-redux"),o=e("../selectors"),a=e("../selectors/multichain"),s=e("../helpers/constants/common"),i=e("../../shared/constants/common"),l=e("../constants"),u=e("../../shared/constants/network"),c=e("./useMultichainSelector")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[7148,{react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useWindowFocus=void 0;var r=e("react");n.useWindowFocus=()=>{const[e,t]=(0,r.useState)(document.hasFocus());return(0,r.useEffect)((()=>{const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("focus",e),window.addEventListener("blur",n),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",n)}}),[]),e}}}},{package:"$root$",file:"ui/hooks/useWindowFocus.ts"}],[7149,{"../app/scripts/constants/sentry-state":7,"../app/scripts/lib/util":226,"../shared/constants/alerts":5796,"../shared/constants/app":5798,"../shared/constants/copy":5801,"../shared/lib/error-utils":5873,"../shared/lib/switch-direction":5890,"../shared/lib/trace":5892,"../shared/modules/object.utils":5915,"../shared/modules/selectors/networks":5921,"./constants":6940,"./ducks/alerts":6953,"./ducks/metamask/metamask":6971,"./helpers/utils/critical-startup-error-handler":7011,"./helpers/utils/tags":7032,"./helpers/utils/tx-helper":7036,"./pages":7534,"./selectors":7812,"./store/actions":7835,"./store/background-connection":7836,"./store/store":7839,"@metamask/chain-agnostic-permission":1542,"copy-to-clipboard":4175,lodash:4912,loglevel:4920,react:5262,"react-dom":5158,"webextension-polyfill":5774},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CriticalStartupErrorHandler",{enumerable:!0,get:function(){return M.CriticalStartupErrorHandler}}),n.connectToBackground=void 0,n.default=async function(e){const{backgroundConnection:t,traceContext:n}=e,r=await(0,y.trace)({name:y.TraceName.GetState,parentContext:n},t.getState.bind(t)),l=await async function(e,t){const{traceContext:n}=t,r=(0,I.getStartupTraceTags)({metamask:e}),a=await(0,y.trace)({name:y.TraceName.SetupStore,parentContext:n,tags:r},(()=>B(e,t.activeTab)));return global.metamask={updateCurrentLocale:e=>{a.dispatch(T.updateCurrentLocale(e))},setFeatureFlag:(e,t)=>{a.dispatch(T.setFeatureFlag(e,t))}},await(0,y.trace)({name:y.TraceName.InitialActions,parentContext:n},(()=>async function(e){const t=e.getState(),n=(0,S.getNetworkToAutomaticallySwitchTo)(t);n&&await e.dispatch(T.automaticallySwitchNetwork(n));if((0,c.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){const t=Date.now();global.metamask.id=t,await e.dispatch(T.setCurrentExtensionPopupId(t))}try{const n=async t=>{(0,w.getIsUnlocked)(t)&&await e.dispatch(T.checkIsSeedlessPasswordOutdated())};await n(t),setInterval((()=>{const t=e.getState();n(t)}),_.SEEDLESS_PASSWORD_OUTDATED_CHECK_INTERVAL_MS)}catch(e){o.default.error("[Metamask] checkIsSeedlessPasswordOutdated error",e)}}(a))),(0,y.trace)({name:y.TraceName.FirstRender,parentContext:n},(()=>(0,i.render)(s.default.createElement(x.default,{store:a}),t.container))),a}(r,e);return await t.startPatches(),function(e){0;window.stateHooks.getCleanAppState=async function(){const t=(0,a.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,m.maskObject)(t,p.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:n}=t.metamask;return Object.values(n).sort(((e,t)=>e.timestamp-t.timestamp))}}(l),l},n.setupInitialStore=B;var r=D(e("copy-to-clipboard")),o=D(e("loglevel")),a=e("lodash"),s=D(e("react")),i=e("react-dom"),l=D(e("webextension-polyfill")),u=e("@metamask/chain-agnostic-permission"),c=e("../app/scripts/lib/util"),d=e("../shared/constants/alerts"),m=e("../shared/modules/object.utils"),p=e("../app/scripts/constants/sentry-state"),f=e("../shared/constants/app"),h=e("../shared/constants/copy"),g=e("../shared/lib/switch-direction"),k=e("../shared/lib/error-utils"),y=e("../shared/lib/trace"),v=e("../shared/modules/selectors/networks"),T=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("./store/actions")),b=D(e("./store/store")),S=e("./selectors"),C=e("./ducks/alerts"),w=e("./ducks/metamask/metamask"),x=D(e("./pages")),E=D(e("./helpers/utils/tx-helper")),A=e("./store/background-connection"),I=e("./helpers/utils/tags"),_=e("./constants"),M=e("./helpers/utils/critical-startup-error-handler");function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function D(e){return e&&e.__esModule?e:{default:e}}o.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const N=Promise.withResolvers();async function B(e,t){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:n,enLocaleMessages:r}=await(0,k.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,g.switchDirection)("rtl");const o={activeTab:t,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:n,en:r}};if((0,c.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){const{origin:e}=o.activeTab,t=(0,S.getAllPermittedAccountsForCurrentTab)(o),n=(0,S.getSelectedInternalAccount)(o),r=n&&(0,u.isInternalAccountInPermittedAccountIds)(n,t),a=(0,w.getUnconnectedAccountAlertShown)(o),s=(0,w.getUnconnectedAccountAlertEnabledness)(o);e&&s&&!a[e]&&t.length>0&&!r&&(o[d.AlertTypes.unconnectedAccount]={state:C.ALERT_STATE.OPEN},T.setUnconnectedAccountAlertShown(e))}const a=(0,b.default)(o);N.resolve(a);const s=(0,S.getUnapprovedTransactions)(e),i=(0,E.default)(s,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,(0,v.getCurrentChainId)({metamask:e}));return i.length>0&&a.dispatch(T.showConfTxPage({id:i[0].id})),a}n.connectToBackground=(e,t)=>{(0,A.setBackgroundConnection)(e),e.onNotification((async e=>{const{method:n}=e;if("sendUpdate"===n){(await N.promise).dispatch(T.updateMetamaskState(e.params[0]))}else{if("startUISync"!==n)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);await t()}}))},window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),n=window.stateHooks.getLogs();l.default.runtime.getPlatformInfo().then((r=>{t.platform=r,t.logs=n;const o=JSON.stringify(t,null,2);e(null,o)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,r.default)(n,h.COPY_OPTIONS),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$",file:"ui/index.js"}],[7150,{"../../../shared/modules/string-utils":5924,"../../components/app/assets/nfts/nft-details/nft-details":5996,"../../ducks/metamask/metamask":6971,"../../helpers/constants/routes":6989,"../../selectors/assets":7805,"./components/native-asset":7160,"./components/token-asset":7161,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("react-router-dom"),s=e("../../../shared/modules/string-utils"),i=p(e("../../components/app/assets/nfts/nft-details/nft-details")),l=e("../../ducks/metamask/metamask"),u=e("../../helpers/constants/routes"),c=e("../../selectors/assets"),d=p(e("./components/native-asset")),m=p(e("./components/token-asset"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useParams)(),{chainId:t,asset:n,id:p}=e,f=n?decodeURIComponent(n):undefined,h=(0,o.useSelector)((e=>(0,l.getNFTsByChainId)(e,t))),g=(0,o.useSelector)((e=>(0,c.getTokenByAccountAndAddressAndChainId)(e,undefined,f,t))),k=h.find((({address:e,tokenId:t})=>(0,s.isEqualCaseInsensitive)(e,f)&&p===t.toString()));(0,r.useEffect)((()=>{const e=document.querySelector(".app");null==e||e.scroll(0,0)}),[]);const y=(()=>{if(k)return r.default.createElement(i.default,{nft:k});if(!g||!t)return r.default.createElement(a.Redirect,{to:{pathname:u.DEFAULT_ROUTE}});return!g.isNative&&g.address?r.default.createElement(m.default,{chainId:t,token:g}):r.default.createElement(d.default,{chainId:t,token:g})})();return r.default.createElement("div",{className:"main-container asset__container"},y)}}}},{package:"$root$",file:"ui/pages/asset/asset.tsx"}],[7151,{"../../../../app/scripts/lib/util":226,"../../../../shared/constants/transaction":5829,"../../../components/component-library":6474,"../../../ducks/metamask/metamask":6971,"../../../helpers/constants/design-system":6984,"../../../helpers/utils/confirm-tx.util":7010,"../../../hooks/useI18nContext":7109,"../../../hooks/useMultichainSelector":7117,"../../../selectors/assets":7805,"../../../selectors/multichain":7819,"../../../selectors/selectors":7827,"../util":7167,"bignumber.js":3997,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetMarketDetails=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("react-redux"),s=e("bignumber.js"),i=e("../../../helpers/utils/confirm-tx.util"),l=e("../util"),u=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),d=e("../../../hooks/useI18nContext"),m=e("../../../ducks/metamask/metamask"),p=e("../../../hooks/useMultichainSelector"),f=e("../../../selectors/multichain"),h=e("../../../selectors/assets"),g=e("../../../selectors/selectors"),k=e("../../../../shared/constants/transaction"),y=e("../../../../app/scripts/lib/util");function v(e,t){return o.default.createElement(u.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween},o.default.createElement(u.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},e),t)}n.AssetMarketDetails=({asset:e,address:t})=>{var n,r,T,b,S;const C=(0,d.useI18nContext)(),w=(0,a.useSelector)(m.getCurrentCurrency),x=(0,p.useMultichainSelector)(f.getMultichainConversionRate),E=(0,a.useSelector)(g.getMarketData),A=(0,a.useSelector)(g.getCurrencyRates),I=(0,a.useSelector)(h.getAssetsRates),_=(0,a.useSelector)(f.getMultichainIsEvm),M=(0,p.useMultichainSelector)(f.getMultichainNativeCurrency),{type:P,symbol:D,chainId:N}=e,B=P===k.AssetType.native?null===(n=A[D])||void 0===n?void 0:n.conversionRate:(null===(r=A[M])||void 0===r?void 0:r.conversionRate)||0,O=(null==I||null===(T=I[t])||void 0===T?void 0:T.rate)||0,R=_?B:O,F=(0,y.getConversionRatesForNativeAsset)({conversionRates:I,chainId:N}),L=P===k.AssetType.native?null==F?void 0:F.marketData:null==I||null===(b=I[t])||void 0===b?void 0:b.marketData,j=_?null===(S=E[N])||void 0===S?void 0:S[t]:L;if(!(x>0&&j&&(j.marketCap>0||j.totalVolume>0||j.circulatingSupply>0||j.allTimeHigh>0||j.allTimeLow>0)))return null;const $=e=>e?new s.BigNumber("string"==typeof e?e:e.toString()).toNumber():0;let W=$(j.marketCap),U=$(j.totalVolume),H=$(j.circulatingSupply),q=$(j.allTimeHigh),V=$(j.allTimeLow);return _&&(W*=R,U*=R,H*=R,q*=R,V*=R),o.default.createElement(u.Box,null,o.default.createElement(u.Box,{marginBottom:2,borderColor:c.BorderColor.borderMuted,marginInline:4,style:{height:"1px",borderBottomWidth:0}}),o.default.createElement(u.Text,{variant:c.TextVariant.headingSm,paddingInline:4,paddingTop:2,paddingBottom:2},C("marketDetails")),o.default.createElement(u.Box,{paddingInline:4,display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2},W>0&&v(C("marketCap"),o.default.createElement(u.Text,{variant:c.TextVariant.bodyMdMedium,"data-testid":"asset-market-cap"},(0,l.localizeLargeNumber)(C,W))),U>0&&v(C("totalVolume"),o.default.createElement(u.Text,{variant:c.TextVariant.bodyMdMedium},(0,l.localizeLargeNumber)(C,U))),H>0&&v(C("circulatingSupply"),o.default.createElement(u.Text,{variant:c.TextVariant.bodyMdMedium},(0,l.localizeLargeNumber)(C,H))),q>0&&v(C("allTimeHigh"),o.default.createElement(u.Text,{variant:c.TextVariant.bodyMdMedium},(0,i.formatCurrency)(`${q}`,w,(0,l.getPricePrecision)(q)))),V>0&&v(C("allTimeLow"),o.default.createElement(u.Text,{variant:c.TextVariant.bodyMdMedium},(0,i.formatCurrency)(`${V}`,w,(0,l.getPricePrecision)(V))))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-market-details.tsx"}],[7152,{"../../../components/component-library":6474,"../../../components/ui/menu":6884,"../../../contexts/i18n":6943,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../selectors":7812,"../../../selectors/multichain":7819,"prop-types":5080,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=(r=e("prop-types"))&&r.__esModule?r:{default:r},s=e("react-router-dom"),i=e("react-redux"),l=e("../../../contexts/i18n"),u=e("../../../components/ui/menu"),c=e("../../../selectors"),d=e("../../../helpers/constants/routes"),m=e("../../../components/component-library"),p=e("../../../helpers/constants/design-system"),f=e("../../../selectors/multichain");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({onRemove:e,onClickBlockExplorer:t,onViewTokenDetails:n,tokenSymbol:r,isNativeAsset:a})=>{const h=(0,o.useContext)(l.I18nContext),[g,k]=(0,o.useState)(!1),y=(0,s.useHistory)(),v=(0,i.useSelector)(c.getBlockExplorerLinkText),T=(0,o.useRef)(!1),b=(0,i.useSelector)(f.getMultichainIsEvm)&&!a;return o.default.createElement("div",{ref:T},o.default.createElement(m.ButtonIcon,{className:"asset-options__button","data-testid":"asset-options__button",onClick:()=>k(!0),ariaLabel:h("assetOptions"),iconName:m.IconName.MoreVertical,color:p.Color.textDefault,size:m.ButtonIconSize.Sm}),g?o.default.createElement(u.Menu,{anchorElement:T.current,onHide:()=>k(!1)},o.default.createElement(u.MenuItem,{iconName:m.IconName.Export,"data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===v.firstPart?()=>{y.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{k(!1),t()}},h(v.firstPart,""===v.secondPart?null:[h("blockExplorerAssetAction")])),b&&o.default.createElement(u.MenuItem,{iconName:m.IconName.Trash,"data-testid":"asset-options__hide",onClick:()=>{k(!1),e()}},h("hideTokenSymbol",[r])),a||!n?null:o.default.createElement(u.MenuItem,{iconName:m.IconName.Info,"data-testid":"asset-options__token-details",onClick:()=>{k(!1),n()}},h("tokenDetails"))):null)};g.propTypes={isNativeAsset:a.default.bool,onClickBlockExplorer:a.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&"function"!=typeof e.onRemove)throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:a.default.func,tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};n.default=g}}},{package:"$root$",file:"ui/pages/asset/components/asset-options.js"}],[7153,{"../../../../shared/constants/transaction":5829,"../../../../shared/lib/trace":5892,"../../../../shared/modules/conversion.utils":5904,"../../../../shared/modules/hexstring-utils":5910,"../../../components/app/assets/hooks/useMultichainAssets":5987,"../../../components/app/assets/token-cell":6011,"../../../components/app/assets/util/calculateTokenBalance":6015,"../../../components/app/transaction-list":6384,"../../../components/app/wallet-overview/coin-buttons":6393,"../../../components/component-library":6474,"../../../components/multichain":6670,"../../../ducks/metamask/metamask":6971,"../../../ducks/ramps":6973,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/routes":6989,"../../../helpers/utils/portfolio":7027,"../../../hooks/useI18nContext":7109,"../../../hooks/useMultichainSelector":7117,"../../../hooks/useTokenBalances":7136,"../../../selectors":7812,"../../../selectors/assets":7805,"../../../selectors/multichain":7819,"../../settings/networks-tab/networks-form/use-safe-chains":7702,"../hooks/useCurrentPrice":7164,"./asset-market-details":7151,"./chart/asset-chart":7157,"./token-buttons":7162,"@metamask/assets-controllers":1457,"@metamask/keyring-api":2077,"@metamask/utils":2974,lodash:4912,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/assets-controllers"),o=e("@metamask/keyring-api"),a=e("@metamask/utils"),s=e("lodash"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),l=e("react-redux"),u=e("react-router-dom"),c=e("../../../../shared/constants/transaction"),d=e("../../../../shared/modules/conversion.utils"),m=e("../../../../shared/modules/hexstring-utils"),p=F(e("../../../components/app/assets/hooks/useMultichainAssets")),f=F(e("../../../components/app/assets/token-cell")),h=e("../../../components/app/assets/util/calculateTokenBalance"),g=F(e("../../../components/app/transaction-list")),k=F(e("../../../components/app/wallet-overview/coin-buttons")),y=e("../../../components/component-library"),v=e("../../../components/multichain"),T=e("../../../ducks/metamask/metamask"),b=e("../../../ducks/ramps"),S=e("../../../helpers/constants/design-system"),C=e("../../../helpers/constants/routes"),w=e("../../../helpers/utils/portfolio"),x=e("../../../hooks/useI18nContext"),E=e("../../../hooks/useMultichainSelector"),A=e("../../../hooks/useTokenBalances"),I=e("../../../selectors"),_=e("../../../selectors/multichain"),M=e("../../../../shared/lib/trace"),P=e("../../settings/networks-tab/networks-form/use-safe-chains"),D=e("../hooks/useCurrentPrice"),N=e("../../../selectors/assets"),B=F(e("./chart/asset-chart")),O=F(e("./token-buttons")),R=e("./asset-market-details");function F(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function j(e,t){return i.default.createElement(y.Box,{display:S.Display.Flex,justifyContent:S.JustifyContent.spaceBetween},i.default.createElement(y.Text,{color:S.TextColor.textAlternative,variant:S.TextVariant.bodyMdMedium},e),i.default.createElement(y.Text,{variant:S.TextVariant.bodyMdMedium},t))}n.default=({asset:e,optionsButton:t})=>{var n,F;const L=(0,x.useI18nContext)(),$=(0,u.useHistory)(),W=(0,l.useSelector)(I.getSelectedAccount),U=(0,l.useSelector)(T.getCurrentCurrency),H=(0,l.useSelector)(b.getIsNativeTokenBuyable),q=(0,E.useMultichainSelector)(_.getMultichainIsEvm),V=(0,l.useSelector)(N.getMultichainNativeAssetType);(0,i.useEffect)((()=>{(0,M.endTrace)({name:M.TraceName.AssetDetails})}),[]);const{chainId:z,type:G,symbol:Q,name:K,image:Y,decimals:J}=e,X=G===c.AssetType.native,Z=(0,l.useSelector)((e=>(0,I.getIsSwapsChain)(e,z))),ee=(0,l.useSelector)((e=>(0,I.getIsBridgeChain)(e,z))),te=(0,l.useSelector)(I.getSelectedInternalAccount,s.isEqual),ne=te.methods.includes(o.EthMethod.SignTransaction)||te.methods.includes(o.EthMethod.SignUserOperation)||te.methods.includes(o.SolMethod.SignTransaction)||te.methods.includes(o.BtcMethod.SendBitcoin),re=(0,E.useMultichainSelector)(_.getMultichainIsTestnet),oe=(0,E.useMultichainSelector)(_.getMultichainShouldShowFiat),ae=!re,se=(0,l.useSelector)(I.getShowFiatInTestnets),ie=oe&&(ae||re&&se),le=(0,l.useSelector)(I.getSelectedAccountNativeTokenCachedBalanceByChainId),{tokenBalances:ue}=(0,A.useTokenBalances)({chainIds:[z]}),ce=ue[W.address],de=(0,p.default)().filter((e=>e.chainId===z&&e.address!==undefined)).find((t=>{switch(G){case c.AssetType.native:return t.isNative;case c.AssetType.token:return t.address===e.address;default:return!1}}))??{address:"",chainId:"",symbol:"",title:"",image:"",tokenFiatAmount:0,string:"",decimals:0,aggregators:[],isNative:!1,primary:"",secondary:0},me=(0,l.useSelector)(I.getParticipateInMetaMetrics),pe=(0,l.useSelector)(I.getDataCollectionForMarketing),fe=(0,l.useSelector)(I.getMetaMetricsId),he=(G===c.AssetType.token?q?(0,m.toChecksumHexAddress)(e.address):e.address:q?(0,r.getNativeTokenAddress)(z):V)??"",ge=G===c.AssetType.token,ke=ge?q?(0,m.toChecksumHexAddress)(e.address):(0,a.parseCaipAssetType)(he).assetReference:"",ye=null==ce||null===(n=ce[z])||void 0===n?void 0:n[he],ve=(0,h.calculateTokenBalance)({isNative:X,chainId:z,address:he,decimals:J,nativeBalances:le,selectedAccountTokenBalancesAcrossChains:ce}),{currentPrice:Te}=(0,D.useCurrentPrice)(e),be=Te?Te*parseFloat(String(ve)):0;e.balance={value:(0,d.hexToDecimal)(ye),display:String(ve),fiat:String(be)};const Se=q,Ce=(0,i.useMemo)((()=>(0,w.getPortfolioUrl)("","asset_page",fe,me,pe,te.address,"spending-caps")),[te.address,pe,me,fe]),we=null===(F=(0,l.useSelector)(_.getMultichainNetworkConfigurationsByChainId)[z])||void 0===F?void 0:F.name,xe=(0,_.getImageForChainId)(z),Ee=q?{address:he,chainId:z,symbol:Q,image:Y,title:K??Q,tokenFiatAmount:ie?be:null,string:ve?ve.toString():"",decimals:e.decimals,aggregators:G===c.AssetType.token&&e.aggregators?e.aggregators:[],isNative:G===c.AssetType.native,primary:ve?ve.toString():"",secondary:ve?Number(ve):0}:de,{safeChains:Ae}=(0,P.useSafeChains)();return i.default.createElement(y.Box,{marginLeft:"auto",marginRight:"auto",marginTop:4,className:"asset__content"},i.default.createElement(y.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Row,justifyContent:S.JustifyContent.spaceBetween,paddingTop:1,paddingBottom:3,paddingLeft:2,paddingRight:4},i.default.createElement(y.Box,{display:S.Display.Flex},i.default.createElement(y.ButtonIcon,{color:S.IconColor.iconAlternative,marginRight:1,size:y.ButtonIconSize.Sm,ariaLabel:L("back"),iconName:y.IconName.ArrowLeft,onClick:()=>$.push(C.DEFAULT_ROUTE)})),t),i.default.createElement(y.Box,{paddingLeft:4},i.default.createElement(y.Text,{"data-testid":"asset-name",variant:S.TextVariant.bodyMdMedium,color:S.TextColor.textAlternative},K&&Q&&K!==Q?`${K} (${Q})`:K??Q)),i.default.createElement(B.default,{chainId:z,address:he,currentPrice:Te,currency:U,asset:Ee}),i.default.createElement(y.Box,{marginTop:4,paddingLeft:4,paddingRight:4},G===c.AssetType.native?i.default.createElement(k.default,{account:te,trackingLocation:"asset-page",isBuyableChain:H,isSigningEnabled:ne,isSwapsChain:Z,isBridgeChain:ee,chainId:z}):i.default.createElement(O.default,{token:e})),i.default.createElement(y.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,paddingTop:3},i.default.createElement(y.Text,{variant:S.TextVariant.headingSm,paddingBottom:1,paddingTop:1,paddingLeft:4},L("yourBalance")),[c.AssetType.token,c.AssetType.native].includes(G)&&i.default.createElement(f.default,{key:`${Q}-${he}`,token:Ee,disableHover:!0,safeChains:Ae}),i.default.createElement(y.Box,{marginTop:2,marginBottom:2,borderColor:S.BorderColor.borderMuted,marginInline:4,style:{height:"1px",borderBottomWidth:0}}),i.default.createElement(y.Box,{marginTop:2,display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:4},[c.AssetType.token,c.AssetType.native].includes(G)&&i.default.createElement(y.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,paddingLeft:4,paddingRight:4},i.default.createElement(y.Text,{variant:S.TextVariant.headingSm,paddingBottom:2},L("tokenDetails")),i.default.createElement(y.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:2},j(L("network"),i.default.createElement(y.Text,{variant:S.TextVariant.bodyMdMedium,display:S.Display.Flex,alignItems:S.AlignItems.center,gap:2,"data-testid":"asset-network"},i.default.createElement(y.AvatarNetwork,{src:xe,name:we,size:y.AvatarNetworkSize.Xs}),we)),ge&&i.default.createElement(y.Box,null,j(L("contractAddress"),i.default.createElement(v.AddressCopyButton,{address:ke,shorten:!0})),i.default.createElement(y.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:2},e.decimals!==undefined&&j(L("tokenDecimal"),i.default.createElement(y.Text,{variant:S.TextVariant.bodyMdMedium},e.decimals)),e.aggregators&&e.aggregators.length>0&&i.default.createElement(y.Box,null,i.default.createElement(y.Text,{variant:S.TextVariant.bodyMdMedium,color:S.TextColor.textAlternative},L("tokenList")),i.default.createElement(y.Text,{variant:S.TextVariant.bodyMdMedium},e.aggregators.map((e=>e.replace(/^metamask$/iu,"MetaMask"))).join(", "))))),Se&&j(L("spendingCaps"),i.default.createElement(y.ButtonLink,{className:"asset-page__spending-caps mm-text--body-md-medium",href:Ce,target:"_blank",rel:"noopener noreferrer"},L("editInPortfolio"))))),i.default.createElement(R.AssetMarketDetails,{asset:e,address:he}),i.default.createElement(y.Box,{borderColor:S.BorderColor.borderMuted,marginInline:4,style:{height:"1px",borderBottomWidth:0}}),i.default.createElement(y.Box,{marginBottom:4},i.default.createElement(y.Text,{paddingInline:4,variant:S.TextVariant.headingSm},L("yourActivity")),G===c.AssetType.native?i.default.createElement(g.default,{tokenAddress:he,hideNetworkFilter:!0,overrideFilterForCurrentChain:!0}):i.default.createElement(g.default,{tokenAddress:he,hideNetworkFilter:!0})))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-page.tsx"}],[7154,{"../../../../components/component-library":6474,"../../../../helpers/constants/design-system":6984,"../../../../hooks/useI18nContext":7109,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetChartEmptyState=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("../../../../components/component-library"),a=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}n.AssetChartEmptyState=()=>{const e=(0,s.useI18nContext)();return r.createElement(o.Box,{className:"asset-chart__empty-or-loading-state-container"},r.createElement(o.Box,{className:"asset-chart__empty-state-content"},r.createElement("img",{src:"./images/asset-chart-empty-state-illustration.png",className:"asset-chart__empty-state-illustration"}),r.createElement(o.Text,{textAlign:a.TextAlign.Center,variant:a.TextVariant.bodySmMedium,color:a.TextColor.textAlternative,fontWeight:a.FontWeight.Medium,paddingTop:4,paddingRight:2,paddingBottom:4,paddingLeft:2,width:a.BlockSize.Full},e("assetChartNoHistoricalPrices"))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart-empty-state.tsx"}],[7155,{"../../../../components/component-library":6474,"../../../../components/component-library/skeleton":6520,"../../../../helpers/constants/design-system":6984,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetChartLoading=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("../../../../components/component-library/skeleton"),a=e("../../../../components/component-library"),s=e("../../../../helpers/constants/design-system");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}n.AssetChartLoading=()=>r.createElement(a.Box,{className:"asset-chart__empty-or-loading-state-container","data-testid":"asset-chart-loading"},r.createElement(o.Skeleton,{className:"asset-chart__skeleton",borderRadius:s.BorderRadius.LG}))}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart-loading.tsx"}],[7156,{"../../../../components/app/assets/token-cell/cells":6006,"../../../../components/component-library":6474,"../../../../components/component-library/skeleton":6520,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/confirm-tx.util":7010,"../../util":7167,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("../../../../helpers/constants/design-system"),a=e("../../../../components/component-library"),s=e("../../../../helpers/utils/confirm-tx.util"),i=e("../../util"),l=e("../../../../components/component-library/skeleton"),u=e("../../../../components/app/assets/token-cell/cells");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=()=>r.default.createElement(l.Skeleton,{width:"25%",marginBottom:1,borderRadius:o.BorderRadius.LG},r.default.createElement(a.Text,{variant:o.TextVariant.displayMd}," ")),m=()=>r.default.createElement(a.Text,{variant:o.TextVariant.displayMd,marginBottom:1}," "),p=()=>r.default.createElement(l.Skeleton,{width:"33%",borderRadius:o.BorderRadius.LG},r.default.createElement(a.Text,{variant:o.TextVariant.bodyMdMedium}," ")),f=()=>r.default.createElement(a.Text,{variant:o.TextVariant.bodyMdMedium}," "),h=(0,r.forwardRef)(((e,t)=>{const[{price:n,date:l},c]=(0,r.useState)({price:e.price,date:e.date});(0,r.useImperativeHandle)(t,(()=>({setPrice:c})));const{loading:h,currency:g,comparePrice:k}=e,y=n!==undefined&&k!==undefined?n-k:undefined,v=h&&n===undefined,T=!h&&n===undefined,b=h&&n!==undefined,S=!h&&n!==undefined,C=h&&y===undefined,w=!h&&y===undefined,x=h&&y!==undefined&&k!==undefined,E=!h&&y!==undefined&&k!==undefined;return r.default.createElement(a.Box,{marginLeft:4,marginRight:4},v&&r.default.createElement(d,null),T&&r.default.createElement(m,null),(S||b)&&r.default.createElement(a.Text,{"data-testid":"asset-hovered-price",variant:o.TextVariant.displayMd,fontWeight:o.FontWeight.Medium,borderRadius:o.BorderRadius.LG,marginBottom:1,style:{opacity:b?i.loadingOpacity:1}},(0,s.formatCurrency)(`${n}`,g,(0,i.getPricePrecision)(n))),C&&r.default.createElement(p,null),w&&r.default.createElement(f,null),(E||x)&&r.default.createElement(a.Box,{style:{opacity:h?i.loadingOpacity:1},display:o.Display.Flex,flexDirection:o.FlexDirection.Row},e.asset&&r.default.createElement(u.TokenCellPercentChange,{token:e.asset}),r.default.createElement(a.Text,{display:o.Display.InlineBlock,variant:o.TextVariant.bodyMdMedium,color:o.TextColor.textAlternative,marginLeft:2},(0,i.getShortDateFormatter)().format(l))))}));n.default=h}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart-price.tsx"}],[7157,{"../../../../components/component-library":6474,"../../../../helpers/constants/design-system":6984,"../../../../hooks/useI18nContext":7109,"../../../../hooks/useTheme":7134,"../../hooks/useChartTimeRanges":7163,"../../hooks/useHistoricalPrices":7165,"../../util":7167,"./asset-chart-empty-state":7154,"./asset-chart-loading":7155,"./asset-chart-price":7156,"./chart-tooltip":7158,"./crosshair-plugin":7159,"@metamask/design-tokens":1569,"chart.js":4131,classnames:4139,lodash:4912,luxon:4922,react:5262,"react-chartjs-2":5154},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("chart.js"),a=e("react-chartjs-2"),s=S(e("classnames")),i=e("@metamask/design-tokens"),l=e("lodash"),u=e("luxon"),c=e("../../../../hooks/useTheme"),d=e("../../../../helpers/constants/design-system"),m=e("../../../../components/component-library"),p=e("../../../../hooks/useI18nContext"),f=e("../../hooks/useHistoricalPrices"),h=e("../../util"),g=e("../../hooks/useChartTimeRanges"),k=S(e("./chart-tooltip")),y=e("./crosshair-plugin"),v=e("./asset-chart-empty-state"),T=e("./asset-chart-loading"),b=S(e("./asset-chart-price"));function S(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}o.Chart.register(o.LinearScale,o.PointElement,o.LineElement,o.Filler,o.Decimation,y.CrosshairPlugin);const w={normalized:!0,parsing:!1,aspectRatio:2.6,layout:{autoPadding:!1,padding:0},animation:{duration:0},fill:!0,backgroundColor:({chart:e})=>{const t=e.ctx.createLinearGradient(0,0,0,e.height);return t.addColorStop(0,`${e.options.borderColor}60`),t.addColorStop(1,`${e.options.borderColor}00`),t},elements:{line:{borderWidth:1.5},point:{pointStyle:!1}},plugins:{decimation:{algorithm:"lttb",samples:150,threshold:150,enabled:!0}}};n.default=({chainId:e,address:t,currentPrice:n,currency:o,asset:y})=>{var S;const C=(0,p.useI18nContext)(),x=(0,c.useTheme)(),E=(0,g.useChartTimeRanges)(t,o),[A,I]=(0,r.useState)(E[0]??"P1D"),{loading:_,data:{prices:M,metadata:{minPricePoint:P,maxPricePoint:D,xMin:N,xMax:B,yMin:O,yMax:R}}}=(0,f.useHistoricalPrices)({chainId:e,address:t,currency:o,timeRange:A}),F=_&&0===M.length,L=!_&&0===M.length,j=_&&M.length>0,$=!_&&M.length>0,W={...w,borderColor:"dark"===x?i.brandColor.blue400:i.brandColor.blue500,scales:{x:{min:N,max:B,display:!1,type:"linear"},y:{min:O,max:R,display:!1}}},U=(0,r.useRef)(),H=(0,r.useRef)();return(0,r.useEffect)((()=>{var e;null==H||null===(e=H.current)||void 0===e||e.setPrice({price:n,date:Date.now()})}),[n]),r.default.createElement(m.Box,{borderRadius:d.BorderRadius.LG,display:d.Display.Flex,flexDirection:d.FlexDirection.Column},r.default.createElement(b.default,{ref:H,loading:_,currency:o,price:n,date:Date.now(),comparePrice:null==M||null===(S=M[0])||void 0===S?void 0:S.y,asset:y}),r.default.createElement(m.Box,{"data-testid":"asset-price-chart",marginTop:4,backgroundColor:_&&!M?d.BackgroundColor.backgroundSection:d.BackgroundColor.transparent,borderRadius:d.BorderRadius.LG,display:d.Display.Flex,flexDirection:d.FlexDirection.Column},F&&r.default.createElement(T.AssetChartLoading,null),L&&r.default.createElement(v.AssetChartEmptyState,null),($||j)&&r.default.createElement(m.Box,{style:{opacity:j?h.loadingOpacity:1}},r.default.createElement(k.default,{point:D,xMin:N,xMax:B,currency:o}),r.default.createElement(m.Box,{style:{aspectRatio:`${W.aspectRatio}`},display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:n?d.JustifyContent.flexEnd:d.JustifyContent.flexStart},r.default.createElement(a.Line,{ref:U,data:{datasets:[{data:M}]},options:W,updateMode:"none",onMouseMove:e=>{var t;const n=null==U||null===(t=U.current)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.datasets)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.data;if(n){const t=e.target,o=n[Math.max(0,Math.min(n.length-1,Math.round(e.nativeEvent.offsetX/t.clientWidth*n.length)))];var r;if(o)null==H||null===(r=H.current)||void 0===r||r.setPrice({price:o.y,date:o.x})}},onMouseOut:()=>{var e;null==H||null===(e=H.current)||void 0===e||e.setPrice({price:n,date:Date.now()})}})),r.default.createElement(k.default,{point:P,xMin:N,xMax:B,currency:o})),r.default.createElement(m.Box,{style:M?undefined:{visibility:"hidden"},display:d.Display.Flex,justifyContent:d.JustifyContent.spaceBetween,marginTop:2,marginLeft:3,marginRight:3},E.map((e=>r.default.createElement(m.ButtonBase,{key:e,className:(0,s.default)("time-range-button",{"time-range-button__selected":e===A}),onClick:()=>I(e),variant:d.TextVariant.bodyXsMedium,size:m.ButtonBaseSize.Sm,paddingLeft:2,paddingRight:2,backgroundColor:d.BackgroundColor.transparent,color:d.TextColor.textAlternative},((e,t)=>{const{years:n,months:r,weeks:o,days:a,hours:s,minutes:i,seconds:c,milliseconds:d}=u.Duration.fromISO(t,{locale:"en"}).normalize().rescale().toObject();return n&&n>100?`${e("all")}`:(0,l.trim)(`${n?`${n}${e("durationSuffixYear")} `:""}${r?`${r}${e("durationSuffixMonth")} `:""}${o?`${o}${e("durationSuffixWeek")} `:""}${a?`${a}${e("durationSuffixDay")} `:""}${s?`${s}${e("durationSuffixHour")} `:""}${i?`${i}${e("durationSuffixMinute")} `:""}${c?`${c}${e("durationSuffixSecond")} `:""}${d?`${d}${e("durationSuffixMillisecond")}`:""}`)})(C,e)))))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart.tsx"}],[7158,{"../../../../components/component-library":6474,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/confirm-tx.util":7010,"../../util":7167,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("../../../../components/component-library"),s=e("../../../../helpers/utils/confirm-tx.util"),i=e("../../../../helpers/constants/design-system"),l=e("../../util");n.default=({point:e,xMin:t,xMax:n,currency:r})=>{const u=e&&t&&n?(e.x-t)/(n-t):0;return o.default.createElement(a.Box,{style:{...u<.5?{paddingRight:100-200*u+"%"}:{paddingLeft:100-2*(100-100*u)+"%"},direction:u<.5?a.TextDirection.LeftToRight:a.TextDirection.RightToLeft}},o.default.createElement(a.Text,{marginLeft:4,marginRight:4,marginBottom:1,marginTop:1,variant:i.TextVariant.bodyXsMedium,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},(null==e?void 0:e.y)===undefined?" ":(0,s.formatCurrency)(`${null==e?void 0:e.y}`,r,(0,l.getPricePrecision)(null==e?void 0:e.y))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/chart-tooltip.tsx"}],[7159,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CrosshairPlugin=void 0;n.CrosshairPlugin={id:"crosshair",afterEvent(e,{event:t}){e.crosshairX="mouseout"===t.type?undefined:t.x??undefined,e.draw()},afterDraw(e){if(e.crosshairX!==undefined){const t=e.data.datasets[0].data,n=t[Math.max(0,Math.min(t.length-1,Math.round(e.crosshairX/e.width*t.length)))];if(n){const{x:t,y:r}=e.scales,o=t.getPixelForValue(n.x),a=r.getPixelForValue(n.y);e.ctx.lineWidth=1,e.ctx.strokeStyle="#BBC0C5",e.ctx.beginPath(),e.ctx.moveTo(o,0),e.ctx.lineTo(o,e.height),e.ctx.stroke(),e.ctx.beginPath(),e.ctx.arc(o,a,3,0,2*Math.PI),e.ctx.fillStyle=e.options.borderColor,e.ctx.fill()}}}}}}},{package:"$root$",file:"ui/pages/asset/components/chart/crosshair-plugin.ts"}],[7160,{"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/transaction":5829,"../../../../shared/modules/selectors/networks":5921,"../../../contexts/metametrics":6947,"../../../helpers/utils/multichain/blockExplorer":7022,"../../../helpers/utils/util":7037,"../../../hooks/useIsOriginalNativeTokenSymbol":7110,"../../../hooks/useMultichainSelector":7117,"../../../selectors":7812,"../../../selectors/multichain":7819,"./asset-options":7152,"./asset-page":7153,"@metamask/etherscan-link":1993,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("@metamask/etherscan-link"),s=e("../../../selectors"),i=e("../../../../shared/modules/selectors/networks"),l=e("../../../../shared/constants/transaction"),u=e("../../../hooks/useIsOriginalNativeTokenSymbol"),c=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/utils/util"),m=e("../../../contexts/metametrics"),p=e("../../../helpers/utils/multichain/blockExplorer"),f=e("../../../hooks/useMultichainSelector"),h=e("../../../selectors/multichain"),g=y(e("./asset-options")),k=y(e("./asset-page"));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{const{symbol:n}=e,y=(0,s.getNativeCurrencyForChain)(t),{type:v}=(0,o.useSelector)(i.getProviderConfig)??{},{address:T}=(0,o.useSelector)(s.getSelectedInternalAccount),b=(0,o.useSelector)(s.getRpcPrefsForCurrentProvider),S=(0,o.useSelector)(s.getSelectedAccount),C=(0,f.useMultichainSelector)(h.getMultichainNetwork,S),w=(0,o.useSelector)(h.getMultichainIsEvm),x=(0,p.getMultichainAccountUrl)(S.address,C),E=w?(0,a.getAccountLink)(T,t,b):x,A=(0,r.useContext)(m.MetaMetricsContext),I=(0,u.useIsOriginalNativeTokenSymbol)(t,n,v);return r.default.createElement(k.default,{asset:{chainId:t,type:l.AssetType.native,symbol:n,image:y,decimals:e.decimals,isOriginalNativeSymbol:!0===I},optionsButton:r.default.createElement(g.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{A({event:"Clicked Block Explorer Link",category:c.MetaMetricsEventCategory.Navigation,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,d.getURLHostName)(E)}}),global.platform.openTab({url:E})}})})}}}},{package:"$root$",file:"ui/pages/asset/components/native-asset.tsx"}],[7161,{"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/transaction":5829,"../../../../shared/modules/selectors/networks":5921,"../../../../shared/modules/string-utils":5924,"../../../contexts/metametrics":6947,"../../../helpers/utils/multichain/blockExplorer":7022,"../../../helpers/utils/util":7037,"../../../hooks/useMultichainSelector":7117,"../../../hooks/useTokenFiatAmount":7140,"../../../hooks/useTokenTracker":7143,"../../../selectors":7812,"../../../selectors/multichain":7819,"../../../store/actions":7835,"./asset-options":7152,"./asset-page":7153,"@metamask/etherscan-link":1993,"@metamask/utils":2974,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/etherscan-link"),o=e("@metamask/utils"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),s=e("react-redux"),i=e("react-router-dom"),l=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/constants/transaction"),c=e("../../../../shared/modules/selectors/networks"),d=e("../../../../shared/modules/string-utils"),m=e("../../../contexts/metametrics"),p=e("../../../helpers/utils/util"),f=e("../../../hooks/useTokenFiatAmount"),h=e("../../../hooks/useTokenTracker"),g=e("../../../selectors"),k=e("../../../store/actions"),y=e("../../../helpers/utils/multichain/blockExplorer"),v=e("../../../hooks/useMultichainSelector"),T=e("../../../selectors/multichain"),b=C(e("./asset-options")),S=C(e("./asset-page"));function C(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{var n,C,w;const{address:x,symbol:E,isERC721:A,image:I}=e,_=(0,s.useSelector)(g.getTokenList),M=(0,s.useSelector)(c.getNetworkConfigurationsByChainId),P=null===(n=M[t])||void 0===n?void 0:n.defaultBlockExplorerUrlIndex,D=P===undefined?null:null===(C=M[t])||void 0===C?void 0:C.blockExplorerUrls[P],N=(0,s.useSelector)(g.getSelectedInternalAccount),{address:B}=N,O=(0,s.useSelector)(g.selectERC20TokensByChain),R=(0,v.useMultichainSelector)(T.getMultichainNetwork,N),F=(0,s.useSelector)(T.getMultichainIsEvm),L=(0,i.useHistory)(),j=(0,s.useDispatch)(),$=(0,a.useContext)(m.MetaMetricsContext),W=Object.values(_).find((e=>(0,d.isEqualCaseInsensitive)(e.symbol,E)&&(0,d.isEqualCaseInsensitive)(e.address,x))),U=null==O||null===(w=O[t])||void 0===w||null===(w=w.data)||void 0===w?void 0:w[x.toLowerCase()],H=(null==W?void 0:W.name)||(null==U?void 0:U.name)||E,q=(null==W?void 0:W.iconUrl)||(null==U?void 0:U.iconUrl)||I||"",V=null==W?void 0:W.aggregators,{tokensWithBalances:z}=(0,h.useTokenTracker)({tokens:[e],address:undefined}),G=null==z?void 0:z[0],Q=(0,f.useTokenFiatAmount)(x,null==G?void 0:G.string,E,{},!1),K=(0,r.getTokenTrackerLink)(e.address,t,"",B,{blockExplorerUrl:D??""}),Y=F?K:(0,y.getMultichainAccountUrl)((0,o.parseCaipAssetType)(x).assetReference,R);return a.default.createElement(S.default,{asset:{chainId:t,type:u.AssetType.token,address:x,symbol:E,name:H,decimals:e.decimals,image:q,aggregators:V,balance:{value:null==G?void 0:G.balance,display:`${(0,p.roundToDecimalPlacesRemovingExtraZeroes)(null==G?void 0:G.string,5)}`,fiat:Q},isERC721:A},optionsButton:a.default.createElement(b.default,{isNativeAsset:!1,onRemove:()=>j((0,k.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:L})),onClickBlockExplorer:()=>{$({event:"Clicked Block Explorer Link",category:l.MetaMetricsEventCategory.Navigation,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,p.getURLHostName)(K)}}),global.platform.openTab({url:Y})},tokenSymbol:e.symbol})})}}}},{package:"$root$",file:"ui/pages/asset/components/token-asset.tsx"}],[7162,{"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/multichain/networks":5812,"../../../../shared/constants/transaction":5829,"../../../../shared/modules/selectors/networks":5921,"../../../components/app/wallet-overview/hooks/useHandleSendNonEvm":6396,"../../../components/component-library":6474,"../../../components/ui/icon-button/icon-button":6854,"../../../contexts/i18n":6943,"../../../contexts/metametrics":6947,"../../../ducks/bridge/selectors":6961,"../../../ducks/ramps":6973,"../../../ducks/send":6976,"../../../ducks/swaps/swaps":6980,"../../../helpers/constants/design-system":6984,"../../../helpers/constants/error-keys":6985,"../../../helpers/constants/routes":6989,"../../../helpers/utils/hardware":7015,"../../../hooks/bridge/useBridging":7052,"../../../hooks/ramps/useRamps/useRamps":7079,"../../../hooks/useMultichainSelector":7117,"../../../selectors":7812,"../../../selectors/multichain":7819,"../../../store/actions":7835,"@metamask/keyring-api":2077,lodash:4912,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("react-router-dom"),s=e("@metamask/keyring-api"),i=e("lodash"),l=e("../../../contexts/i18n"),u=e("../../../helpers/constants/routes"),c=e("../../../ducks/send"),d=e("../../../helpers/utils/hardware"),m=e("../../../ducks/swaps/swaps"),p=P(e("../../../hooks/ramps/useRamps/useRamps")),f=e("../../../selectors"),h=P(e("../../../hooks/bridge/useBridging")),g=e("../../../helpers/constants/error-keys"),k=e("../../../store/actions"),y=e("../../../contexts/metametrics"),v=e("../../../../shared/constants/metametrics"),T=e("../../../../shared/constants/transaction"),b=e("../../../helpers/constants/design-system"),S=P(e("../../../components/ui/icon-button/icon-button")),C=e("../../../components/component-library"),w=e("../../../ducks/ramps"),x=e("../../../hooks/useMultichainSelector"),E=e("../../../selectors/multichain"),A=e("../../../components/app/wallet-overview/hooks/useHandleSendNonEvm"),I=e("../../../../shared/constants/multichain/networks"),_=e("../../../../shared/modules/selectors/networks"),M=e("../../../ducks/bridge/selectors");function P(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}n.default=({token:e})=>{const t=(0,o.useDispatch)(),n=(0,r.useContext)(l.I18nContext),P=(0,r.useContext)(y.MetaMetricsContext),D=(0,a.useHistory)(),N=(0,o.useSelector)(f.getCurrentKeyring),B=(0,d.isHardwareKeyring)(N.type),O=(0,x.useMultichainSelector)(E.getMultichainIsEvm),R=(0,o.useSelector)(f.getSelectedInternalAccount,i.isEqual),{chainId:F}=(0,o.useSelector)(f.getSelectedMultichainNetworkConfiguration),L=(0,o.useSelector)(_.getCurrentChainId),j=(0,o.useSelector)(f.getNetworkConfigurationIdByChainId),$=(0,o.useSelector)((e=>(0,f.getIsSwapsChain)(e,O?L:F))),W=(0,o.useSelector)((e=>(0,f.getIsBridgeChain)(e,O?L:F))),U=(0,o.useSelector)(w.getIsNativeTokenBuyable),{openBuyCryptoInPdapp:H}=(0,p.default)(),{openBridgeExperience:q}=(0,h.default)(),V=(0,A.useHandleSendNonEvm)(e.address),z=(0,o.useSelector)((e=>(0,M.getIsUnifiedUIEnabled)(e,O?L:F)));(0,r.useEffect)((()=>{e.isERC721&&t((0,k.showModal)({name:"CONVERT_TOKEN_TO_NFT",tokenAddress:e.address}))}),[e.isERC721,e.address,t]);const G=(0,r.useCallback)((async()=>{if(L!==e.chainId&&F!==e.chainId)try{const n=j[e.chainId];await t((0,k.setActiveNetworkWithError)(n))}catch(t){throw console.error(`Failed to switch chains.\n        Target chainId: ${e.chainId}, Current chainId: ${L}.\n        ${t}`),t}}),[L,F,j,e.chainId,t]),Q=(0,r.useCallback)((()=>{H(),P({event:v.MetaMetricsEventName.NavBuyButtonClicked,category:v.MetaMetricsEventCategory.Navigation,properties:{location:"Token Overview",text:"Buy",chain_id:L,token_symbol:e.symbol}})}),[L,e.symbol,P,H]),K=(0,r.useCallback)((async()=>{if(P({event:v.MetaMetricsEventName.NavSendButtonClicked,category:v.MetaMetricsEventCategory.Navigation,properties:{token_symbol:e.symbol,location:v.MetaMetricsSwapsEventSource.TokenView,text:"Send",chain_id:e.chainId}},{excludeMetaMetricsId:!1}),(0,s.isEvmAccountType)(R.type))try{await G(),await t((0,c.startNewDraftTransaction)({type:T.AssetType.token,details:e})),D.push(u.SEND_ROUTE)}catch(e){if(!e.message.includes(g.INVALID_ASSET_TYPE))throw e}else await V()}),[P,t,D,e,G,R,V]),Y=(0,r.useCallback)((async t=>{await G(),q(v.MetaMetricsSwapsEventSource.TokenView,e,t)}),[e,G,q]),J=(0,r.useCallback)((async()=>{var n,r,o,a,s;F!==I.MultichainNetworks.SOLANA?z?Y(!0):(await G(),P({event:v.MetaMetricsEventName.NavSwapButtonClicked,category:v.MetaMetricsEventCategory.Swaps,properties:{token_symbol:e.symbol,location:v.MetaMetricsSwapsEventSource.TokenView,text:"Swap",chain_id:L}}),t((0,m.setSwapsFromToken)({...e,address:null===(n=e.address)||void 0===n?void 0:n.toLowerCase(),iconUrl:e.image,balance:null==e||null===(r=e.balance)||void 0===r?void 0:r.value,string:null==e||null===(o=e.balance)||void 0===o?void 0:o.display})),B?null===(a=(s=global.platform).openExtensionInBrowser)||void 0===a||a.call(s,u.PREPARE_SWAP_ROUTE,undefined,!1):D.push(u.PREPARE_SWAP_ROUTE)):Y(!0)}),[L,P,t,D,e,B,G,Y,F,z]);return r.default.createElement(C.Box,{display:b.Display.Flex,gap:3,justifyContent:b.JustifyContent.spaceEvenly},r.default.createElement(S.default,{className:"token-overview__button",Icon:r.default.createElement(C.Icon,{name:C.IconName.Money,color:b.IconColor.iconAlternative,size:C.IconSize.Md}),label:n("buyAndSell"),"data-testid":"token-overview-buy",onClick:Q,disabled:e.isERC721||!U}),r.default.createElement(S.default,{className:"token-overview__button",onClick:K,Icon:r.default.createElement(C.Icon,{name:C.IconName.Send,color:b.IconColor.iconAlternative,size:C.IconSize.Md}),label:n("send"),"data-testid":"eth-overview-send",disabled:e.isERC721}),r.default.createElement(S.default,{className:"token-overview__button",Icon:r.default.createElement(C.Icon,{name:C.IconName.SwapHorizontal,color:b.IconColor.iconAlternative,size:C.IconSize.Md}),onClick:J,label:n("swap"),disabled:!$}),!z&&r.default.createElement(S.default,{className:"token-overview__button","data-testid":"token-overview-bridge",Icon:r.default.createElement(C.Icon,{name:C.IconName.Bridge,color:b.IconColor.iconAlternative,size:C.IconSize.Md}),label:n("bridge"),onClick:()=>Y(!1),disabled:!W}))}}}},{package:"$root$",file:"ui/pages/asset/components/token-buttons.tsx"}],[7163,{"../../../selectors/assets":7805,"../../../selectors/multichain":7819,"@metamask/utils":2974,lodash:4912,luxon:4922,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useChartTimeRanges=void 0;var r=e("@metamask/utils"),o=e("lodash"),a=e("luxon"),s=e("react-redux"),i=e("../../../selectors/assets"),l=e("../../../selectors/multichain");n.useChartTimeRanges=(e,t)=>{var n;const u=["P1D","P1W","P1M","P3M","P1Y","P1000Y"],c=(0,s.useSelector)(l.getMultichainIsEvm),d=(0,s.useSelector)(i.getHistoricalPrices);if(c)return u;(0,r.assert)(e,"caipAssetType is required on non-EVM chains"),(0,r.assert)(t,"currency is required on non-EVM chains");const m=null===(n=d[e])||void 0===n||null===(n=n[t])||void 0===n?void 0:n.intervals;return m?(0,o.chain)(m).keys().map((e=>a.Duration.fromISO(e))).filter((e=>e.isValid)).sortBy((e=>e.toMillis())).map((e=>e.toISO())).filter((e=>null!==e)).uniq().value():u}}}},{package:"$root$",file:"ui/pages/asset/hooks/useChartTimeRanges.ts"}],[7164,{"../../../../shared/modules/hexstring-utils":5910,"../../../ducks/metamask/metamask":6971,"../../../hooks/useMultichainSelector":7117,"../../../selectors":7812,"../../../selectors/assets":7805,"../../../selectors/multichain":7819,"@metamask/assets-controllers":1457,"@metamask/bridge-controller":1483,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentPrice=void 0;var r=e("@metamask/assets-controllers"),o=e("@metamask/bridge-controller"),a=e("react-redux"),s=e("../../../../shared/modules/hexstring-utils"),i=e("../../../hooks/useMultichainSelector"),l=e("../../../selectors"),u=e("../../../selectors/assets"),c=e("../../../selectors/multichain"),d=e("../../../ducks/metamask/metamask");n.useCurrentPrice=e=>{var t;const n=(0,i.useMultichainSelector)(c.getMultichainIsEvm),m=(0,a.useSelector)(l.getMarketData),p=(0,a.useSelector)(l.getCurrencyRates),f=(0,a.useSelector)(u.getAssetsRates),h=(0,i.useMultichainSelector)(c.getMultichainConversionRate),g=(0,a.useSelector)((t=>(0,d.getConversionRateByTicker)(t,e.symbol))),{chainId:k,type:y}=e,v=y===o.AssetType.token?n?(0,s.toChecksumHexAddress)(e.address):e.address:(0,r.getNativeTokenAddress)(k);if(y===o.AssetType.native)return n?{currentPrice:g}:{currentPrice:Number(h)};if(n){var T,b,S;const e=null===(T=m[k])||void 0===T||null===(T=T[v])||void 0===T?void 0:T.price,t=null===(S=p[null===(b=m[k])||void 0===b||null===(b=b[v])||void 0===b?void 0:b.currency])||void 0===S?void 0:S.conversionRate;return{currentPrice:t!==undefined&&e!==undefined?t*e:undefined}}const C=null==f||null===(t=f[v])||void 0===t?void 0:t.rate;return{currentPrice:C?parseFloat(C):undefined}}}}},{package:"$root$",file:"ui/pages/asset/hooks/useCurrentPrice.ts"}],[7165,{"../../../../shared/constants/time":5827,"../../../../shared/lib/fetch-with-cache":5874,"../../../../shared/lib/trace":5892,"../../../selectors":7812,"../../../selectors/assets":7805,"../../../selectors/multichain":7819,"../../../store/actions":7835,"../util":7167,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHistoricalPrices=n.DEFAULT_USE_HISTORICAL_PRICES_METADATA=void 0;var r,o=e("react"),a=e("react-redux"),s=e("../../../../shared/constants/time"),i=(r=e("../../../../shared/lib/fetch-with-cache"))&&r.__esModule?r:{default:r},l=e("../../../selectors"),u=e("../../../selectors/assets"),c=e("../../../selectors/multichain"),d=e("../util"),m=e("../../../store/actions"),p=e("../../../../shared/lib/trace");const f=n.DEFAULT_USE_HISTORICAL_PRICES_METADATA={minPricePoint:{x:-Infinity,y:-Infinity},maxPricePoint:{x:Infinity,y:Infinity},xMin:Infinity,xMax:-Infinity,yMin:Infinity,yMax:-Infinity},h=e=>{const t=Math.min(...e.map((e=>e.x))),n=Math.max(...e.map((e=>e.x))),r=Math.min(...e.map((e=>e.y))),o=Math.max(...e.map((e=>e.y)));return{minPricePoint:e.find((e=>e.y===r))??f.minPricePoint,maxPricePoint:e.find((e=>e.y===o))??f.maxPricePoint,xMin:t,xMax:n,yMin:r,yMax:o}};n.useHistoricalPrices=({chainId:e,address:t,currency:n,timeRange:r})=>{const g=(0,a.useSelector)(c.getMultichainIsEvm),k=(({chainId:e,address:t,currency:n,timeRange:r})=>{const u=(0,a.useSelector)(c.getMultichainIsEvm),m=(0,a.useSelector)(l.getShouldShowFiat),[g,k]=(0,o.useState)(!1),[y,v]=(0,o.useState)([]),[T,b]=(0,o.useState)(f);return(0,o.useEffect)((()=>{if(!u)return;if(!m||!(0,d.chainSupportsPricing)(e))return;const o=performance.now(),a=(0,p.trace)({name:p.TraceName.GetAssetHistoricalPrices,startTime:o});(0,p.trace)({name:p.TraceName.GetAssetHistoricalPrices,startTime:o,parentContext:a}),k(!0);const l=(0,d.fromIso8601DurationToPriceApiTimePeriod)(r);(0,i.default)({url:`https://price.api.cx.metamask.io/v1/chains/${e}/historical-prices/${t}?vsCurrency=${n}&timePeriod=${l}`,cacheOptions:{cacheRefreshTime:5*s.MINUTE},functionName:"GetAssetHistoricalPrices",fetchOptions:{headers:{"X-Client-Id":"extension"}}}).catch((()=>({}))).then((e=>{var t;const n=(null==e||null===(t=e.prices)||void 0===t?void 0:t.map((e=>({x:null==e?void 0:e[0],y:null==e?void 0:e[1]}))))??[];v(n)})).finally((()=>{(0,p.endTrace)({name:p.TraceName.GetAssetHistoricalPrices,timestamp:performance.timeOrigin+o}),k(!1)}))}),[u,e,t,n,r,m]),(0,o.useEffect)((()=>{if(!u)return;const e=h(y);b(e)}),[u,y]),{loading:g,data:{prices:y,metadata:T}}})({chainId:e,address:t,currency:n,timeRange:r}),y=(({chainId:e,address:t,currency:n,timeRange:r})=>{const s=(0,a.useSelector)(c.getMultichainIsEvm),[i,l]=(0,o.useState)(!1),[d,p]=(0,o.useState)([]),[g,k]=(0,o.useState)(f),y=(0,a.useSelector)(u.getHistoricalPrices),v=(0,a.useDispatch)();return(0,o.useEffect)((()=>{if(s)return()=>{};const n=async()=>{l(!0);try{await v((0,m.fetchHistoricalPricesForAsset)(t))}catch(n){console.error("Error fetching historical prices for %s on %s",t,e,n)}finally{l(!1)}};n();const r=setInterval(n,6e4);return()=>clearInterval(r)}),[s,e,t,v]),(0,o.useEffect)((()=>{var e;if(s)return;const o=((null==y||null===(e=y[t])||void 0===e||null===(e=e[n])||void 0===e?void 0:e.intervals[r])??[]).map((([e,t])=>({x:e,y:Number(t)})));p(o)}),[s,y,t,n,r]),(0,o.useEffect)((()=>{if(s)return;const e=h(d);k(e)}),[s,d]),{loading:i,data:{prices:d,metadata:g}}})({chainId:e,address:t,currency:n,timeRange:r});return g?k:y}}}},{package:"$root$",file:"ui/pages/asset/hooks/useHistoricalPrices.ts"}],[7166,{"./asset":7150},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./asset"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/pages/asset/index.js"}],[7167,{"@metamask/assets-controllers":1457,"@metamask/utils":2974,luxon:4922},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.localizeLargeNumber=n.loadingOpacity=n.getShortDateFormatterV2=n.getShortDateFormatter=n.getPricePrecision=n.fromIso8601DurationToPriceApiTimePeriod=n.findAssetByAddress=n.chainSupportsPricing=void 0;var r=e("@metamask/assets-controllers"),o=e("@metamask/utils"),a=e("luxon");n.getShortDateFormatter=()=>Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});n.getShortDateFormatterV2=()=>Intl.DateTimeFormat(navigator.language,{year:"numeric",month:"short",day:"numeric"});n.localizeLargeNumber=(e,t)=>t>=1e12?`${(t/1e12).toFixed(2)}${e("trillionAbbreviation")}`:t>=1e9?`${(t/1e9).toFixed(2)}${e("billionAbbreviation")}`:t>=1e6?`${(t/1e6).toFixed(2)}${e("millionAbbreviation")}`:t.toFixed(2);n.getPricePrecision=e=>{if(0===e)return 1;let t=2;for(let n=Math.abs(e);n<1;t++)n*=10;return t};n.chainSupportsPricing=e=>r.SUPPORTED_CHAIN_IDS.includes(e);n.loadingOpacity=.2;n.findAssetByAddress=(e,t,n)=>{if(!n)return console.error("Chain ID is required."),null;const r=e[n];return r?t?r.find((e=>e.address&&e.address.toLowerCase()===t.toLowerCase())):r.find((e=>!e.address)):(console.warn(`No tokens found for chainId: ${n}`),null)};n.fromIso8601DurationToPriceApiTimePeriod=e=>{(0,o.assert)(a.Duration.fromISO(e,{locale:"en"}).isValid,`Invalid ISO 8601 duration: ${e}`);const t={P1D:"1D",P7D:"7D",P1W:"7D",P1M:"1M",P3M:"3M",P1Y:"1Y",P1000Y:"1000Y"}[e];if(!t)throw new Error(`No Price API timePeriod matching the ISO 8601 duration: ${e}`);return t}}}},{package:"$root$",file:"ui/pages/asset/util.ts"}],[7168,{"../../../components/component-library":6474,"../../../contexts/i18n":6943,"../../../helpers/constants/routes":6989,react:5262,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-router-dom"),a=e("../../../helpers/constants/routes"),s=e("../../../components/component-library"),i=e("../../../contexts/i18n");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useContext)(i.I18nContext),t=(0,o.useHistory)();return r.default.createElement(s.Button,{onClick:()=>{t.push(`${a.CROSS_CHAIN_SWAP_ROUTE}${a.PREPARE_SWAP_ROUTE}`)}},e("cancel"))}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures-cancel-button.tsx"}],[7169,{"../../../../shared/constants/metametrics":5810,"../../../components/component-library":6474,"../../../components/ui/pulse-loader":6902,"../../../contexts/metametrics":6947,"../../../ducks/bridge/selectors":6961,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,"../../../selectors/selectors":7827,"lodash/isEqual":4899,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,p.useI18nContext)(),{activeQuote:n}=(0,o.useSelector)(m.getBridgeQuotes,o.shallowEqual),f=null==n||null===(e=n.sentAmount)||void 0===e?void 0:e.amount,h=(0,o.useSelector)(m.getFromToken,a.default),g=(0,o.useSelector)(m.getToToken,a.default),k=(0,o.useSelector)(m.getFromChain,a.default),y=(0,o.useSelector)(m.getToChain,a.default),v=(0,o.useSelector)(s.isHardwareWallet),T=(0,o.useSelector)(s.getHardwareWalletType),b=Boolean(null==n?void 0:n.approval),S=(0,r.useContext)(u.MetaMetricsContext);return(0,r.useEffect)((()=>{var e,t;S({event:"Awaiting Signature(s) on a HW wallet",category:c.MetaMetricsEventCategory.Swaps,properties:{needs_two_confirmations:b,token_from:(null==h?void 0:h.symbol)??"",token_to:(null==g?void 0:g.symbol)??"",is_hardware_wallet:v,hardware_wallet_type:T??""},sensitiveProperties:{token_from_amount:(null==n||null===(e=n.quote)||void 0===e?void 0:e.srcTokenAmount)??"",token_to_amount:(null==n||null===(t=n.quote)||void 0===t?void 0:t.destTokenAmount)??""}})}),[]),r.default.createElement("div",{className:"awaiting-bridge-signatures"},r.default.createElement(d.Box,{paddingLeft:6,paddingRight:6,height:l.BlockSize.Full,justifyContent:l.JustifyContent.center,display:l.Display.Flex,flexDirection:l.FlexDirection.Column},r.default.createElement(d.Box,{marginTop:3,marginBottom:4},r.default.createElement(i.default,null)),!b&&r.default.createElement(d.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.headingMd,as:"h3"},t("swapConfirmWithHwWallet")),b&&r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Text,{variant:l.TextVariant.bodyMdBold,marginTop:2},t("bridgeConfirmTwoTransactions")),r.default.createElement("ul",{className:"awaiting-bridge-signatures__steps"},r.default.createElement("li",null,r.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:l.BackgroundColor.primaryMuted,color:l.TextColor.primaryDefault,marginRight:2},"1"),t("bridgeAllowSwappingOf",[r.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowAmount"},f),r.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowToken"},null==h?void 0:h.symbol),r.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowNetwork"},null==k?void 0:k.name)])),r.default.createElement("li",null,r.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:l.BackgroundColor.primaryMuted,color:l.TextColor.primaryDefault,marginRight:2},"2"),t("bridgeFromTo",[r.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"fromAmount"},f),r.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"fromToken"},null==h?void 0:h.symbol),r.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"toNetwork"},null==y?void 0:y.name)]))),r.default.createElement(d.Text,{variant:l.TextVariant.bodyXs},t("bridgeGasFeesSplit")))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=f(e("lodash/isEqual")),s=e("../../../selectors/selectors"),i=f(e("../../../components/ui/pulse-loader")),l=e("../../../helpers/constants/design-system"),u=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/metametrics"),d=e("../../../components/component-library"),m=e("../../../ducks/bridge/selectors"),p=e("../../../hooks/useI18nContext");function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures.tsx"}],[7170,{"../../../../shared/constants/transaction":5829,"../../../ducks/bridge-status/selectors":6958,"../../../hooks/useTokenFiatAmount":7140,"@metamask/transaction-controller":2925,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeTokenDisplayData=function(e){var t,n;const{primaryTransaction:l}=e,u=(0,r.useSelector)(i.selectBridgeHistoryForAccount),c=l.id?u[l.id]:undefined,d=(0,r.useSelector)((e=>(0,i.selectBridgeHistoryForApprovalTxId)(e,l.id))),m=c??d,p=(0,a.useTokenFiatAmount)((null==m?void 0:m.quote.srcAsset.address)??l.sourceTokenAddress,(null==m||null===(t=m.pricingData)||void 0===t?void 0:t.amountSent)??l.sourceTokenAmount,(null==m?void 0:m.quote.srcAsset.symbol)??l.sourceTokenSymbol,{},!0,l.chainId);return{category:l.type===o.TransactionType.bridge?s.TransactionGroupCategory.bridge:s.TransactionGroupCategory.swap,displayCurrencyAmount:p,sourceTokenSymbol:(null==m?void 0:m.quote.srcAsset.symbol)??l.sourceTokenSymbol,sourceTokenAmountSent:(null==m||null===(n=m.pricingData)||void 0===n?void 0:n.amountSent)??l.sourceTokenAmount,destinationTokenSymbol:(null==m?void 0:m.quote.destAsset.symbol)??l.destinationTokenSymbol}};var r=e("react-redux"),o=e("@metamask/transaction-controller"),a=e("../../../hooks/useTokenFiatAmount"),s=e("../../../../shared/constants/transaction"),i=e("../../../ducks/bridge-status/selectors")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useBridgeTokenDisplayData.ts"}],[7171,{"../../../ducks/bridge/selectors":6961,"../../../selectors":7812,"../../../selectors/multichain":7819,"@metamask/bridge-controller":1483,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDestinationAccount=void 0;var r=e("react-redux"),o=e("react"),a=e("@metamask/bridge-controller"),s=e("../../../selectors"),i=e("../../../ducks/bridge/selectors"),l=e("../../../selectors/multichain");n.useDestinationAccount=e=>{const[t,n]=(0,o.useState)(null),u=(0,r.useSelector)(s.getSelectedEvmInternalAccount),c=(0,r.useSelector)(l.getLastSelectedSolanaAccount),d=(0,r.useSelector)(s.getSelectedInternalAccount),m=(0,r.useSelector)(i.getToChain),p=m&&(0,a.isSolanaChainId)(m.chainId);return(0,o.useEffect)((()=>{n(m?e?d:p?c:u:null)}),[p,c,u,m,d,e]),{selectedDestinationAccount:t,setSelectedDestinationAccount:n}}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useDestinationAccount.ts"}],[7172,{"../../../../app/scripts/lib/multichain/address":153,"../../../../shared/lib/multichain/accounts":5880,"../../../ducks/domains":6965,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useExternalAccountResolution=void 0;var r=e("react"),o=e("react-redux"),a=e("../../../../app/scripts/lib/multichain/address"),s=e("../../../ducks/domains"),i=e("../../../../shared/lib/multichain/accounts");n.useExternalAccountResolution=({searchQuery:e,isDestinationSolana:t,accounts:n})=>{const l=(0,o.useDispatch)(),u=(0,o.useSelector)(s.getDomainResolutions);(0,r.useEffect)((()=>{l((0,s.initializeDomainSlice)())}),[l]);const c=(0,r.useMemo)((()=>{const n=e.trim();return!!n&&(t?(0,i.isSolanaAddress)(n):(0,a.isEthAddress)(n))}),[e,t]),d=(0,r.useMemo)((()=>{if(t)return!1;const n=e.trim();return!!n&&n.endsWith(".eth")}),[e,t]);(0,r.useEffect)((()=>{l(d?(0,s.lookupDomainName)(e.trim()):(0,s.resetDomainResolution)())}),[l,d,e]);const m=(0,r.useMemo)((()=>{const t=u||[];if(!c&&!d)return null;if(d&&t.length>0){const{resolvedAddress:r}=t[0],o=e.trim();return n.some((e=>e.address.toLowerCase()===r.toLowerCase()))?null:{address:r,metadata:{name:o},isExternal:!0}}if(c){const t=e.trim();return n.some((e=>e.address.toLowerCase()===t.toLowerCase()))?null:{address:t,metadata:{name:t},isExternal:!0}}return null}),[n,c,d,e,u]);return{isValidAddress:c,isValidEnsName:d,externalAccount:m}}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useExternalAccountResolution.ts"}],[7173,{"../../../../shared/lib/deep-links/routes/swap":5853,"../../../../shared/modules/selectors/networks":5921,"../../../ducks/bridge/selectors":6961,"../../../selectors/multichain":7819,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsMultichainSwap=void 0;var r=e("react-redux"),o=e("react-router-dom"),a=e("react"),s=e("../../../ducks/bridge/selectors"),i=e("../../../selectors/multichain"),l=e("../../../../shared/modules/selectors/networks"),u=e("../../../../shared/lib/deep-links/routes/swap");n.useIsMultichainSwap=()=>{const{search:e,pathname:t}=(0,o.useLocation)(),n=(0,o.useHistory)(),c=(0,r.useSelector)(i.getMultichainIsSolana),d=(0,r.useSelector)(l.getCurrentChainId),m=(0,r.useSelector)((e=>(0,s.getIsUnifiedUIEnabled)(e,d))),p=(0,r.useSelector)(s.getIsSwap);(0,a.useEffect)((()=>{const r=new URLSearchParams(e),o="true"===r.get(u.BridgeQueryParams.SWAPS);p&&(c||m)&&!o&&(r.set(u.BridgeQueryParams.SWAPS,"true"),n.replace({pathname:t,search:r.toString()}))}),[p,c,m,n,e,t]);return(0,a.useMemo)((()=>"true"===new URLSearchParams(e).get(u.BridgeQueryParams.SWAPS)&&(c||m)),[c,m,e])}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useIsMultichainSwap.tsx"}],[7174,{"../../../../shared/modules/selectors":5920,"../../../ducks/bridge-status/actions":6957,"../../../ducks/bridge/actions":6959,"../../../ducks/bridge/selectors":6961,"../../../helpers/constants/routes":6989,"../../../store/actions":7835,"@metamask/bridge-controller":1483,"@metamask/utils":2974,"@sentry/browser":3091,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useHistory)(),t=(0,r.useDispatch)(),n=(0,r.useSelector)(m.isHardwareWallet),a=(0,r.useSelector)(p.getFromChain),g=(0,r.useSelector)((e=>(0,m.getIsSmartTransaction)(e,null==a?void 0:a.chainId)));return{submitBridgeTransaction:async r=>{n&&e.push(`${l.CROSS_CHAIN_SWAP_ROUTE}${l.AWAITING_SIGNATURES_ROUTE}`);try{if((0,s.isSolanaChainId)(r.quote.srcChainId))return await t((0,u.setDefaultHomeActiveTabName)("activity")),e.push({pathname:l.DEFAULT_ROUTE,state:{stayOnHomePage:!0}}),void await t((0,c.submitBridgeTx)(r,!1));await t(await(0,c.submitBridgeTx)(r,!(0,s.isSolanaChainId)(r.quote.srcChainId)&&g))}catch(r){return f("Bridge transaction failed",r),(0,i.captureException)(r),void(n&&h(r)?(t((0,d.setWasTxDeclined)(!0)),e.push(`${l.CROSS_CHAIN_SWAP_ROUTE}${l.PREPARE_SWAP_ROUTE}`)):(await t((0,u.setDefaultHomeActiveTabName)("activity")),e.push(l.DEFAULT_ROUTE)))}await t((0,u.setDefaultHomeActiveTabName)("activity")),e.push({pathname:l.DEFAULT_ROUTE,state:{stayOnHomePage:!0}})}}},n.isApprovalTxError=n.isAllowanceResetError=void 0;var r=e("react-redux"),o=e("react-router-dom"),a=e("@metamask/utils"),s=e("@metamask/bridge-controller"),i=e("@sentry/browser"),l=e("../../../helpers/constants/routes"),u=e("../../../store/actions"),c=e("../../../ducks/bridge-status/actions"),d=e("../../../ducks/bridge/actions"),m=e("../../../../shared/modules/selectors"),p=e("../../../ducks/bridge/selectors");const f=(0,a.createProjectLogger)("bridge");n.isAllowanceResetError=e=>(e.message??"").includes("Eth USDT allowance reset failed");n.isApprovalTxError=e=>(e.message??"").includes("Approve transaction failed");const h=e=>{var t;const n=(null===(t=e.message)||void 0===t?void 0:t.toLowerCase())??"";return n.includes("ledger")&&(n.includes("rejected")||n.includes("denied")||n.includes("error while signing"))||n.includes("trezor")&&(n.includes("cancelled")||n.includes("rejected"))||n.includes("lattice")&&n.includes("rejected")||n.includes("user rejected")||n.includes("user cancelled")}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useSubmitBridgeTransaction.ts"}],[7175,{"../../../shared/modules/selectors/networks":5921,"../../components/component-library":6474,"../../components/multichain/pages/page":6764,"../../contexts/i18n":6943,"../../ducks/bridge/actions":6959,"../../ducks/swaps/swaps":6980,"../../helpers/constants/design-system":6984,"../../helpers/constants/routes":6989,"../../hooks/bridge/useBridgeExchangeRates":7049,"../../hooks/bridge/useBridging":7052,"../../hooks/bridge/useQuoteFetchEvents":7057,"../../hooks/bridge/useTxAlerts":7061,"../../hooks/useGasFeeEstimates":7106,"../../store/actions":7835,"../swaps/hooks/useSwapsFeatureFlags":7753,"./awaiting-signatures/awaiting-signatures":7169,"./awaiting-signatures/awaiting-signatures-cancel-button":7168,"./hooks/useIsMultichainSwap":7173,"./prepare/bridge-transaction-settings-modal":7182,"./prepare/prepare-bridge-page":7188,"@metamask/bridge-controller":1483,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("react-router-dom"),s=e("@metamask/bridge-controller"),i=e("../../contexts/i18n"),l=e("../../ducks/swaps/swaps"),u=e("../../helpers/constants/routes"),c=e("../../store/actions"),d=e("../../components/component-library"),m=e("../../../shared/modules/selectors/networks"),p=A(e("../../hooks/bridge/useBridging")),f=e("../../components/multichain/pages/page"),h=e("../swaps/hooks/useSwapsFeatureFlags"),g=e("../../ducks/bridge/actions"),k=e("../../hooks/useGasFeeEstimates"),y=e("../../hooks/bridge/useBridgeExchangeRates"),v=e("../../hooks/bridge/useQuoteFetchEvents"),T=e("../../helpers/constants/design-system"),b=e("../../hooks/bridge/useTxAlerts"),S=A(e("./prepare/prepare-bridge-page")),C=A(e("./awaiting-signatures/awaiting-signatures-cancel-button")),w=A(e("./awaiting-signatures/awaiting-signatures")),x=e("./prepare/bridge-transaction-settings-modal"),E=e("./hooks/useIsMultichainSwap");function A(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useContext)(i.I18nContext);(0,h.useSwapsFeatureFlags)(),(0,p.default)();const t=(0,a.useHistory)(),n=(0,o.useDispatch)(),A=(0,o.useSelector)(m.getSelectedNetworkClientId),I=async()=>{await n((0,g.resetBridgeState)())},_=(0,E.useIsMultichainSwap)();(0,r.useEffect)((()=>(n((0,g.trackUnifiedSwapBridgeEvent)(s.UnifiedSwapBridgeEventName.PageViewed,{})),window.addEventListener("beforeunload",I),()=>{window.removeEventListener("beforeunload",I),I()})),[]),(0,k.useGasFeeEstimates)(A),(0,y.useBridgeExchangeRates)(),(0,v.useQuoteFetchEvents)(),(0,b.useTxAlerts)();const[M,P]=(0,r.useState)(!1);return r.default.createElement(f.Page,{className:"bridge__container"},r.default.createElement(f.Header,{textProps:{variant:T.TextVariant.headingSm},startAccessory:r.default.createElement(d.ButtonIcon,{iconName:d.IconName.ArrowLeft,size:d.ButtonIconSize.Sm,ariaLabel:e("back"),onClick:async()=>{await I(),t.push({pathname:u.DEFAULT_ROUTE,state:{stayOnHomePage:!0}}),n((0,l.clearSwapsState)()),await n((0,c.resetBackgroundSwapsState)())}}),endAccessory:r.default.createElement(d.ButtonIcon,{iconName:d.IconName.Setting,size:d.ButtonIconSize.Sm,ariaLabel:e("settings"),onClick:()=>{P(!0)}})},e(_?"swap":"bridge")),r.default.createElement(f.Content,{padding:0},r.default.createElement(a.Switch,null,r.default.createElement(a.Route,{path:u.CROSS_CHAIN_SWAP_ROUTE+u.PREPARE_SWAP_ROUTE},r.default.createElement(x.BridgeTransactionSettingsModal,{isOpen:M,onClose:()=>{P(!1)}}),r.default.createElement(S.default,null)),r.default.createElement(a.Route,{path:u.CROSS_CHAIN_SWAP_ROUTE+u.AWAITING_SIGNATURES_ROUTE},r.default.createElement(f.Content,null,r.default.createElement(w.default,null)),r.default.createElement(f.Footer,null,r.default.createElement(C.default,null))))))}}}},{package:"$root$",file:"ui/pages/bridge/index.tsx"}],[7176,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}n.default=e=>o.default.createElement(a.Container,i({display:s.Display.Flex,flexDirection:s.FlexDirection.Column,width:s.BlockSize.Full},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/column.tsx"}],[7177,{"./column":7176,"./row":7178,"./tooltip":7179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Column",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"Row",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"Tooltip",{enumerable:!0,get:function(){return a.default}});var r=s(e("./column")),o=s(e("./row")),a=s(e("./tooltip"));function s(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/layout/index.tsx"}],[7178,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}n.default=e=>o.default.createElement(a.Container,i({display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,flexWrap:s.FlexWrap.NoWrap,alignItems:s.AlignItems.center},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/row.tsx"}],[7179,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"./column":7176,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=(r=e("./column"))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(null,arguments)}const c=o.default.forwardRef((({children:e,title:t,triggerElement:n,disabled:r=!1,onClose:l,iconName:c,style:d,...m},p)=>{const[f,h]=(0,o.useState)(!1),[g,k]=(0,o.useState)(null),y=()=>h(!1);return o.default.createElement(a.Box,{ref:p},o.default.createElement(a.Box,{ref:e=>k(e),onMouseEnter:()=>h(!0),onMouseLeave:y,display:s.Display.Flex},n??(c&&o.default.createElement(a.Icon,{color:s.IconColor.iconAlternativeSoft,name:c,size:a.IconSize.Sm}))??o.default.createElement(a.Icon,{name:a.IconName.Question,color:s.IconColor.iconAlternativeSoft,size:a.IconSize.Sm})),!r&&o.default.createElement(a.Popover,u({position:a.PopoverPosition.Auto,referenceElement:g,isOpen:f,onClickOutside:y,style:{maxWidth:"240px",backgroundColor:"var(--color-text-default)",paddingInline:"16px",paddingTop:"8px",paddingBottom:"8px",transitionTimingFunction:"linear",display:"inherit",...d},preventOverflow:!0,flip:!0,hasArrow:!0,isPortal:!0},m),o.default.createElement(i.default,{gap:4},t&&o.default.createElement(a.PopoverHeader,{color:s.TextColor.infoInverse,textAlign:s.TextAlign.Center,justifyContent:l?s.JustifyContent.spaceBetween:s.JustifyContent.center,onClose:l,childrenWrapperProps:{style:{whiteSpace:"nowrap"}}},t),o.default.createElement(a.Text,{justifyContent:s.JustifyContent.center,color:s.TextColor.infoInverse},e))))}));n.default=c}}},{package:"$root$",file:"ui/pages/bridge/layout/tooltip.tsx"}],[7180,{"../../../../shared/constants/metametrics":5810,"../../../components/component-library":6474,"../../../ducks/bridge/selectors":6961,"../../../helpers/constants/design-system":6984,"../../../hooks/bridge/events/useRequestMetadataProperties":7045,"../../../hooks/bridge/events/useRequestProperties":7046,"../../../hooks/bridge/events/useTradeProperties":7047,"../../../hooks/bridge/useCrossChainSwapsEventTracker":7054,"../../../hooks/bridge/useIsTxSubmittable":7055,"../../../hooks/useI18nContext":7109,"../hooks/useSubmitBridgeTransaction":7174,"../layout":7177,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeCTAButton=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("react-redux"),s=e("../../../components/component-library"),i=e("../../../ducks/bridge/selectors"),l=e("../../../hooks/useI18nContext"),u=(r=e("../hooks/useSubmitBridgeTransaction"))&&r.__esModule?r:{default:r},c=e("../../../helpers/constants/design-system"),d=e("../../../hooks/bridge/useIsTxSubmittable"),m=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),p=e("../../../hooks/bridge/events/useRequestProperties"),f=e("../../../hooks/bridge/events/useRequestMetadataProperties"),h=e("../../../hooks/bridge/events/useTradeProperties"),g=e("../../../../shared/constants/metametrics"),k=e("../layout");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.BridgeCTAButton=({onFetchNewQuotes:e,needsDestinationAddress:t=!1,nativeAssetBalance:n,srcTokenBalance:r})=>{const y=(0,l.useI18nContext)(),v=(0,a.useSelector)(i.getToToken),T=(0,a.useSelector)(i.getFromAmount),{isLoading:b,activeQuote:S}=(0,a.useSelector)(i.getBridgeQuotes),C=(0,a.useSelector)((e=>(0,i.getIsQuoteExpired)(e,Date.now()))),{submitBridgeTransaction:w}=(0,u.default)(),[x,E]=(0,o.useState)(!1),{isNoQuotesAvailable:A,isInsufficientBalance:I,isInsufficientGasBalance:_,isInsufficientGasForQuote:M,isTxAlertPresent:P}=(0,a.useSelector)(i.getValidationErrors),D=(0,a.useSelector)(i.getWasTxDeclined),N=(0,d.useIsTxSubmittable)(n,r),B=(0,m.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:O}=(0,p.useRequestProperties)(),R=(0,f.useRequestMetadataProperties)(),F=(0,h.useTradeProperties)(),L=I(r),j=_(n),$=M(n),W=(0,o.useMemo)((()=>D?"youDeclinedTheTransaction":C&&!b?"bridgeQuoteExpired":!b||N||S?j||A?undefined:L||$?"alertReasonInsufficientBalance":T?t?"bridgeSelectDestinationAccount":N||P?"submit":"swapSelectToken":v?t?"bridgeEnterAmountAndSelectAccount":"bridgeEnterAmount":t?"bridgeSelectTokenAmountAndAccount":"bridgeSelectTokenAndAmount":undefined),[b,P,T,v,N,L,j,$,D,C,t,S,A]),U=(0,o.useMemo)((()=>D||C?"bridgeFetchNewQuotes":undefined),[D,C]);return S&&!U?o.default.createElement(s.ButtonPrimary,{width:c.BlockSize.Full,size:S?s.ButtonPrimarySize.Md:s.ButtonPrimarySize.Lg,variant:c.TextVariant.bodyMd,"data-testid":"bridge-cta-button",style:{boxShadow:"none"},onClick:async()=>{if(S&&N&&!x)try{E(!0),O&&R&&F&&B({event:g.MetaMetricsEventName.ActionSubmitted,properties:{...O,...R,...F}}),await w(S)}finally{E(!1)}},loading:x,disabled:!N||P||C||x||t},W?y(W):""):o.default.createElement(k.Row,{alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,gap:1},o.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center,color:c.TextColor.textAlternativeSoft},W?y(W):""),U&&o.default.createElement(s.ButtonLink,{as:"a",variant:c.TextVariant.bodyMd,style:{whiteSpace:"nowrap"},onClick:e},y(U)))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-cta-button.tsx"}],[7181,{"../../../../shared/constants/multichain/networks":5812,"../../../../shared/constants/time":5827,"../../../../shared/lib/multichain/networks":5881,"../../../components/component-library":6474,"../../../components/multichain/asset-picker-amount/asset-picker":6609,"../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6604,"../../../ducks/bridge/selectors":6961,"../../../ducks/locale/locale":6970,"../../../ducks/metamask/metamask":6971,"../../../helpers/constants/design-system":6984,"../../../helpers/utils/util":7037,"../../../hooks/useCopyToClipboard":7097,"../../../hooks/useI18nContext":7109,"../../../selectors/multichain":7819,"../hooks/useIsMultichainSwap":7173,"../layout":7177,"../utils/quote":7202,"./components/bridge-asset-picker-button":7183,"@metamask/bridge-controller":1483,"@metamask/etherscan-link":1993,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeInputGroup=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("@metamask/bridge-controller"),s=e("@metamask/etherscan-link"),i=e("../../../components/component-library"),l=e("../../../components/multichain/asset-picker-amount/asset-picker"),u=e("../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),c=e("../../../hooks/useI18nContext"),d=e("../../../ducks/metamask/metamask"),m=e("../utils/quote"),p=e("../layout"),f=e("../../../helpers/constants/design-system"),h=e("../../../ducks/bridge/selectors"),g=e("../../../helpers/utils/util"),k=e("../../../hooks/useCopyToClipboard"),y=e("../../../../shared/constants/time"),v=e("../../../ducks/locale/locale"),T=e("../hooks/useIsMultichainSwap"),b=e("../../../../shared/constants/multichain/networks"),S=e("../../../../shared/lib/multichain/networks"),C=e("../../../selectors/multichain"),w=e("./components/bridge-asset-picker-button");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(null,arguments)}const A=e=>e.replace(/[^\d.]+/gu,"").split(".",2).join(".");n.BridgeInputGroup=({header:e,token:t,onAssetChange:n,onAmountChange:x,networkProps:I,isTokenListLoading:_,customTokenListGenerator:M,amountFieldProps:P,amountInFiat:D,onMaxButtonClick:N,isMultiselectEnabled:B,onBlockExplorerClick:O,buttonProps:R,balanceAmount:F})=>{var L;const j=(0,c.useI18nContext)(),{isLoading:$}=(0,o.useSelector)(h.getBridgeQuotes),{isInsufficientBalance:W,isEstimatedReturnLow:U}=(0,o.useSelector)(h.getValidationErrors),H=(0,o.useSelector)(d.getCurrentCurrency),q=(0,o.useSelector)(v.getIntlLocale),V=(0,o.useSelector)(C.getMultichainCurrentChainId),z=(null==I||null===(L=I.network)||void 0===L?void 0:L.chainId)??V,[,G]=(0,k.useCopyToClipboard)(y.MINUTE),Q=(0,r.useRef)(null),K=(null==P?void 0:P.readOnly)||(null==P?void 0:P.disabled);(0,r.useEffect)((()=>{var e;!K&&Q.current&&(Q.current.value=(null==P||null===(e=P.value)||void 0===e?void 0:e.toString())??"",Q.current.focus())}),[null==P?void 0:P.value,K,t]),(0,r.useEffect)((()=>()=>{Q.current=null}),[]);const Y=(0,T.useIsMultichainSwap)();return r.default.createElement(p.Column,{paddingInline:6,gap:1},r.default.createElement(p.Row,{gap:4},r.default.createElement(i.TextField,E({inputProps:{disableStateStyles:!0,textAlign:f.TextAlign.Start,style:{fontWeight:400,fontSize:Math.max(14,9/Math.max(9,((null==P?void 0:P.value)??"").toString().length)*36),transition:"font-size 0.1s",padding:0}},style:{minWidth:96,maxWidth:190,opacity:K&&null!=P&&P.value?1:undefined},display:f.Display.Flex,inputRef:Q,type:i.TextFieldType.Text,className:"amount-input",placeholder:"0",onKeyPress:e=>{var t;e&&("."===e.key&&null!==(t=P.value)&&void 0!==t&&t.toString().includes(".")?e.preventDefault():/^[\d.]{1}$/u.test(e.key)||e.preventDefault())},onPaste:e=>{e.preventDefault();const t=A(e.clipboardData.getData("text"));null==x||x(t??"")},onChange:e=>{e.preventDefault(),e.stopPropagation();const t=A(e.target.value);null==x||x(t??"")}},P)),r.default.createElement(l.AssetPicker,{header:e,visibleTabs:[u.TabName.TOKENS],asset:t??undefined,onAssetChange:n,networkProps:I,customTokenListGenerator:M,isTokenListLoading:_,isMultiselectEnabled:B},((e,n)=>K&&!t?r.default.createElement(i.Button,{"data-testid":R.testId,onClick:e,size:i.ButtonSize.Lg,paddingLeft:6,paddingRight:6,fontWeight:f.FontWeight.Normal,style:{whiteSpace:"nowrap"}},j(Y?"swapSwapTo":"bridgeTo")):r.default.createElement(w.BridgeAssetPickerButton,{onClick:e,networkImageSrc:n,asset:t??undefined,networkProps:I,"data-testid":R.testId})))),r.default.createElement(p.Row,{justifyContent:f.JustifyContent.spaceBetween,style:{height:24}},r.default.createElement(i.Text,{variant:f.TextVariant.bodyMd,fontWeight:f.FontWeight.Normal,color:K&&U?f.TextColor.warningDefault:f.TextColor.textAlternativeSoft,textAlign:f.TextAlign.End,ellipsis:!0},K&&$&&"0"===P.value?j("bridgeCalculatingAmount"):undefined,D&&(0,m.formatCurrencyAmount)(D,H,2)),!K&&F&&t&&r.default.createElement(i.Text,{display:f.Display.Flex,gap:1,variant:f.TextVariant.bodyMd,color:W(F)?f.TextColor.errorDefault:f.TextColor.textAlternativeSoft,style:{cursor:"default",textDecoration:"none"}},(0,m.formatTokenAmount)(q,F.toString(),t.symbol),N&&r.default.createElement(i.ButtonLink,{variant:f.TextVariant.bodyMd,onClick:()=>N(F.toFixed())},j("max"))),K&&t&&z&&!(0,a.isNativeAddress)(t.address)&&r.default.createElement(i.Text,{display:f.Display.Flex,gap:1,variant:f.TextVariant.bodyMd,color:f.TextColor.textAlternativeSoft,onClick:()=>{(()=>{if(t&&z){const r=(0,a.formatChainIdToCaip)(z);let o="";if(r===b.MultichainNetworks.SOLANA){const e=b.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[r];e&&(o=(0,S.formatBlockExplorerAddressUrl)(e,t.address))}else{var e,n;const r=null==I||null===(e=I.network)||void 0===e||null===(e=e.blockExplorerUrls)||void 0===e?void 0:e[(null==I||null===(n=I.network)||void 0===n?void 0:n.defaultBlockExplorerUrlIndex)??0];r&&(o=(0,s.getAccountLink)(t.address,z,{blockExplorerUrl:r},undefined))}o&&(G(o),null==O||O(t))}})()},as:"a",style:{cursor:K?"pointer":"default",textDecoration:K?"underline":"none"}},(0,g.shortenString)(t.address,{truncatedCharLimit:11,truncatedStartChars:4,truncatedEndChars:4,skipCharacterInEnd:!1}))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-input-group.tsx"}],[7182,{"../../../../shared/constants/metametrics":5810,"../../../components/component-library":6474,"../../../ducks/bridge/actions":6959,"../../../ducks/bridge/selectors":6961,"../../../helpers/constants/design-system":6984,"../../../hooks/bridge/useCrossChainSwapsEventTracker":7054,"../../../hooks/useI18nContext":7109,"../layout":7177,"@metamask/bridge-controller":1483,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeTransactionSettingsModal=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("@metamask/bridge-controller"),s=e("../../../components/component-library"),i=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system"),u=e("../../../ducks/bridge/selectors"),c=e("../../../ducks/bridge/actions"),d=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),m=e("../../../../shared/constants/metametrics"),p=e("../layout");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const h=[a.BRIDGE_DEFAULT_SLIPPAGE,3];n.BridgeTransactionSettingsModal=({onClose:e,isOpen:t})=>{const n=(0,i.useI18nContext)(),f=(0,d.useCrossChainSwapsEventTracker)(),g=(0,o.useDispatch)(),k=(0,o.useSelector)(u.getIsSolanaSwap),y=(0,o.useSelector)(u.getSlippage),v=k,[T,b]=(0,r.useState)(undefined),[S,C]=(0,r.useState)(undefined),[w,x]=(0,r.useState)(!0),[E,A]=(0,r.useState)(!1);(0,r.useEffect)((()=>{t&&(v&&y===undefined?(A(!0),b(undefined),C(undefined)):(A(!1),y&&h.includes(y)?(b(y),C(undefined)):y?(b(undefined),C(y.toString())):(b(a.BRIDGE_DEFAULT_SLIPPAGE),C(undefined))))}),[y,v,t]);const I=(()=>{if(!S)return null;const e=Number(S.replace(",","."));return e<.5?{severity:l.SEVERITIES.WARNING,text:n("swapSlippageLowDescription",[e]),title:n("swapSlippageLowTitle")}:null})();return r.default.createElement(s.Modal,{isOpen:t,onClose:e,className:"bridge-settings-modal"},r.default.createElement(s.ModalOverlay,null),r.default.createElement(s.ModalContent,null,r.default.createElement(s.ModalHeader,{onClose:e},n("transactionSettings")),r.default.createElement(p.Column,{gap:3,padding:4},r.default.createElement(p.Row,{gap:1,justifyContent:l.JustifyContent.flexStart},r.default.createElement(s.Text,null,n("swapsMaxSlippage")),r.default.createElement(p.Tooltip,{position:s.PopoverPosition.Top,iconName:s.IconName.Info,style:{zIndex:1051}},n("swapSlippageTooltip"))),r.default.createElement(p.Row,{gap:2,justifyContent:l.JustifyContent.flexStart},v&&r.default.createElement(s.Button,{size:s.ButtonSize.Sm,onClick:e=>{e.preventDefault(),e.stopPropagation(),b(undefined),C(undefined),A(!0)},variant:s.ButtonVariant.Secondary,borderColor:E?l.BorderColor.primaryDefault:l.BorderColor.borderDefault,borderWidth:E?2:1,backgroundColor:E?l.BackgroundColor.primaryMuted:l.BackgroundColor.backgroundDefault},r.default.createElement(s.Text,{color:E?l.TextColor.primaryDefault:l.TextColor.textDefault},n("swapSlippageAutoDescription"))),h.map((e=>{const t=!E&&T===e;return r.default.createElement(s.Button,{key:e,size:s.ButtonSize.Sm,onClick:t=>{t.preventDefault(),t.stopPropagation(),b(e),C(undefined),A(!1)},variant:s.ButtonVariant.Secondary,borderColor:t?l.BorderColor.primaryDefault:l.BorderColor.borderDefault,borderWidth:t?2:1,backgroundColor:t?l.BackgroundColor.primaryMuted:l.BackgroundColor.backgroundDefault},r.default.createElement(s.Text,{color:t?l.TextColor.primaryDefault:l.TextColor.textDefault},e,"%"))})),w&&r.default.createElement(s.Button,{size:s.ButtonSize.Sm,variant:s.ButtonVariant.Secondary,borderColor:S===undefined?l.BorderColor.borderDefault:l.BorderColor.primaryDefault,borderWidth:S===undefined?1:2,backgroundColor:S===undefined?l.BackgroundColor.backgroundDefault:l.BackgroundColor.primaryMuted,onClick:e=>{e.preventDefault(),e.stopPropagation(),x(!1),A(!1)}},r.default.createElement(s.Text,{color:S===undefined?l.TextColor.textDefault:l.TextColor.primaryDefault},S===undefined?n("customSlippage"):`${S}%`)),!w&&r.default.createElement(s.TextField,{borderColor:l.BorderColor.primaryDefault,borderWidth:2,borderRadius:l.BorderRadius.pill,type:s.TextFieldType.Text,value:S,onChange:e=>{const{value:t}=e.target;(""===t||/^\d*[.,]?\d*$/u.test(t))&&(b(undefined),C(t),A(!1))},autoFocus:!0,onBlur:()=>{x(!0)},onFocus:()=>{x(!1)},endAccessory:r.default.createElement(s.Text,{variant:l.TextVariant.bodyMd},"%")})),I&&r.default.createElement(s.Box,{marginTop:5},r.default.createElement(s.BannerAlert,{severity:I.severity,title:I.title,titleProps:{"data-testid":"swaps-banner-title"}},r.default.createElement(s.Text,null,I.text)))),r.default.createElement(s.ModalFooter,null,r.default.createElement(s.ButtonPrimary,{width:l.BlockSize.Full,size:s.ButtonPrimarySize.Md,variant:l.TextVariant.bodyMd,disabled:(E?undefined:T??(S?Number(S.replace(",",".")):undefined))===y,onClick:()=>{const t=E?undefined:T??Number(null==S?void 0:S.replace(",","."));t!==y&&(f({event:m.MetaMetricsEventName.InputChanged,properties:{input:"slippage",value:(null==t?void 0:t.toString())??"auto"}}),g((0,c.setSlippage)(t)),e())}},n("submit")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-transaction-settings-modal.tsx"}],[7183,{"../../../../components/component-library":6474,"../../../../components/component-library/select-button/select-button.types":6511,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/nfts":7023,"../../../../hooks/useI18nContext":7109,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeAssetPickerButton=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("../../../../components/component-library/select-button/select-button.types"),s=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),u=e("../../../../helpers/utils/nfts");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}n.BridgeAssetPickerButton=({asset:e,networkProps:t,networkImageSrc:n,...r})=>{var d;const m=(0,l.useI18nContext)();return o.default.createElement(s.SelectButton,c({borderRadius:i.BorderRadius.pill,backgroundColor:i.BackgroundColor.backgroundDefault,borderColor:i.BorderColor.borderMuted,style:{padding:8,paddingRight:11,paddingInline:e?undefined:24,minWidth:"fit-content"},gap:0,size:a.SelectButtonSize.Lg,alignItems:i.AlignItems.center,descriptionProps:{variant:i.TextVariant.bodyMd,overflowWrap:i.OverflowWrap.BreakWord,ellipsis:!1},caretIconProps:{name:s.IconName.Arrow2Down,style:{display:i.Display.None}},label:o.default.createElement(s.Text,{variant:i.TextVariant.bodyLgMedium,ellipsis:!0},(null==e?void 0:e.symbol)??m("bridgeTo")),startAccessory:e?o.default.createElement(s.BadgeWrapper,{marginRight:2,badge:e?o.default.createElement(s.AvatarNetwork,{name:(null==t||null===(d=t.network)||void 0===d?void 0:d.name)??"",src:n,size:s.AvatarNetworkSize.Xs}):undefined},e?o.default.createElement(s.AvatarToken,{src:(0,u.getNftImage)(e.image)||undefined,backgroundColor:i.BackgroundColor.backgroundHover,name:e.symbol}):undefined):undefined},r))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/bridge-asset-picker-button.tsx"}],[7184,{"../../../../../app/scripts/lib/multichain/address":153,"../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":6390,"../../../../components/component-library":6474,"../../../../helpers/constants/common":6982,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/util":7037,"../../../../hooks/useAccountTotalCrossChainFiatBalance":7088,"../../../../hooks/useGetFormattedTokensPerChain":7108,"../../../../hooks/useMultichainAccountTotalFiatBalance":7115,"../../../../hooks/useMultichainSelector":7117,"../../../../selectors":7812,"../../../../selectors/multichain":7819,classnames:4139,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=y(e("react")),o=y(e("classnames")),a=e("react-redux"),s=e("../../../../helpers/utils/util"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../selectors"),c=e("../../../../../app/scripts/lib/multichain/address"),d=e("../../../../hooks/useMultichainAccountTotalFiatBalance"),m=e("../../../../hooks/useGetFormattedTokensPerChain"),p=e("../../../../hooks/useAccountTotalCrossChainFiatBalance"),f=y(e("../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),h=e("../../../../helpers/constants/common"),g=e("../../../../hooks/useMultichainSelector"),k=e("../../../../selectors/multichain");function y(e){return e&&e.__esModule?e:{default:e}}const v=({account:e,selected:t,onClick:n})=>{const y=(0,a.useSelector)(u.getUseBlockie),v=(0,a.useSelector)(u.getShouldHideZeroBalanceTokens),T=(0,a.useSelector)(u.getIsTokenNetworkFilterEqualCurrentNetwork),b=(0,a.useSelector)(u.getChainIdsToPoll),{isEvmNetwork:S}=(0,g.useMultichainSelector)(k.getMultichainNetwork,e),C=(0,g.useMultichainSelector)(k.getMultichainIsTestnet,e),w=!C,x=(0,g.useMultichainSelector)(k.getMultichainShouldShowFiat,e),E=(0,a.useSelector)(u.getShowFiatInTestnets),A=x&&(w||C&&E),I=(0,g.useMultichainSelector)(k.getMultichainNativeCurrencyImage,e),_=(0,g.useMultichainSelector)(k.getMultichainNativeCurrency,e),M=(0,d.useMultichainAccountTotalFiatBalance)(e),{formattedTokensWithBalancesPerChain:P}=(0,m.useGetFormattedTokensPerChain)(e,v,T,b),{totalFiatBalance:D}=(0,p.useAccountTotalCrossChainFiatBalance)(e,P);let N;return N=S?!x||C?e.balance:D:M.totalBalance,r.default.createElement(i.Box,{display:l.Display.Flex,padding:4,backgroundColor:t?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,className:(0,o.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t}),onClick:n,alignItems:l.AlignItems.center},r.default.createElement(i.AvatarAccount,{borderColor:l.BorderColor.transparent,size:i.AvatarAccountSize.Md,address:e.address,variant:y?i.AvatarAccountVariant.Blockies:i.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),r.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{flex:1}},r.default.createElement(i.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween,gap:2,style:{width:"100%"}},r.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,style:{minWidth:0,flex:"1 1 auto",overflow:"hidden"}},r.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium,ellipsis:!0,style:{maxWidth:"200px"}},e.metadata.name)),r.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.flexEnd,gap:1,style:{minWidth:"fit-content",flexShrink:0}},r.default.createElement(i.Text,{as:"div",display:l.Display.Flex,flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.flexEnd,textAlign:l.TextAlign.End,style:{whiteSpace:"nowrap"}},r.default.createElement(f.default,{ethNumberOfDecimals:3,value:N,type:h.PRIMARY,showFiat:A,isAggregatedFiatOverviewBalance:A,hideLabel:!0,"data-testid":"first-currency-display"})))),r.default.createElement(i.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center},r.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,"data-testid":"account-list-address"},(0,s.shortenAddress)((0,c.normalizeSafeAddress)(e.address))),r.default.createElement(i.Box,{display:l.Display.Flex,gap:2},r.default.createElement(i.AvatarToken,{src:I,name:_,size:i.AvatarTokenSize.Xs,borderColor:l.BorderColor.borderDefault})))))};n.default=r.default.memo(v)}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-account-list-item.tsx"}],[7185,{"../../../../../shared/lib/translate":5897,"../../../../components/component-library":6474,"../../../../helpers/constants/design-system":6984,"../../../../selectors":7812,"../../hooks/useExternalAccountResolution":7172,"./destination-account-list-item":7184,"./destination-selected-account-list-item":7186,"./external-account-list-item":7187,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DestinationAccountPicker=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("../../../../components/component-library"),s=e("../../../../selectors"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../../shared/lib/translate"),u=e("../../hooks/useExternalAccountResolution"),c=p(e("./destination-selected-account-list-item")),d=p(e("./destination-account-list-item")),m=e("./external-account-list-item");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.DestinationAccountPicker=({onAccountSelect:e,selectedSwapToAccount:t,isDestinationSolana:n})=>{const[p,f]=(0,r.useState)(""),h=(0,o.useSelector)(s.getSelectedInternalAccount),g=(0,o.useSelector)(s.getInternalAccounts),{externalAccount:k}=(0,u.useExternalAccountResolution)({searchQuery:p,isDestinationSolana:n,accounts:g}),y=(0,r.useMemo)((()=>g.filter((e=>{const t=e.metadata.name.toLowerCase().includes(p.toLowerCase()),r=e.address.toLowerCase().includes(p.toLowerCase()),o=t||r,a=n?(0,s.isSolanaAccount)(e):!(0,s.isSolanaAccount)(e);return o&&a}))),[g,n,p]);return t?r.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full,className:"swap-to-account-picker",backgroundColor:i.BackgroundColor.backgroundDefault,style:{height:"70px",borderRadius:"8px",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},r.default.createElement(a.Box,{className:"destination-account-picker__selected",width:i.BlockSize.Full,style:{flex:1,minWidth:0}},r.default.createElement(c.default,{account:t,isSelected:t.id===(null==h?void 0:h.id),showOptions:!1,disableHover:!0})),r.default.createElement(a.Box,{className:"deselect-button-container",paddingRight:5},r.default.createElement(a.Button,{onClick:()=>e(null),"aria-label":"Deselect account",variant:a.ButtonVariant.Link,size:a.ButtonSize.Sm,className:"deselect-button",style:{padding:"5px",color:"var(--color-icon-alternative)",textDecoration:"none"}},"✕"))):r.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,className:"destination-account-picker",backgroundColor:i.BackgroundColor.backgroundDefault,style:{borderRadius:"8px",position:"relative"}},r.default.createElement(a.Box,{className:"search-container",width:i.BlockSize.Full,display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,backgroundColor:i.BackgroundColor.backgroundDefault,style:{height:"50px",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"#B7BBC866",borderRadius:"8px 8px 0 0",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},r.default.createElement(a.TextField,{placeholder:n?(0,l.t)("destinationAccountPickerSearchPlaceholderToSolana"):(0,l.t)("destinationAccountPickerSearchPlaceholderToMainnet"),value:p,onChange:e=>f(e.target.value),clearButtonOnClick:()=>f(""),className:"text-field-search",style:{width:"98%",borderRadius:0,borderWidth:0,color:"var(--color-text-alternative)"}})),r.default.createElement(a.Box,{style:{height:"20px"}}),r.default.createElement(a.Box,{className:"destination-account-picker__list",backgroundColor:i.BackgroundColor.backgroundDefault,style:{position:"absolute",top:"50px",left:0,right:0,maxHeight:"240px",overflowY:"auto",borderRadius:"0 0 8px 8px",zIndex:1e3,boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},y.map((n=>r.default.createElement(d.default,{key:n.id,account:n,onClick:()=>e(n),isSelected:n.id===(null==t?void 0:t.id),showOptions:!1}))),k&&r.default.createElement(m.ExternalAccountListItem,{key:"external-account",account:k,selected:Boolean(t&&t.address===k.address),onClick:()=>e(k)}),0===y.length&&!k&&r.default.createElement(a.Box,{display:i.Display.Flex,style:{minHeight:"79px"},width:i.BlockSize.Full,height:i.BlockSize.Full,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},r.default.createElement(a.Text,{textAlign:i.TextAlign.Center},p?(0,l.t)("destinationAccountPickerNoMatching"):(0,l.t)("destinationAccountPickerNoEligible")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-account-picker.tsx"}],[7186,{"../../../../components/component-library":6474,"../../../../helpers/constants/design-system":6984,"../../../../hooks/useI18nContext":7109,"../../../../selectors":7812,classnames:4139,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=c(e("react")),o=c(e("classnames")),a=e("react-redux"),s=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../selectors"),u=e("../../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}const d=({account:e,selected:t,onClick:n})=>{const c=(0,a.useSelector)(l.getUseBlockie),d=(0,u.useI18nContext)(),m="isExternal"in e&&e.isExternal;return r.default.createElement(s.Box,{display:i.Display.Flex,padding:4,backgroundColor:t?i.BackgroundColor.primaryMuted:i.BackgroundColor.transparent,className:(0,o.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t}),onClick:n,alignItems:i.AlignItems.center,style:{pointerEvents:"none"}},r.default.createElement(s.AvatarAccount,{borderColor:i.BorderColor.transparent,size:s.AvatarAccountSize.Md,address:e.address,variant:c?s.AvatarAccountVariant.Blockies:s.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),r.default.createElement(s.Box,{display:i.Display.Flex,style:{flexDirection:"column",maxWidth:"calc(100% - 60px)"}},r.default.createElement(s.Text,{variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative,"data-testid":"account-list-address",marginBottom:1},d("destinationAccountPickerReceiveAt")),r.default.createElement(s.Text,{variant:i.TextVariant.bodyMdMedium,marginBottom:1,ellipsis:!0},m?e.metadata.name.endsWith(".eth")?e.metadata.name:d("externalAccount"):e.metadata.name)))};n.default=r.default.memo(d)}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-selected-account-list-item.tsx"}],[7187,{"../../../../../app/scripts/lib/multichain/address":153,"../../../../components/component-library":6474,"../../../../helpers/constants/design-system":6984,"../../../../helpers/utils/util":7037,"../../../../hooks/useI18nContext":7109,"../../../../selectors":7812,classnames:4139,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExternalAccountListItem=void 0;var r=m(e("react")),o=m(e("classnames")),a=e("react-redux"),s=e("../../../../helpers/utils/util"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../selectors"),c=e("../../../../../app/scripts/lib/multichain/address"),d=e("../../../../hooks/useI18nContext");function m(e){return e&&e.__esModule?e:{default:e}}n.ExternalAccountListItem=({account:e,selected:t,onClick:n})=>{const m=(0,a.useSelector)(u.getUseBlockie),p=(0,d.useI18nContext)(),f=e.metadata.name.endsWith(".eth");return r.default.createElement(i.Box,{display:l.Display.Flex,padding:4,backgroundColor:l.BackgroundColor.transparent,className:(0,o.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t}),onClick:n,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween},r.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},r.default.createElement(i.AvatarAccount,{borderColor:l.BorderColor.transparent,size:i.AvatarAccountSize.Md,address:e.address,variant:m?i.AvatarAccountVariant.Blockies:i.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),r.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{maxWidth:"140px",overflow:"hidden"}},r.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium,marginBottom:1,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},f?e.metadata.name:p("externalAccount")),r.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,"data-testid":"account-list-address",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},(0,s.shortenAddress)((0,c.normalizeSafeAddress)(e.address))))),f&&r.default.createElement(i.Tag,{label:p("externalAccount"),paddingLeft:2,paddingRight:2,labelProps:{variant:l.TextVariant.bodyXs}}))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/external-account-list-item.tsx"}],[7188,{"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/network":5813,"../../../../shared/constants/time":5827,"../../../../shared/lib/asset-utils":5838,"../../../../shared/lib/swaps-utils":5889,"../../../../shared/lib/trace":5892,"../../../../shared/modules/selectors":5920,"../../../../shared/types/security-alerts-api":5929,"../../../components/component-library":6474,"../../../components/multichain":6670,"../../../components/multichain/pages/page":6764,"../../../ducks/bridge/actions":6959,"../../../ducks/bridge/selectors":6961,"../../../ducks/bridge/utils":6962,"../../../ducks/locale/locale":6970,"../../../helpers/constants/design-system":6984,"../../../helpers/utils/hardware":7015,"../../../hooks/bridge/events/useRequestProperties":7046,"../../../hooks/bridge/useBridgeQueryParams":7050,"../../../hooks/bridge/useCountdownTimer":7053,"../../../hooks/bridge/useCrossChainSwapsEventTracker":7054,"../../../hooks/bridge/useIsTxSubmittable":7055,"../../../hooks/bridge/useLatestBalance":7056,"../../../hooks/bridge/useTokenAlerts":7059,"../../../hooks/bridge/useTokensWithFiltering":7060,"../../../hooks/ramps/useRamps/useRamps":7079,"../../../hooks/useI18nContext":7109,"../../../hooks/useMultichainSelector":7117,"../../../selectors":7812,"../../../selectors/multichain":7819,"../../../store/actions":7835,"../../swaps/mascot-background-animation/mascot-background-animation":7762,"../hooks/useDestinationAccount":7171,"../hooks/useIsMultichainSwap":7173,"../layout":7177,"../quotes/bridge-quote-card":7189,"../quotes/multichain-bridge-quote-card":7191,"../utils/quote":7202,"./bridge-cta-button":7180,"./bridge-input-group":7181,"./components/destination-account-picker":7185,"@metamask/bridge-controller":1483,"@metamask/utils":2974,classnames:4139,"ethereumjs-util":4363,lodash:4912,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEnableMissingNetwork=n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=X(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=J(e("classnames")),s=e("lodash"),i=e("ethereumjs-util"),l=e("@metamask/bridge-controller"),u=e("@metamask/utils"),c=e("../../../ducks/bridge/actions"),d=e("../../../ducks/bridge/selectors"),m=e("../../../components/component-library"),p=e("../../../helpers/constants/design-system"),f=e("../../../hooks/useI18nContext"),h=e("../../../hooks/bridge/useTokensWithFiltering"),g=e("../../../store/actions"),k=e("../../../../shared/lib/swaps-utils"),y=e("../utils/quote"),v=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),T=e("../../../hooks/bridge/events/useRequestProperties"),b=e("../../../../shared/constants/metametrics"),S=e("../../../ducks/bridge/utils"),C=e("../../../components/multichain/pages/page"),w=J(e("../../swaps/mascot-background-animation/mascot-background-animation")),x=e("../layout"),E=J(e("../../../hooks/ramps/useRamps/useRamps")),A=J(e("../../../hooks/bridge/useLatestBalance")),I=e("../../../hooks/bridge/useCountdownTimer"),_=e("../../../selectors"),M=e("../../../helpers/utils/hardware"),P=e("../../../../shared/constants/time"),D=e("../../../ducks/locale/locale"),N=e("../hooks/useIsMultichainSwap"),B=e("../../../hooks/useMultichainSelector"),O=e("../../../selectors/multichain"),R=e("../quotes/multichain-bridge-quote-card"),F=e("../quotes/bridge-quote-card"),L=e("../../../../shared/types/security-alerts-api"),j=e("../../../hooks/bridge/useTokenAlerts"),$=e("../hooks/useDestinationAccount"),W=e("../../../components/multichain"),U=e("../../../hooks/bridge/useIsTxSubmittable"),H=e("../../../../shared/lib/asset-utils"),q=e("../../../../shared/modules/selectors"),V=e("../../../../shared/lib/trace"),z=e("../../../../shared/constants/network"),G=e("../../../hooks/bridge/useBridgeQueryParams"),Q=e("./bridge-input-group"),K=e("./bridge-cta-button"),Y=e("./components/destination-account-picker");function J(e){return e&&e.__esModule?e:{default:e}}function X(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(X=function(e){return e?n:t})(e)}const Z=()=>{const e=(0,o.useSelector)(_.getEnabledNetworksByNamespace),t=(0,o.useDispatch)();return(0,r.useCallback)((n=>{const r=Object.keys(e??{}),o=(0,l.formatChainIdToCaip)(n),{namespace:a}=(0,u.parseCaipChainId)(o);if(a){if(z.FEATURED_NETWORK_CHAIN_IDS.includes(n)){if(!r.includes(n)){const e=[n,...r.filter((e=>z.FEATURED_NETWORK_CHAIN_IDS.includes(e)))];t((0,g.setEnabledNetworks)(e,a))}}}}),[t,e])};n.useEnableMissingNetwork=Z;n.default=()=>{var e,t,n,u,g;const z=(0,o.useDispatch)(),J=Z(),X=(0,f.useI18nContext)(),ee=(0,o.useSelector)(d.getFromChain),te=(0,o.useSelector)((e=>(0,d.getIsUnifiedUIEnabled)(e,null==ee?void 0:ee.chainId))),ne=(0,o.useSelector)(d.getIsSwap),re=(0,N.useIsMultichainSwap)(),oe=te?ne:re,ae=(0,o.useSelector)(d.getFromToken),se=(0,o.useSelector)(_.getTokenList),ie=(0,o.useSelector)(d.getToToken),le=(0,o.useSelector)(d.getFromChains),ue=(0,o.useSelector)(d.getToChains),ce=(0,o.useSelector)(d.getToChain),de=(0,r.useMemo)((()=>(!ee||!(0,l.isSolanaChainId)(ee.chainId))&&0===Object.keys(se).length),[se,ee]),me=(0,o.useSelector)(d.getFromAmount),pe=(0,o.useSelector)(d.getFromAmountInCurrency),fe=(0,o.useSelector)((e=>(0,q.getIsSmartTransaction)(e,null==ee?void 0:ee.chainId))),he=(0,B.useMultichainSelector)(O.getMultichainProviderConfig),ge=(0,o.useSelector)(d.getSlippage),ke=(0,o.useSelector)(d.getQuoteRequest),{isLoading:ye,activeQuote:ve,isQuoteGoingToRefresh:Te,quotesRefreshCount:be}=(0,o.useSelector)(d.getBridgeQuotes),Se=(0,o.useSelector)(d.getQuoteRefreshRate),Ce=(0,o.useSelector)((e=>(0,d.getIsQuoteExpired)(e,Date.now()))),we=(0,o.useSelector)(d.getWasTxDeclined),xe=(0,y.isQuoteExpiredOrInvalid)({activeQuote:ve,toToken:ie,toChain:ce,fromChain:ee,isQuoteExpired:Ce,insufficientBal:ke.insufficientBal})?undefined:ve,Ee=(0,B.useMultichainSelector)(O.getMultichainIsEvm),Ae=(0,o.useSelector)(_.getSelectedEvmInternalAccount),Ie=(0,o.useSelector)(O.getLastSelectedNonEvmAccount),_e=(0,B.useMultichainSelector)(_.getSelectedInternalAccount),Me=Ee?Ae:_e,Pe=(0,o.useSelector)(_.getCurrentKeyring),De=(0,M.isHardwareKeyring)(null==Pe?void 0:Pe.type),Ne=(0,o.useSelector)(d.getHardwareWalletName),Be=(0,U.useIsTxSubmittable)(),Oe=(0,o.useSelector)(D.getIntlLocale),Re=(0,B.useMultichainSelector)(O.getMultichainNativeCurrency),{isEstimatedReturnLow:Fe,isNoQuotesAvailable:Le,isInsufficientGasForQuote:je,isInsufficientBalance:$e}=(0,o.useSelector)(d.getValidationErrors),We=(0,o.useSelector)(d.getTxAlerts),{openBuyCryptoInPdapp:Ue}=(0,E.default)(),He=(0,r.useMemo)((()=>null!=ee&&ee.chainId?(0,l.getNativeAssetForChainId)(ee.chainId):null),[null==ee?void 0:ee.chainId]),qe=(0,A.default)(He),{tokenAlert:Ve}=(0,j.useTokenAlerts)(),ze=(0,A.default)(ae),{selectedDestinationAccount:Ge,setSelectedDestinationAccount:Qe}=(0,$.useDestinationAccount)(oe),{filteredTokenListGenerator:Ke,isLoading:Ye}=(0,h.useTokensWithFiltering)((null==ce?void 0:ce.chainId)??(null==ee?void 0:ee.chainId),(null==ee?void 0:ee.chainId)===(null==ce?void 0:ce.chainId)&&ae&&ee?(()=>{let e="";if((0,l.isNativeAddress)(ae.address))e="";else if((0,l.isSolanaChainId)(ee.chainId))e=ae.address||"";else{var t;e=(null===(t=ae.address)||void 0===t?void 0:t.toLowerCase())||""}return{...ae,address:e,chainId:(0,l.formatChainIdToCaip)(ee.chainId)}})():null,Ge&&"id"in Ge?Ge.id:undefined),{flippedRequestProperties:Je}=(0,T.useRequestProperties)(),Xe=(0,v.useCrossChainSwapsEventTracker)(),Ze=(0,I.useCountdownTimer)(),[et,tt]=(0,r.useState)(!1),[nt,rt]=(0,r.useState)(!0);(0,r.useEffect)((()=>rt(!0)),[be]);const[ot,at]=(0,r.useState)(!0);(0,r.useEffect)((()=>at(!0)),[Ve]);const[st,it]=(0,r.useState)(!0);(0,r.useEffect)((()=>it(!0)),[null==ie?void 0:ie.address]);const[lt,ut]=(0,r.useState)(!1);(0,r.useEffect)((()=>{ut(!0);const e=setTimeout((()=>{ut(!1)}),P.SECOND);return()=>{clearTimeout(e)}}),[et]);const ct=(0,r.useRef)(null),dt=(0,r.useRef)(null),mt=(0,r.useRef)(null);(0,r.useEffect)((()=>{var e,t;je(qe)&&(null===(e=ct.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}));Fe&&(null===(t=dt.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start"}))}),[Fe,qe,je,nt]);const pt=(0,o.useSelector)(d.getIsToOrFromSolana),ft=(0,o.useSelector)(d.getIsSolanaSwap),ht=(0,r.useMemo)((()=>!(null==ce||!ce.chainId)&&(0,l.isSolanaChainId)(ce.chainId)),[null==ce?void 0:ce.chainId]),gt=(0,r.useMemo)((()=>{var e;return{srcTokenAddress:null==ae?void 0:ae.address,destTokenAddress:null==ie?void 0:ie.address,srcTokenAmount:me&&null!=ae&&ae.decimals?(0,k.calcTokenValue)(["","."].includes(me)?"0":me,ae.decimals).toFixed().split(".")[0]:undefined,srcChainId:null==ee?void 0:ee.chainId,destChainId:null==ce?void 0:ce.chainId,insufficientBal:!(null==he||null===(e=he.rpcUrl)||void 0===e||!e.includes("localhost"))||undefined,slippage:ge,walletAddress:(null==Me?void 0:Me.address)??"",destWalletAddress:null==Ge?void 0:Ge.address,gasIncluded:fe&&oe}}),[null==ae?void 0:ae.address,null==ae?void 0:ae.decimals,null==ie?void 0:ie.address,me,null==ee?void 0:ee.chainId,null==ce?void 0:ce.chainId,ge,null==Me?void 0:Me.address,null==Ge?void 0:Ge.address,null==he?void 0:he.rpcUrl,fe,oe]),kt=(0,r.useCallback)((0,s.debounce)(((...e)=>{z((0,c.updateQuoteRequestParams)(...e))}),300),[z]);(0,r.useEffect)((()=>(Xe({event:b.MetaMetricsEventName.ActionPageViewed,properties:{chain_id_source:(0,l.formatChainIdToCaip)((null==ee?void 0:ee.chainId)??""),token_symbol_source:(null==ae?void 0:ae.symbol)??"",token_address_source:(null==ae?void 0:ae.address)??"",chain_id_destination:(0,l.formatChainIdToCaip)((null==ce?void 0:ce.chainId)??""),token_symbol_destination:(null==ie?void 0:ie.symbol)??"",token_address_destination:(null==ie?void 0:ie.address)??""}}),()=>{kt.cancel()})),[]),(0,r.useEffect)((()=>{z((0,c.setSelectedQuote)(null));const e={stx_enabled:fe,token_symbol_source:(null==ae?void 0:ae.symbol)??"",token_symbol_destination:(null==ie?void 0:ie.symbol)??"",security_warnings:[null==We?void 0:We.descriptionId,null==Ve?void 0:Ve.titleId].filter(Boolean)};kt(gt,e)}),[gt]);const yt=(0,r.useCallback)((e=>{Xe({event:b.MetaMetricsEventName.InputChanged,properties:e})}),[]),vt=(0,r.useRef)(!1);(0,r.useEffect)((()=>{if(oe&&ee&&ce&&!vt.current){vt.current=!0;const e=ft?undefined:l.BRIDGE_DEFAULT_SLIPPAGE;z((0,c.setSlippage)(e))}}),[oe,ft,ee,ce,z]),(0,r.useEffect)((()=>{if((0,V.endTrace)({name:oe?V.TraceName.SwapViewLoaded:V.TraceName.BridgeViewLoaded,timestamp:Date.now()}),xe){const{srcAsset:e,destAsset:t,destChainId:n,srcChainId:r}=xe.quote;e&&t&&n&&(z((0,c.setFromToken)({...e,chainId:r})),z((0,c.setToToken)({...t,chainId:n})))}else z((0,c.resetBridgeState)())}),[]),(0,G.useBridgeQueryParams)(Ie,Ae);const Tt=(null==ie?void 0:ie.occurrences)??(null==ie||null===(e=ie.aggregators)||void 0===e?void 0:e.length),bt=(null==ie?void 0:ie.address)&&!(0,l.isNativeAddress)(null==ie?void 0:ie.address),St=(0,o.useSelector)(d.isBridgeSolanaEnabled),[Ct,wt]=(0,r.useState)(!1),[xt,Et]=(0,r.useState)(null),[At,It]=(0,r.useState)(0);return r.default.createElement(r.default.Fragment,null,r.default.createElement(x.Column,{className:"prepare-bridge-page",gap:8},r.default.createElement(Q.BridgeInputGroup,{header:X(te?"swapSelectToken":oe?"swapSwapFrom":"bridgeFrom"),token:ae,onAmountChange:e=>{z((0,c.setFromTokenInputValue)(e))},onAssetChange:e=>{const t={...e,address:e.address??(0,i.zeroAddress)()};z((0,c.setFromToken)(t)),z((0,c.setFromTokenInputValue)(null)),e.address===(null==ie?void 0:ie.address)&&z((0,c.setToToken)(null)),t.address&&yt({input:"token_source",value:t.address})},networkProps:{network:ee,networks:oe&&!te?undefined:le,onNetworkChange:e=>{!te&&null!=e&&e.chainId&&e.chainId===(null==ce?void 0:ce.chainId)&&z((0,c.setToChainId)(null)),(0,S.isNetworkAdded)(e)&&J(e.chainId),z((0,c.setFromChain)({networkConfig:e,selectedSolanaAccount:Ie,selectedEvmAccount:Ae}))},header:X("yourNetworks")},isMultiselectEnabled:te||!oe,onMaxButtonClick:(0,l.isNativeAddress)((null==ae?void 0:ae.address)??"")?undefined:e=>{z((0,c.setFromTokenInputValue)(e))},amountInFiat:pe.valueInCurrency.gt(0)?pe.valueInCurrency.toString():undefined,balanceAmount:ze,amountFieldProps:{testId:"from-amount",autoFocus:!0,value:me||undefined},isTokenListLoading:de,buttonProps:{testId:"bridge-source-button"},onBlockExplorerClick:e=>{Et(e),wt(!0),It((e=>e+1))}}),r.default.createElement(x.Column,{height:p.BlockSize.Full,paddingTop:8,backgroundColor:p.BackgroundColor.backgroundAlternativeSoft,style:{position:"relative"}},r.default.createElement(m.Box,{className:"prepare-bridge-page__switch-tokens",display:p.Display.Flex,backgroundColor:p.BackgroundColor.backgroundAlternativeSoft,style:{position:"absolute",top:"calc(-20px + 1px)",right:"calc(50% - 20px)",border:"2px solid var(--color-background-default)",borderRadius:"100%",opacity:1,width:40,height:40,justifyContent:p.JustifyContent.center}},r.default.createElement(m.ButtonIcon,{iconProps:{className:(0,a.default)({rotate:et})},style:{alignSelf:"center",borderRadius:"100%",width:"100%",height:"100%"},"data-testid":"switch-tokens",ariaLabel:"switch-tokens",iconName:m.IconName.Arrow2Down,color:p.IconColor.iconAlternativeSoft,disabled:lt||!(0,l.isValidQuoteRequest)(ke,!1)||ce&&!(0,S.isNetworkAdded)(ce),onClick:()=>{var e;(null==ce?void 0:ce.chainId)&&ae&&ie&&z((0,c.trackUnifiedSwapBridgeEvent)(l.UnifiedSwapBridgeEventName.InputSourceDestinationFlipped,{token_symbol_source:(null==ie?void 0:ie.symbol)??null,token_symbol_destination:(null==ae?void 0:ae.symbol)??null,token_address_source:(0,H.toAssetId)(ie.address??"",(0,l.formatChainIdToCaip)(ie.chainId??""))??(null===(e=(0,l.getNativeAssetForChainId)(ce.chainId))||void 0===e?void 0:e.assetId),token_address_destination:(0,H.toAssetId)(ae.address??"",(0,l.formatChainIdToCaip)(ae.chainId??""))??null,chain_id_source:(0,l.formatChainIdToCaip)(ce.chainId),chain_id_destination:null!=ee&&ee.chainId?(0,l.formatChainIdToCaip)(null==ee?void 0:ee.chainId):null,security_warnings:[]})),tt(!et),Je&&Xe({event:b.MetaMetricsEventName.InputSourceDestinationFlipped,properties:Je});(te||!oe)&&z((0,c.setFromChain)({networkConfig:ce,token:ie,selectedSolanaAccount:Ie,selectedEvmAccount:Ae})),z((0,c.setToToken)(ae))}})),r.default.createElement(Q.BridgeInputGroup,{header:X(te?"swapSelectToken":oe?"swapSwapTo":"bridgeTo"),token:ie,onAssetChange:e=>{const t={...e,address:e.address??(0,i.zeroAddress)()};t.address&&yt({input:"token_destination",value:t.address}),z((0,c.setToToken)(t))},networkProps:oe&&!te?undefined:{network:ce,networks:ue,onNetworkChange:e=>{(0,S.isNetworkAdded)(e)&&J(e.chainId),e.chainId!==(null==ce?void 0:ce.chainId)&&yt({input:"chain_destination",value:e.chainId}),z((0,c.setToChainId)(e.chainId))},header:X("yourNetworks"),shouldDisableNetwork:te?undefined:({chainId:e})=>e===(null==ee?void 0:ee.chainId)},customTokenListGenerator:ce&&(re||ce.chainId!==(null==ee?void 0:ee.chainId))?Ke:undefined,amountInFiat:(null==xe||null===(t=xe.toTokenAmount)||void 0===t?void 0:t.valueInCurrency)||undefined,amountFieldProps:{testId:"to-amount",readOnly:!0,disabled:!0,value:null!=xe&&null!==(n=xe.toTokenAmount)&&void 0!==n&&n.amount?(0,y.formatTokenAmount)(Oe,xe.toTokenAmount.amount):"0",autoFocus:!1,className:null!=xe&&null!==(u=xe.toTokenAmount)&&void 0!==u&&u.amount?"amount-input defined":"amount-input"},isTokenListLoading:Ye,buttonProps:{testId:"bridge-destination-button"},onBlockExplorerClick:e=>{Et(e),wt(!0),It((e=>e+1))}}),St&&pt&&r.default.createElement(m.Box,{padding:6,paddingBottom:3,paddingTop:3},r.default.createElement(Y.DestinationAccountPicker,{onAccountSelect:Qe,selectedSwapToAccount:Ge,isDestinationSolana:ht})),r.default.createElement(x.Column,{height:p.BlockSize.Full,justifyContent:p.JustifyContent.center},ye&&!xe?r.default.createElement(r.default.Fragment,null,r.default.createElement(m.Text,{textAlign:p.TextAlign.Center,color:p.TextColor.textAlternativeSoft},X("swapFetchingQuotes")),r.default.createElement(w.default,{height:"64",width:"64"})):null),r.default.createElement(x.Row,{padding:6,paddingTop:xe?0:6},r.default.createElement(x.Column,{gap:3,className:xe?"highlight":"",style:{paddingBottom:null!=xe&&xe.approval?16:"revert-layer",paddingTop:null!=xe&&xe.approval?16:undefined,paddingInline:16,position:"relative",overflow:"hidden",...xe&&!we&&St?{boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)",backgroundColor:"var(--color-background-default)",borderRadius:8}:{}}},xe&&Te&&r.default.createElement(x.Row,{style:{position:"absolute",left:0,top:0,width:`calc(100% * (${Se} - ${Ze}) / ${Se})`,height:4,maxWidth:"100%",transition:"width 1s linear"},backgroundColor:p.BackgroundColor.primaryMuted}),!we&&xe&&(St?r.default.createElement(R.MultichainBridgeQuoteCard,null):r.default.createElement(F.BridgeQuoteCard,null)),r.default.createElement(C.Footer,{padding:0,flexDirection:p.FlexDirection.Column,gap:2},r.default.createElement(K.BridgeCTAButton,{nativeAssetBalance:qe,srcTokenBalance:ze,onFetchNewQuotes:()=>{kt(gt,{stx_enabled:fe,token_symbol_source:(null==ae?void 0:ae.symbol)??"",token_symbol_destination:(null==ie?void 0:ie.symbol)??"",security_warnings:[]})},needsDestinationAddress:St&&pt&&!Ge}),xe&&xe.approval&&xe.sentAmount&&null!==(g=xe.quote.srcAsset)&&void 0!==g&&g.symbol?r.default.createElement(x.Row,{justifyContent:p.JustifyContent.center,gap:1},r.default.createElement(m.Text,{color:p.TextColor.textAlternativeSoft,variant:p.TextVariant.bodyXs,textAlign:p.TextAlign.Center},De?X("willApproveAmountForBridgingHardware"):X(oe?"willApproveAmountForSwapping":"willApproveAmountForBridging",[(0,y.formatTokenAmount)(Oe,xe.sentAmount.amount,xe.quote.srcAsset.symbol)])),r.default.createElement(x.Tooltip,{display:p.Display.InlineBlock,position:m.PopoverPosition.Top,offset:[-48,8],title:X("grantExactAccess")},X(De?"bridgeApprovalWarningForHardware":"bridgeApprovalWarning",[xe.sentAmount.amount,xe.quote.srcAsset.symbol]))):null))),De&&Be&&Ne&&xe&&r.default.createElement(m.BannerAlert,{marginInline:4,marginBottom:3,title:X("hardwareWalletSubmissionWarningTitle"),textAlign:p.TextAlign.Left},r.default.createElement("ul",{style:{listStyle:"disc"}},r.default.createElement("li",null,r.default.createElement(m.Text,{variant:p.TextVariant.bodyMd},X("hardwareWalletSubmissionWarningStep1",[Ne]))),r.default.createElement("li",null,r.default.createElement(m.Text,{variant:p.TextVariant.bodyMd},X("hardwareWalletSubmissionWarningStep2",[Ne]))))),We&&xe&&r.default.createElement(m.BannerAlert,{marginInline:4,marginBottom:10,severity:m.BannerAlertSeverity.Danger,title:X(We.titleId),description:`${We.description} ${X(We.descriptionId)}`,textAlign:p.TextAlign.Left}),Le&&!Ce&&r.default.createElement(m.BannerAlert,{marginInline:4,marginBottom:10,severity:m.BannerAlertSeverity.Danger,description:X("noOptionsAvailableMessage"),textAlign:p.TextAlign.Left}),st&&Ee&&ie&&bt&&Tt&&Number(Tt)<2&&r.default.createElement(m.BannerAlert,{severity:m.BannerAlertSeverity.Warning,title:X("bridgeTokenCannotVerifyTitle"),description:X("bridgeTokenCannotVerifyDescription"),marginInline:4,marginBottom:3,textAlign:p.TextAlign.Left,onClose:()=>it(!1)}),Ve&&ot&&r.default.createElement(m.BannerAlert,{ref:mt,marginInline:4,marginBottom:3,title:Ve.titleId?X(Ve.titleId):"",severity:Ve.type===L.TokenFeatureType.MALICIOUS?m.BannerAlertSeverity.Danger:m.BannerAlertSeverity.Warning,description:Ve.descriptionId?X(Ve.descriptionId):Ve.description,textAlign:p.TextAlign.Left,onClose:()=>at(!1)}),!ye&&xe&&!$e(ze)&&je(qe)&&r.default.createElement(m.BannerAlert,{ref:dt,marginInline:4,marginBottom:3,title:X("bridgeValidationInsufficientGasTitle",[Re]),severity:m.BannerAlertSeverity.Danger,description:X("bridgeValidationInsufficientGasMessage",[Re]),textAlign:p.TextAlign.Left,actionButtonLabel:X("buyMoreAsset",[Re]),actionButtonOnClick:()=>Ue()}),Fe&&nt&&xe&&r.default.createElement(m.BannerAlert,{ref:ct,marginInline:4,marginBottom:3,title:X("lowEstimatedReturnTooltipTitle"),severity:m.BannerAlertSeverity.Warning,description:X("lowEstimatedReturnTooltipMessage",[100*l.BRIDGE_QUOTE_MAX_RETURN_DIFFERENCE_PERCENTAGE]),textAlign:p.TextAlign.Left,onClose:()=>rt(!1)}))),Ct&&xt&&r.default.createElement("div",{style:{position:"absolute",bottom:50,left:"50%",transform:"translateX(-50%)",zIndex:1e3,width:"100%",display:"flex",justifyContent:"center"}},r.default.createElement(W.ToastContainer,null,r.default.createElement(W.Toast,{key:At,text:X("bridgeBlockExplorerLinkCopied"),onClose:()=>wt(!1),autoHideTime:2500,startAdornment:r.default.createElement(m.AvatarFavicon,{name:xt.symbol,size:m.AvatarFaviconSize.Sm,src:xt.image})}))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/prepare-bridge-page.tsx"}],[7189,{"../../../../shared/constants/bridge":5799,"../../../../shared/constants/metametrics":5810,"../../../../shared/constants/terms":5826,"../../../../shared/modules/selectors":5920,"../../../components/component-library":6474,"../../../ducks/bridge/actions":6959,"../../../ducks/bridge/selectors":6961,"../../../ducks/locale/locale":6970,"../../../ducks/metamask/metamask":6971,"../../../helpers/constants/design-system":6984,"../../../hooks/bridge/events/useQuoteProperties":7044,"../../../hooks/bridge/events/useRequestMetadataProperties":7045,"../../../hooks/bridge/events/useRequestProperties":7046,"../../../hooks/bridge/useCrossChainSwapsEventTracker":7054,"../../../hooks/useI18nContext":7109,"../../../selectors/multichain":7819,"../layout":7177,"../utils/quote":7202,"./bridge-quotes-modal":7190,"@metamask/bridge-controller":1483,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeQuoteCard=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("@metamask/bridge-controller"),s=e("../../../components/component-library"),i=e("../../../ducks/bridge/selectors"),l=e("../../../hooks/useI18nContext"),u=e("../utils/quote"),c=e("../../../ducks/metamask/metamask"),d=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),m=e("../../../hooks/bridge/events/useRequestProperties"),p=e("../../../hooks/bridge/events/useRequestMetadataProperties"),f=e("../../../hooks/bridge/events/useQuoteProperties"),h=e("../../../../shared/constants/metametrics"),g=e("../../../helpers/constants/design-system"),k=e("../layout"),y=e("../../../../shared/constants/bridge"),v=e("../../../../shared/constants/terms"),T=e("../../../ducks/locale/locale"),b=e("../../../selectors/multichain"),S=e("../../../ducks/bridge/actions"),C=e("../../../../shared/modules/selectors"),w=e("./bridge-quotes-modal");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}n.BridgeQuoteCard=()=>{var e,t,n,x;const E=(0,l.useI18nContext)(),{activeQuote:A}=(0,o.useSelector)(i.getBridgeQuotes),I=(0,o.useSelector)(c.getCurrentCurrency),_=(0,o.useSelector)(c.getNativeCurrency),{isEstimatedReturnLow:M}=(0,o.useSelector)(i.getValidationErrors),P=(0,d.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:D}=(0,m.useRequestProperties)(),N=(0,p.useRequestMetadataProperties)(),B=(0,f.useQuoteProperties)(),O=(0,o.useSelector)(i.getFromChain),R=(0,o.useSelector)(i.getToChain),F=(0,o.useSelector)(T.getIntlLocale),[L,j]=(0,r.useState)(!1),[$,W]=(0,r.useState)(!1),U=(0,o.useDispatch)(),H=(0,o.useSelector)((e=>(0,C.getIsSmartTransaction)(e,null==O?void 0:O.chainId))),q=(0,o.useSelector)(i.getFromToken),V=(0,o.useSelector)(i.getToToken);return r.default.createElement(r.default.Fragment,null,r.default.createElement(w.BridgeQuotesModal,{isOpen:L,onClose:()=>j(!1)}),A?r.default.createElement(k.Column,{gap:3},r.default.createElement(k.Row,{justifyContent:g.JustifyContent.spaceBetween},r.default.createElement(k.Row,{gap:1,justifyContent:g.JustifyContent.flexStart,style:{whiteSpace:"nowrap"}},r.default.createElement(s.Text,{variant:g.TextVariant.bodyLgMedium},E("bestPrice")),r.default.createElement(k.Tooltip,{title:E("howQuotesWork"),position:s.PopoverPosition.TopStart,offset:[-16,16],iconName:s.IconName.Question},E("howQuotesWorkExplanation",[a.BRIDGE_MM_FEE_RATE]))),r.default.createElement(k.Column,{height:g.BlockSize.Full,alignItems:g.AlignItems.flexEnd},r.default.createElement(s.Text,{as:"a",variant:g.TextVariant.bodyMd,color:g.TextColor.primaryDefault,onClick:()=>{var e;(null==O?void 0:O.chainId)&&A&&U((0,S.trackUnifiedSwapBridgeEvent)(a.UnifiedSwapBridgeEventName.AllQuotesOpened,{stx_enabled:H,token_symbol_source:(null==q?void 0:q.symbol)??(0,a.getNativeAssetForChainId)(O.chainId).assetId,token_symbol_destination:(null==V?void 0:V.symbol)??null,price_impact:Number((null===(e=A.quote)||void 0===e||null===(e=e.priceData)||void 0===e?void 0:e.priceImpact)??"0"),gas_included:!1})),D&&N&&B&&P({event:h.MetaMetricsEventName.AllQuotesOpened,properties:{...D,...N,...B}}),j(!0)}},E("moreQuotes")))),r.default.createElement(k.Column,{gap:1},r.default.createElement(k.Row,null,r.default.createElement(s.Text,{variant:g.TextVariant.bodyMdMedium,color:g.TextColor.textAlternativeSoft},E("bridging")),r.default.createElement(k.Row,{gap:1},r.default.createElement(s.AvatarNetwork,{name:(null==O?void 0:O.name)??"",src:null!=O&&O.chainId?(0,b.getImageForChainId)(O.chainId):undefined,size:s.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),r.default.createElement(s.Text,{style:{whiteSpace:"nowrap"}},null!=O&&O.chainId?y.NETWORK_TO_SHORT_NETWORK_NAME_MAP[O.chainId]:null==O?void 0:O.name),r.default.createElement(s.Icon,{name:s.IconName.Arrow2Right,size:s.IconSize.Xs}),r.default.createElement(s.AvatarNetwork,{name:(null==R?void 0:R.name)??"",src:null!=R&&R.chainId?(0,b.getImageForChainId)(R.chainId):undefined,size:s.AvatarNetworkSize.Xs,backgroundColor:g.BackgroundColor.transparent}),r.default.createElement(s.Text,{style:{whiteSpace:"nowrap"}},null!=R&&R.chainId?y.NETWORK_TO_SHORT_NETWORK_NAME_MAP[R.chainId]:null==R?void 0:R.name))),r.default.createElement(k.Row,{className:"row-with-warning",backgroundColor:M?g.BackgroundColor.warningMuted:undefined},r.default.createElement(s.Text,{style:{whiteSpace:"nowrap"},variant:g.TextVariant.bodyMdMedium,color:M?g.TextColor.warningDefault:g.TextColor.textAlternativeSoft},E("networkFee")),r.default.createElement(k.Row,{gap:1},r.default.createElement(k.Tooltip,{position:s.PopoverPosition.TopStart,offset:[-16,16],iconName:s.IconName.Question,triggerElement:r.default.createElement(s.Text,{style:{whiteSpace:"nowrap",overflow:"visible",textDecoration:"underline",cursor:"pointer"},color:M?g.TextColor.warningDefault:undefined,"data-testid":"network-fees"},$?`${null!=A&&null!==(e=A.totalNetworkFee)&&void 0!==e&&e.valueInCurrency?(0,u.formatTokenAmount)(F,null==A||null===(t=A.totalNetworkFee)||void 0===t?void 0:t.amount,_):undefined}`:`${(0,u.formatCurrencyAmount)(null==A||null===(n=A.totalNetworkFee)||void 0===n?void 0:n.valueInCurrency,I,2)??(0,u.formatTokenAmount)(F,null==A||null===(x=A.totalNetworkFee)||void 0===x?void 0:x.amount,_)}`)},E("howNetworkFeesWorkExplanation",[$?(0,u.formatTokenAmount)(F,null==A?void 0:A.totalMaxNetworkFee.amount,_):(0,u.formatCurrencyAmount)(null==A?void 0:A.totalMaxNetworkFee.valueInCurrency,I,2)])),r.default.createElement(s.Icon,{style:{cursor:"pointer"},color:M?g.IconColor.warningDefault:g.IconColor.iconAlternativeSoft,name:s.IconName.SwapVertical,size:s.IconSize.Md,onClick:()=>W(!$)}))),r.default.createElement(k.Row,null,r.default.createElement(s.Text,{variant:g.TextVariant.bodyMdMedium,color:g.TextColor.textAlternativeSoft},E("time")),r.default.createElement(s.Text,null,E("bridgeTimingMinutes",[(0,a.formatEtaInMinutes)(A.estimatedProcessingTimeInSeconds)]))),r.default.createElement(k.Row,{justifyContent:g.JustifyContent.flexStart,gap:2},r.default.createElement(s.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternativeSoft},E("rateIncludesMMFee",[a.BRIDGE_MM_FEE_RATE])),r.default.createElement(s.Text,{color:g.TextColor.textAlternativeSoft},E("bulletpoint")),r.default.createElement(s.ButtonLink,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternativeSoft,href:v.TERMS_OF_USE_LINK,externalLink:!0,style:{textDecoration:"underline"}},E("bridgeTerms"))))):null)}}}},{package:"$root$",file:"ui/pages/bridge/quotes/bridge-quote-card.tsx"}],[7190,{"../../../../shared/constants/metametrics":5810,"../../../../shared/modules/selectors":5920,"../../../components/component-library":6474,"../../../ducks/bridge/actions":6959,"../../../ducks/bridge/selectors":6961,"../../../ducks/locale/locale":6970,"../../../ducks/metamask/metamask":6971,"../../../helpers/constants/design-system":6984,"../../../hooks/bridge/events/useQuoteProperties":7044,"../../../hooks/bridge/events/useRequestMetadataProperties":7045,"../../../hooks/bridge/events/useRequestProperties":7046,"../../../hooks/bridge/events/useTradeProperties":7047,"../../../hooks/bridge/useCrossChainSwapsEventTracker":7054,"../../../hooks/useI18nContext":7109,"../../../hooks/useMultichainSelector":7117,"../../../selectors/multichain":7819,"../layout":7177,"../utils/quote":7202,"@metamask/bridge-controller":1483,"@metamask/snaps-sdk/jsx":2823,"bignumber.js":3997,lodash:4912,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeQuotesModal=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("@metamask/snaps-sdk/jsx"),s=e("react-redux"),i=e("lodash"),l=e("@metamask/bridge-controller"),u=e("bignumber.js"),c=e("../../../components/component-library"),d=e("../../../helpers/constants/design-system"),m=e("../utils/quote"),p=e("../../../hooks/useI18nContext"),f=e("../../../ducks/bridge/actions"),h=e("../../../ducks/bridge/selectors"),g=e("../layout"),k=e("../../../ducks/metamask/metamask"),y=e("../../../hooks/bridge/events/useQuoteProperties"),v=e("../../../hooks/bridge/events/useRequestMetadataProperties"),T=e("../../../hooks/bridge/events/useRequestProperties"),b=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),S=e("../../../../shared/constants/metametrics"),C=e("../../../hooks/bridge/events/useTradeProperties"),w=e("../../../ducks/locale/locale"),x=e("../../../selectors/multichain"),E=e("../../../hooks/useMultichainSelector"),A=e("../../../../shared/modules/selectors");function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(null,arguments)}n.BridgeQuotesModal=({onClose:e,...t})=>{const n=(0,p.useI18nContext)(),r=(0,s.useDispatch)(),_=(0,s.useSelector)(h.getFromToken),M=(0,s.useSelector)(h.getToToken),P=(0,s.useSelector)(h.getFromChain),D=(0,s.useSelector)((e=>(0,A.getIsSmartTransaction)(e,null==P?void 0:P.chainId))),{sortedQuotes:N,activeQuote:B,recommendedQuote:O}=(0,s.useSelector)(h.getBridgeQuotes),R=(0,s.useSelector)(h.getBridgeSortOrder),F=(0,s.useSelector)(k.getCurrentCurrency),L=(0,E.useMultichainSelector)(x.getMultichainNativeCurrency),j=(0,s.useSelector)(w.getIntlLocale),$=(0,b.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:W}=(0,T.useRequestProperties)(),U=(0,v.useRequestMetadataProperties)(),H=(0,y.useQuoteProperties)(),q=(0,C.useTradeProperties)();return o.default.createElement(c.Modal,I({className:"quotes-modal",onClose:e},t),o.default.createElement(c.ModalOverlay,null),o.default.createElement(c.ModalContent,{modalDialogProps:{padding:0}},o.default.createElement(c.ModalHeader,{onBack:e},o.default.createElement(c.Text,{variant:d.TextVariant.headingSm,textAlign:d.TextAlign.Center},n("swapSelectAQuote"))),o.default.createElement(g.Row,{paddingTop:3,paddingBottom:1,paddingInline:4},[[l.SortOrder.COST_ASC,n("bridgeNetCost"),a.IconName.Arrow2Up],[l.SortOrder.ETA_ASC,n("time"),a.IconName.Arrow2Down]].map((([e,t,n])=>o.default.createElement(c.ButtonLink,{key:t,onClick:()=>{var t;P&&O&&r((0,f.trackUnifiedSwapBridgeEvent)(l.UnifiedSwapBridgeEventName.AllQuotesSorted,{sort_order:R,price_impact:Number((null===(t=O.quote)||void 0===t||null===(t=t.priceData)||void 0===t?void 0:t.priceImpact)??"0"),gas_included:!1,token_symbol_source:(null==_?void 0:_.symbol)??(0,l.getNativeAssetForChainId)(P.chainId).symbol,token_symbol_destination:(null==M?void 0:M.symbol)??null,stx_enabled:D,best_quote_provider:(0,l.formatProviderLabel)(O.quote)})),W&&U&&H&&$({event:S.MetaMetricsEventName.AllQuotesSorted,properties:{...W,...U,...H,sort_order:R}}),r((0,f.setSortOrder)(e))},startIconName:R===e&&R===l.SortOrder.ETA_ASC?n:undefined,startIconProps:{size:c.IconSize.Xs},endIconName:R===e&&R===l.SortOrder.COST_ASC?n:undefined,endIconProps:{size:c.IconSize.Xs},color:R===e?d.TextColor.primaryDefault:d.TextColor.textAlternativeSoft},o.default.createElement(c.Text,{variant:R===e?d.TextVariant.bodySmMedium:d.TextVariant.bodySm,color:R===e?d.TextColor.primaryDefault:d.TextColor.textAlternativeSoft},t))))),o.default.createElement(g.Column,{style:{overflow:"scroll"}},N.map(((t,a)=>{const{totalNetworkFee:s,estimatedProcessingTimeInSeconds:p,toTokenAmount:h,cost:k,sentAmount:y,quote:{destAsset:v,bridges:T,requestId:b,gasIncluded:C}}=t,w=b===(null==B?void 0:B.quote.requestId),x=b===(null==O?void 0:O.quote.requestId);return o.default.createElement(g.Row,{alignItems:d.AlignItems.flexStart,key:a,backgroundColor:w?d.BackgroundColor.primaryMuted:undefined,onClick:()=>{var n;t&&r((0,f.trackUnifiedSwapBridgeEvent)(l.UnifiedSwapBridgeEventName.QuoteSelected,{is_best_quote:x,best_quote_provider:(0,l.formatProviderLabel)(null==t?void 0:t.quote),usd_quoted_gas:Number(t.gasFee.usd),quoted_time_minutes:t.estimatedProcessingTimeInSeconds/60,usd_quoted_return:Number(t.toTokenAmount.usd),provider:(0,l.formatProviderLabel)(t.quote),price_impact:Number((null===(n=t.quote)||void 0===n||null===(n=n.priceData)||void 0===n?void 0:n.priceImpact)??"0"),gas_included:!1})),r((0,f.setSelectedQuote)(t)),W&&U&&H&&q&&$({event:S.MetaMetricsEventName.QuoteSelected,properties:{...W,...U,...H,...q,is_best_quote:x}}),e()},paddingInline:4,paddingTop:3,paddingBottom:3,style:{position:"relative"}},w&&o.default.createElement(g.Column,{style:{position:"absolute",left:4,top:4,height:"calc(100% - 8px)",width:4,borderRadius:8},backgroundColor:d.BackgroundColor.primaryDefault}),o.default.createElement(g.Column,null,o.default.createElement(c.Text,{variant:d.TextVariant.bodyMd},C?(0,m.formatCurrencyAmount)(new u.BigNumber(y.valueInCurrency??0).minus(h.valueInCurrency??0).toString(),F,2):(0,m.formatCurrencyAmount)(k.valueInCurrency,F,2)),[C&&null!=y&&y.valueInCurrency?n("quotedTotalCost",[(0,m.formatCurrencyAmount)(y.valueInCurrency,F,2)]):undefined,!C&&(null!=s&&s.valueInCurrency&&null!=y&&y.valueInCurrency?n("quotedTotalCost",[(0,m.formatCurrencyAmount)(new u.BigNumber(s.valueInCurrency).plus(y.valueInCurrency).toString(),F,2)]):n("quotedTotalCost",[(0,m.formatTokenAmount)(j,s.amount,L)])),n("quotedReceiveAmount",[(0,m.formatCurrencyAmount)(h.valueInCurrency,F,2)??(0,m.formatTokenAmount)(j,h.amount,v.symbol)])].filter(Boolean).map((e=>o.default.createElement(c.Text,{key:e,variant:d.TextVariant.bodyXsMedium,color:d.TextColor.textAlternative},e)))),o.default.createElement(g.Column,{alignItems:d.AlignItems.flexEnd},o.default.createElement(c.Text,{variant:d.TextVariant.bodyMd},n("bridgeTimingMinutes",[(0,l.formatEtaInMinutes)(p)])),o.default.createElement(c.Text,{variant:d.TextVariant.bodyXsMedium,color:d.TextColor.textAlternative},(0,i.startCase)(T[0]))))})))))}}}},{package:"$root$",file:"ui/pages/bridge/quotes/bridge-quotes-modal.tsx"}],[7191,{"../../../../shared/constants/bridge":5799,"../../../../shared/constants/multichain/networks":5812,"../../../../shared/constants/network":5813,"../../../../shared/modules/selectors":5920,"../../../components/component-library":6474,"../../../ducks/bridge/actions":6959,"../../../ducks/bridge/selectors":6961,"../../../ducks/locale/locale":6970,"../../../ducks/metamask/metamask":6971,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,"../layout":7177,"../utils/quote":7202,"./bridge-quotes-modal":7190,"@metamask/bridge-controller":1483,react:5262,"react-redux":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainBridgeQuoteCard=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("@metamask/bridge-controller"),s=e("../../../components/component-library"),i=e("../../../ducks/bridge/selectors"),l=e("../../../hooks/useI18nContext"),u=e("../utils/quote"),c=e("../../../ducks/metamask/metamask"),d=e("../../../helpers/constants/design-system"),m=e("../layout"),p=e("../../../../shared/constants/bridge"),f=e("../../../../shared/constants/network"),h=e("../../../../shared/constants/multichain/networks"),g=e("../../../ducks/bridge/actions"),k=e("../../../ducks/locale/locale"),y=e("../../../../shared/modules/selectors"),v=e("./bridge-quotes-modal");function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.MultichainBridgeQuoteCard=()=>{var e,t,n;const T=(0,l.useI18nContext)(),{activeQuote:b}=(0,o.useSelector)(i.getBridgeQuotes),S=(0,o.useSelector)(c.getCurrentCurrency),C=(0,o.useSelector)(i.getFromChain),w=(0,o.useSelector)(i.getToChain),x=(0,o.useSelector)(k.getIntlLocale),E=(0,o.useSelector)(i.getIsBridgeTx),A=(0,o.useSelector)((e=>(0,y.getIsSmartTransaction)(e,null==C?void 0:C.chainId))),I=(0,o.useSelector)(i.getFromToken),_=(0,o.useSelector)(i.getToToken),M=(0,o.useDispatch)(),[P,D]=(0,r.useState)(!1),N=e=>(0,a.isSolanaChainId)(e)?h.MULTICHAIN_TOKEN_IMAGE_MAP[h.MultichainNetworks.SOLANA]:f.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[(0,a.formatChainIdToHex)(e)],B=e=>(0,a.isSolanaChainId)(e)?p.NETWORK_TO_SHORT_NETWORK_NAME_MAP[h.MultichainNetworks.SOLANA]:p.NETWORK_TO_SHORT_NETWORK_NAME_MAP[(0,a.formatChainIdToHex)(e)];return r.default.createElement(r.default.Fragment,null,r.default.createElement(v.BridgeQuotesModal,{isOpen:P,onClose:()=>D(!1)}),b?r.default.createElement(m.Column,{gap:3},r.default.createElement(m.Column,{gap:2},r.default.createElement(m.Row,{justifyContent:d.JustifyContent.spaceBetween},r.default.createElement(m.Row,{gap:1},r.default.createElement(s.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative},T("multichainQuoteCardQuoteLabel")),r.default.createElement(m.Tooltip,{title:T("howQuotesWork"),position:s.PopoverPosition.TopStart,offset:[-16,16],iconName:s.IconName.Question},T("howQuotesWorkExplanation",[a.BRIDGE_MM_FEE_RATE]))),r.default.createElement(s.Text,null,`1 ${b.quote.srcAsset.symbol} = ${(0,u.formatTokenAmount)(x,b.swapRate)} ${b.quote.destAsset.symbol}`)),E&&r.default.createElement(m.Row,{justifyContent:d.JustifyContent.spaceBetween},r.default.createElement(s.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative},T("multichainQuoteCardBridgingLabel")),r.default.createElement(m.Row,{gap:1},r.default.createElement(s.AvatarNetwork,{name:(null==C?void 0:C.name)??"",src:N(b.quote.srcChainId),size:s.AvatarNetworkSize.Xs,backgroundColor:d.BackgroundColor.transparent}),r.default.createElement(s.Text,null,B(b.quote.srcChainId)),r.default.createElement(s.Icon,{name:s.IconName.Arrow2Right,size:s.IconSize.Xs}),r.default.createElement(s.AvatarNetwork,{name:(null==w?void 0:w.name)??"",src:N(b.quote.destChainId),size:s.AvatarNetworkSize.Xs,backgroundColor:d.BackgroundColor.transparent}),r.default.createElement(s.Text,null,B(b.quote.destChainId)))),r.default.createElement(m.Row,{justifyContent:d.JustifyContent.spaceBetween},r.default.createElement(s.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative},T("networkFee")),b.quote.gasIncluded&&r.default.createElement(m.Row,{gap:1},r.default.createElement(s.Text,{style:{textDecoration:"line-through"}},null!==(e=b.includedTxFees)&&void 0!==e&&e.valueInCurrency?(0,u.formatCurrencyAmount)(b.includedTxFees.valueInCurrency,S,2):(0,u.formatCurrencyAmount)(null===(t=b.totalMaxNetworkFee)||void 0===t?void 0:t.valueInCurrency,S,2)),r.default.createElement(s.Text,{fontStyle:d.FontStyle.Italic}," Included")),!b.quote.gasIncluded&&r.default.createElement(s.Text,null,(0,u.formatCurrencyAmount)(null===(n=b.totalMaxNetworkFee)||void 0===n?void 0:n.valueInCurrency,S,2))),r.default.createElement(m.Row,{justifyContent:d.JustifyContent.spaceBetween},r.default.createElement(s.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative},T("multichainQuoteCardTimeLabel")),r.default.createElement(s.Text,null,T("bridgeTimingMinutes",[(0,a.formatEtaInMinutes)(b.estimatedProcessingTimeInSeconds)]))),r.default.createElement(m.Row,{justifyContent:d.JustifyContent.spaceBetween,color:d.TextColor.textAlternative},r.default.createElement(s.Text,{variant:d.TextVariant.bodyMd},T("rateIncludesMMFee",[a.BRIDGE_MM_FEE_RATE])),r.default.createElement(s.ButtonLink,{variant:d.TextVariant.bodyMd,onClick:()=>{var e,t;(null==C?void 0:C.chainId)&&b&&M((0,g.trackUnifiedSwapBridgeEvent)(a.UnifiedSwapBridgeEventName.AllQuotesOpened,{stx_enabled:A,token_symbol_source:(null==I?void 0:I.symbol)??(0,a.getNativeAssetForChainId)(C.chainId).symbol,token_symbol_destination:(null==_?void 0:_.symbol)??null,price_impact:Number((null===(e=b.quote)||void 0===e||null===(e=e.priceData)||void 0===e?void 0:e.priceImpact)??"0"),gas_included:Boolean(null===(t=b.quote)||void 0===t?void 0:t.gasIncluded)})),D(!0)}},T("moreQuotes"))))):null)}}}},{package:"$root$",file:"ui/pages/bridge/quotes/multichain-bridge-quote-card.tsx"}],[7192,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,"./segment":7198,"@metamask/bridge-controller":1483,"@metamask/transaction-controller":2925,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeTxHistoryItem:e,transactionGroup:t}){const n=(0,l.useI18nContext)(),{initialTransaction:o}=t,a=m(o),c=p({bridgeTxHistoryItem:e,srcTxStatus:a}),f=d(a);return r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:2},r.default.createElement(s.Text,{color:i.TextColor.textAlternative},n("bridgeTransactionProgress",[f])),r.default.createElement(s.Box,{display:i.Display.Flex,gap:2,width:i.BlockSize.Full},r.default.createElement(u.default,{type:a}),r.default.createElement(u.default,{type:c})))};var r=c(e("react")),o=e("@metamask/transaction-controller"),a=e("@metamask/bridge-controller"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=c(e("./segment"));function c(e){return e&&e.__esModule?e:{default:e}}const d=e=>{if(e===a.StatusTypes.PENDING)return 1;if(e===a.StatusTypes.COMPLETE)return 2;throw new Error("No more possible states for srcTxStatus")},m=e=>e.status===o.TransactionStatus.confirmed?a.StatusTypes.COMPLETE:a.StatusTypes.PENDING,p=({bridgeTxHistoryItem:e,srcTxStatus:t})=>{var n;return t!==a.StatusTypes.COMPLETE?null:null!=e&&null!==(n=e.status.destChain)&&void 0!==n&&n.txHash&&e.status.status===a.StatusTypes.COMPLETE?a.StatusTypes.COMPLETE:a.StatusTypes.PENDING}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-activity-item-tx-segments.tsx"}],[7193,{"../../../../shared/constants/common":5800,"../../../components/component-library":6474,"../../../components/multichain/menu-items/view-explorer-menu-item":6673,"../../../contexts/metametrics":6947,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,"@metamask/bridge-controller":1483,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({srcChainId:e,destChainId:t,srcBlockExplorerUrl:n,destBlockExplorerUrl:o}){const a=(0,r.useContext)(l.MetaMetricsContext),d=(0,c.useI18nContext)(),f=d("bridgeExplorerLinkViewOn",[m(e,n)]),h=o?d("bridgeExplorerLinkViewOn",[m(t,o)]):undefined;return r.default.createElement(s.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:4},n&&r.default.createElement(s.ButtonSecondary,{endIconName:s.IconName.Export,onClick:()=>{n&&(0,i.openBlockExplorer)(n,p,a)}},f),o&&r.default.createElement(s.ButtonSecondary,{endIconName:s.IconName.Export,onClick:()=>{o&&(0,i.openBlockExplorer)(o,p,a)}},h))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("@metamask/bridge-controller"),a=e("../../../../shared/constants/common"),s=e("../../../components/component-library"),i=e("../../../components/multichain/menu-items/view-explorer-menu-item"),l=e("../../../contexts/metametrics"),u=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const m=(e,t)=>{const n=e&&!(0,o.isSolanaChainId)(e)?(0,o.formatChainIdToHex)(e):undefined,r=n?a.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[n]:undefined;return r||(t?t.split("/")[2]:undefined)},p="Activity Tab"}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-explorer-links.tsx"}],[7194,{"../../../../shared/constants/bridge":5799,"../../../../shared/modules/Numeric":5899,"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"../../../hooks/useI18nContext":7109,"@metamask/bridge-controller":1483,"@metamask/transaction-controller":2925,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({step:e,time:t,stepStatus:n}){const o=(0,u.useI18nContext)();return r.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:2,className:"bridge-transaction-details__step-grid--desc"},t&&r.createElement(s.Text,{color:l.TextColor.textDefault},t),r.createElement(s.Text,{color:n===a.StatusTypes.PENDING||n===a.StatusTypes.COMPLETE?l.TextColor.textDefault:l.TextColor.textAlternative,fontWeight:n===a.StatusTypes.PENDING?l.FontWeight.Medium:l.FontWeight.Normal},e.action===a.ActionTypes.BRIDGE&&m(o,n,e),e.action===a.ActionTypes.SWAP&&p(o,n,e)))},n.getStepStatus=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("@metamask/transaction-controller"),a=e("@metamask/bridge-controller"),s=e("../../../components/component-library"),i=e("../../../../shared/modules/Numeric"),l=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),c=e("../../../../shared/constants/bridge");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const m=(e,t,n)=>{var r;const o=n.destChainId?new i.Numeric(n.destChainId,10).toPrefixedHexString():undefined,s=o?c.NETWORK_TO_SHORT_NETWORK_NAME_MAP[o]:"",l=null===(r=n.destAsset)||void 0===r?void 0:r.symbol;return l?t===a.StatusTypes.COMPLETE?e("bridgeStepActionBridgeComplete",[l,s]):e("bridgeStepActionBridgePending",[l,s]):null},p=(e,t,n)=>{var r,o;const s=null===(r=n.srcAsset)||void 0===r?void 0:r.symbol,i=null===(o=n.destAsset)||void 0===o?void 0:o.symbol;return s&&i?t===a.StatusTypes.COMPLETE?e("bridgeStepActionSwapComplete",[s,i]):e("bridgeStepActionSwapPending",[s,i]):null};n.getStepStatus=({bridgeHistoryItem:e,step:t,srcChainTxMeta:n})=>e?t.action===a.ActionTypes.SWAP?((e,t,n)=>{const r=t.srcChainId===t.destChainId,s=t.srcChainId===e.quote.srcChainId;if(r&&s)return(null==n?void 0:n.status)===o.TransactionStatus.confirmed?a.StatusTypes.COMPLETE:a.StatusTypes.PENDING;return(null==n?void 0:n.status)===o.TransactionStatus.confirmed&&e.status?e.status.status:null})(e,t,n):t.action===a.ActionTypes.BRIDGE?(e=>e.status?e.status.status:null)(e):a.StatusTypes.UNKNOWN:a.StatusTypes.UNKNOWN}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-step-description.tsx"}],[7195,{"../../../components/component-library":6474,"../../../helpers/utils/util":7037,"./bridge-step-description":7194,"./step-progress-bar-item":7199,"@metamask/bridge-controller":1483,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeHistoryItem:e,srcChainTxMeta:t}){const n=(null==e?void 0:e.quote.steps)||[],u=n.map((n=>(0,i.getStepStatus)({bridgeHistoryItem:e,step:n,srcChainTxMeta:t})));return r.default.createElement(a.Box,{className:"bridge-transaction-details__step-grid"},n.map(((a,c)=>{const m=c>0?u[c-1]:null,p=u[c],f=c<u.length-1?u[c+1]:null,h=p===o.StatusTypes.COMPLETE&&(f===o.StatusTypes.PENDING||f===o.StatusTypes.COMPLETE),g=m===o.StatusTypes.PENDING&&p===o.StatusTypes.PENDING?null:p,k=(0,s.formatDate)(d(c,c===n.length-1,(null==e?void 0:e.startTime)||(null==t?void 0:t.time),(null==e?void 0:e.estimatedProcessingTimeInSeconds)||0),"hh:mm a");return r.default.createElement(l.default,{key:`progress-${a.action}-${a.srcChainId}-${a.destChainId}`,stepStatus:g,isLastItem:c===n.length-1,isEdgeComplete:h},r.default.createElement(i.default,{step:a,stepStatus:g,time:k}))})))};var r=c(e("react")),o=e("@metamask/bridge-controller"),a=e("../../../components/component-library"),s=e("../../../helpers/utils/util"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("./bridge-step-description")),l=c(e("./step-progress-bar-item"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}const d=(e,t,n,r)=>0===e?n:t&&n&&r?n+1e3*r:undefined}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-step-list.tsx"}],[7196,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,classnames:4139,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=(r=e("classnames"))&&r.__esModule?r:{default:r},s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const u=o.forwardRef((({size:e=s.IconSize.Md,color:t,className:n="",style:r},l)=>o.createElement(s.Box,{className:(0,a.default)(n,"mm-icon",`mm-icon--size-${e}`),ref:l,as:"span",display:i.Display.InlineBlock,style:{height:"12px",width:"12px",border:`1px solid var(--color-${t})`,borderRadius:"50%",backgroundColor:`var(--color-${i.BackgroundColor.backgroundDefault})`,zIndex:1,...r}})));n.default=u}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/hollow-circle.tsx"}],[7197,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"./hollow-circle":7196,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({iconSize:e,color:t}){return r.default.createElement(o.Box,{style:{position:"relative"}},r.default.createElement(o.Box,{className:"bridge-transaction-details__icon-loading",backgroundColor:a.BackgroundColor.primaryMuted,display:a.Display.Flex,justifyContent:a.JustifyContent.center,alignItems:a.AlignItems.center,borderRadius:a.BorderRadius.full,style:{width:"2rem",height:"2rem"}}),r.default.createElement(s.default,{size:e,color:t,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderWidth:"2px"}}))};var r=i(e("react")),o=e("../../../components/component-library"),a=e("../../../helpers/constants/design-system"),s=i(e("./hollow-circle"));function i(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/pulsing-circle.tsx"}],[7198,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"@metamask/bridge-controller":1483,classnames:4139,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({type:e}){return r.default.createElement(s.Box,{width:i.BlockSize.Full,backgroundColor:i.BackgroundColor.backgroundAlternative,borderRadius:i.BorderRadius.pill},r.default.createElement(s.Box,{width:i.BlockSize.Full,backgroundColor:i.BackgroundColor.primaryDefault,borderRadius:i.BorderRadius.pill,className:(0,o.default)({"bridge-transaction-details__segment":!0,"bridge-transaction-details__segment--pending":e===a.StatusTypes.PENDING,"bridge-transaction-details__segment--complete":e===a.StatusTypes.COMPLETE})}))};var r=l(e("react")),o=l(e("classnames")),a=e("@metamask/bridge-controller"),s=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/segment.tsx"}],[7199,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,"./hollow-circle":7196,"./pulsing-circle":7197,"@metamask/bridge-controller":1483,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({stepStatus:e,isLastItem:t,isEdgeComplete:n,children:u}){return r.default.createElement(r.default.Fragment,null,(null===e||e===o.StatusTypes.UNKNOWN)&&r.default.createElement(i.default,{size:c,color:s.IconColor.iconMuted}),e===o.StatusTypes.PENDING&&r.default.createElement(l.default,{iconSize:c,color:s.IconColor.primaryDefault}),e===o.StatusTypes.COMPLETE&&r.default.createElement(a.Icon,{name:a.IconName.FullCircle,color:s.IconColor.primaryDefault,size:c}),u,!t&&r.default.createElement(d,{color:n?s.IconColor.primaryDefault:s.IconColor.iconMuted}),!t&&r.default.createElement("div",null))};var r=u(e("react")),o=e("@metamask/bridge-controller"),a=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),i=u(e("./hollow-circle")),l=u(e("./pulsing-circle"));function u(e){return e&&e.__esModule?e:{default:e}}const c=a.IconSize.Xs,d=({color:e})=>r.default.createElement("div",{style:{height:"60px",marginTop:"-1rem",marginBottom:"-1rem",width:"1px",backgroundColor:`var(--color-${e})`,zIndex:.1}})}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/step-progress-bar-item.tsx"}],[7200,{"../../../components/component-library":6474,"../../../helpers/constants/design-system":6984,react:5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({title:e,value:t}){return o.default.createElement(a.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,"data-testid":"transaction-detail-row",width:s.BlockSize.Full},o.default.createElement(a.Text,{minWidth:s.BlockSize.Max,paddingRight:1,variant:s.TextVariant.bodyMd},e),t)};var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/transaction-detail-row.tsx"}],[7201,{"../../../../shared/constants/bridge":5799,"../../../../shared/constants/metametrics":5810,"../../../../shared/modules/Numeric":5899,"../../../../shared/modules/conversion.utils":5904,"../../../components/app/confirm/info/row":6041,"../../../components/app/transaction-activity-log":6363,"../../../components/app/transaction-breakdown/transaction-breakdown-utils":6373,"../../../components/component-library":6474,"../../../components/multichain/pages/page":6764,"../../../contexts/metametrics":6947,"../../../ducks/bridge-status/selectors":6958,"../../../ducks/locale/locale":6970,"../../../helpers/constants/common":6982,"../../../helpers/constants/design-system":6984,"../../../helpers/utils/util":7037,"../../../hooks/bridge/useBridgeChainInfo":7048,"../../../hooks/useI18nContext":7109,"../../../selectors":7812,"../../../selectors/multichain":7819,"../utils/quote":7202,"../utils/tx-details":7203,"./bridge-explorer-links":7193,"./bridge-step-list":7195,"./transaction-detail-row":7200,"@metamask/bridge-controller":1483,"@metamask/transaction-controller":2925,react:5262,"react-redux":5208,"react-router-dom":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("react-router-dom"),s=e("@metamask/transaction-controller"),i=e("@metamask/bridge-controller"),l=e("../../../components/component-library"),u=e("../../../components/multichain/pages/page"),c=e("../../../ducks/bridge-status/selectors"),d=D(e("../../../hooks/bridge/useBridgeChainInfo")),m=e("../../../components/app/transaction-breakdown/transaction-breakdown-utils"),p=e("../../../../shared/modules/conversion.utils"),f=e("../../../helpers/constants/common"),h=e("../../../helpers/constants/design-system"),g=e("../../../helpers/utils/util"),k=e("../../../components/app/confirm/info/row"),y=e("../../../hooks/useI18nContext"),v=e("../../../selectors"),T=e("../../../../shared/constants/metametrics"),b=e("../../../contexts/metametrics"),S=e("../../../ducks/locale/locale"),C=D(e("../../../components/app/transaction-activity-log")),w=e("../../../../shared/constants/bridge"),x=e("../../../../shared/modules/Numeric"),E=e("../../../selectors/multichain"),A=e("../utils/quote"),I=e("../utils/tx-details"),_=D(e("./transaction-detail-row")),M=D(e("./bridge-explorer-links")),P=D(e("./bridge-step-list"));function D(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}n.default=()=>{var e,t,n;const D=(0,y.useI18nContext)(),N=(0,o.useSelector)(S.getIntlLocale),B=(0,r.useContext)(b.MetaMetricsContext),O=(0,o.useSelector)((e=>e)),R=(0,a.useHistory)(),F=(0,a.useLocation)(),{srcTxMetaId:L}=(0,a.useParams)(),j=(0,o.useSelector)(v.selectedAddressTxListSelectorAllChain),$=(null===(e=F.state)||void 0===e?void 0:e.transactionGroup)||null,W=(null===(t=F.state)||void 0===t?void 0:t.isEarliestNonce)||null,U=j.find((e=>e.id===L)),H=(0,o.useSelector)(c.selectBridgeHistoryForAccount),q=L?H[L]:undefined,V=j.find((e=>e.id===(null==q?void 0:q.approvalTxId))),{srcNetwork:z,destNetwork:G}=(0,d.default)({bridgeHistoryItem:q,srcTxMeta:U}),Q=null==U?void 0:U.hash,K=(0,I.getBlockExplorerUrl)(z,Q),Y=null==q||null===(n=q.status.destChain)||void 0===n?void 0:n.txHash,J=(0,I.getBlockExplorerUrl)(G,Y),X=q?null==q?void 0:q.status.status:i.StatusTypes.PENDING,Z=(null==U?void 0:U.type)===s.TransactionType.bridge?X:null==U?void 0:U.status,ee=z?(0,E.getImageForChainId)(z.isEvm?(0,i.formatChainIdToHex)(z.chainId):z.chainId):undefined,te=G?(0,E.getImageForChainId)(G.isEvm?(0,i.formatChainIdToHex)(G.chainId):G.chainId):undefined,ne=w.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==z?void 0:z.chainId],re=w.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==G?void 0:G.chainId],oe=U?(0,m.getTransactionBreakdownData)({state:O,transaction:U,isTokenApprove:!1}):undefined,ae=(0,I.getBridgeAmountSentFormatted)({bridgeHistoryItem:q,txMeta:U}),se=(0,o.useSelector)((e=>(0,c.selectReceivedSwapsTokenAmountFromTxMeta)(e,null==q?void 0:q.txMetaId,U,V))),ie=(null==U?void 0:U.type)===s.TransactionType.swap&&se||(0,I.getBridgeAmountReceivedFormatted)({locale:N,bridgeHistoryItem:q,txMeta:U}),le=(null==U?void 0:U.type)===s.TransactionType.bridge&&(0,I.getIsDelayed)(X,q),ue=(0,v.getNativeTokenInfo)(O,(null==U?void 0:U.chainId)??""),ce=r.default.createElement(l.Box,{display:h.Display.Flex,gap:1,alignItems:h.AlignItems.center},z&&r.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,src:ee,name:null==z?void 0:z.name}),ne),de=r.default.createElement(l.Box,{display:h.Display.Flex,gap:1,alignItems:h.AlignItems.center},G&&r.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,src:te,name:null==G?void 0:G.name}),re);return r.default.createElement("div",{className:"bridge__container"},r.default.createElement(u.Header,{className:"bridge__header",startAccessory:r.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,size:l.ButtonIconSize.Sm,ariaLabel:D("back"),onClick:()=>R.goBack()})},D((null==U?void 0:U.type)===s.TransactionType.bridge?"bridgeDetailsTitle":"swapDetailsTitle")),r.default.createElement(u.Content,{className:"bridge-transaction-details__content"},r.default.createElement(l.Box,{display:h.Display.Flex,flexDirection:h.FlexDirection.Column,gap:4},le&&r.default.createElement(l.BannerAlert,{title:D("bridgeTxDetailsDelayedTitle"),severity:l.BannerAlertSeverity.Warning},r.default.createElement(l.Text,{display:h.Display.Flex,alignItems:h.AlignItems.center},D("bridgeTxDetailsDelayedDescription")," ",r.default.createElement(l.ButtonLink,{externalLink:!0,href:f.SUPPORT_REQUEST_LINK,onClick:()=>{B({category:T.MetaMetricsEventCategory.Home,event:T.MetaMetricsEventName.SupportLinkClicked,properties:{url:f.SUPPORT_REQUEST_LINK,location:"Bridge Tx Details"}},{contextPropsIntoEventProperties:[T.MetaMetricsContextProp.PageTitle]})}},D("bridgeTxDetailsDelayedDescriptionSupport")),".")),Z!==i.StatusTypes.COMPLETE&&(q||U)&&r.default.createElement(P.default,{bridgeHistoryItem:q,srcChainTxMeta:U}),r.default.createElement(M.default,{srcChainId:null==z?void 0:z.chainId,destChainId:null==G?void 0:G.chainId,srcBlockExplorerUrl:K,destBlockExplorerUrl:J}),r.default.createElement(k.ConfirmInfoRowDivider,null),r.default.createElement(l.Box,{display:h.Display.Flex,flexDirection:h.FlexDirection.Column,gap:2},r.default.createElement(_.default,{title:D("bridgeTxDetailsStatus"),value:r.default.createElement(l.Text,{textTransform:h.TextTransform.Capitalize,color:Z?I.STATUS_TO_COLOR_MAP[Z]:undefined},null==Z?void 0:Z.toLowerCase())}),(null==U?void 0:U.type)===s.TransactionType.bridge&&r.default.createElement(_.default,{title:D(Z===i.StatusTypes.COMPLETE?"bridgeTxDetailsBridged":"bridgeTxDetailsBridging"),value:r.default.createElement(l.Box,{display:h.Display.Flex,gap:1,alignItems:h.AlignItems.center,flexWrap:h.FlexWrap.Wrap,justifyContent:h.JustifyContent.flexEnd},ce,r.default.createElement(l.Icon,{name:l.IconName.Arrow2Right,size:l.IconSize.Sm}),de)}),(null==U?void 0:U.type)===s.TransactionType.swap&&r.default.createElement(_.default,{title:D((null==U?void 0:U.status)===s.TransactionStatus.confirmed?"bridgeTxDetailsSwapped":"bridgeTxDetailsSwapping"),value:r.default.createElement(l.Box,{display:h.Display.Flex,gap:1,alignItems:h.AlignItems.center,flexWrap:h.FlexWrap.Wrap,justifyContent:h.JustifyContent.flexEnd},q&&r.default.createElement(l.AvatarToken,{size:l.AvatarTokenSize.Xs,src:(null==q?void 0:q.quote.srcAsset.iconUrl)??undefined,name:null==q?void 0:q.quote.srcAsset.symbol}),null==q?void 0:q.quote.srcAsset.symbol,r.default.createElement(l.Icon,{name:l.IconName.Arrow2Right,size:l.IconSize.Sm}),q&&r.default.createElement(l.AvatarToken,{size:l.AvatarTokenSize.Xs,src:(null==q?void 0:q.quote.destAsset.iconUrl)??undefined,name:null==q?void 0:q.quote.destAsset.symbol}),null==q?void 0:q.quote.destAsset.symbol)}),r.default.createElement(_.default,{title:D("bridgeTxDetailsTimestamp"),value:D("bridgeTxDetailsTimestampValue",[(0,g.formatDate)(null==U?void 0:U.time,"MMM d, yyyy"),(0,g.formatDate)(null==U?void 0:U.time,"hh:mm a")])})),r.default.createElement(k.ConfirmInfoRowDivider,null),r.default.createElement(l.Box,{display:h.Display.Flex,flexDirection:h.FlexDirection.Column,gap:2},r.default.createElement(_.default,{title:D("bridgeTxDetailsYouSent"),value:r.default.createElement(l.Box,{display:h.Display.Flex,gap:1,alignItems:h.AlignItems.center,flexWrap:h.FlexWrap.Wrap,justifyContent:h.JustifyContent.flexEnd},D("bridgeTxDetailsTokenAmountOnChain",[ae??"",(null==q?void 0:q.quote.srcAsset.symbol)??""]),ce)}),ie&&(null==q?void 0:q.quote.destAsset.symbol)&&r.default.createElement(_.default,{title:D("bridgeTxDetailsYouReceived"),value:r.default.createElement(l.Box,{display:h.Display.Flex,gap:1,alignItems:h.AlignItems.center,flexWrap:h.FlexWrap.Wrap,justifyContent:h.JustifyContent.flexEnd},D("bridgeTxDetailsTokenAmountOnChain",[ie,null==q?void 0:q.quote.destAsset.symbol]),de)}),r.default.createElement(_.default,{title:D("bridgeTxDetailsTotalGasFee"),value:r.default.createElement(r.default.Fragment,null,(null==oe?void 0:oe.hexGasTotal)&&(null==ue?void 0:ue.decimals)&&(null==ue?void 0:ue.symbol)&&(0,A.formatTokenAmount)(N,new x.Numeric(oe.hexGasTotal,16).toBase(10).shiftedBy(ue.decimals??0).toString(),null==ue?void 0:ue.symbol))})),r.default.createElement(k.ConfirmInfoRowDivider,null),r.default.createElement(l.Box,{display:h.Display.Flex,flexDirection:h.FlexDirection.Column,gap:2},r.default.createElement(_.default,{title:D("bridgeTxDetailsNonce"),value:null!=U&&U.txParams.nonce?(0,p.hexToDecimal)(null==U?void 0:U.txParams.nonce):undefined}),$&&void 0!==W&&r.default.createElement(C.default,{transactionGroup:$,className:"transaction-list-item-details__transaction-activity-log",isEarliestNonce:W})))))}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/transaction-details.tsx"}],[7202,{"../../../helpers/utils/confirm-tx.util":7010,"../../../hooks/useCurrencyDisplay":7098,"../../confirmations/components/simulation-details/formatAmount":7381,"@metamask/bridge-controller":1483,"bignumber.js":3997},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isQuoteExpiredOrInvalid=n.formatTokenAmount=n.formatProviderLabel=n.formatCurrencyAmount=void 0;var r=e("bignumber.js"),o=e("@metamask/bridge-controller"),a=e("../../../helpers/utils/confirm-tx.util"),s=e("../../../hooks/useCurrencyDisplay"),i=e("../../confirmations/components/simulation-details/formatAmount");n.formatTokenAmount=(e,t,n="")=>[(0,i.formatAmount)(e,new r.BigNumber(t)),n].join(" ").trim();n.formatCurrencyAmount=(e,t,n=s.DEFAULT_PRECISION)=>{if(!e)return undefined;const o=new r.BigNumber(e);if(0===n){if(o.lt(.01))return"<$0.01";if(o.lt(1))return(0,a.formatCurrency)(o.toString(),t,2)}return(0,a.formatCurrency)(o.toString(),t,n)};n.formatProviderLabel=e=>`${null==e?void 0:e.bridgeId}_${null==e?void 0:e.bridges[0]}`;n.isQuoteExpiredOrInvalid=({activeQuote:e,toToken:t,toChain:n,fromChain:r,isQuoteExpired:a,insufficientBal:s})=>{if(a&&(!s||r&&(0,o.isSolanaChainId)(r.chainId)))return!0;if(e&&t){var i,l,u;const r=(null===(i=e.quote)||void 0===i||null===(i=i.destAsset)||void 0===i||null===(i=i.address)||void 0===i?void 0:i.toLowerCase())||"",a=(null===(l=t.address)||void 0===l?void 0:l.toLowerCase())||"",s=null!==(u=e.quote)&&void 0!==u&&u.destChainId?(0,o.formatChainIdToCaip)(e.quote.destChainId):"",c=null!=n&&n.chainId?(0,o.formatChainIdToCaip)(n.chainId):"";return!((r===a||(0,o.isNativeAddress)(r)&&(0,o.isNativeAddress)(a))&&s===c)}return!1}}}},{package:"$root$",file:"ui/pages/bridge/utils/quote.ts"}],[7203,{"../../../../shared/constants/time":5827,"../../../helpers/constants/design-system":6984,"../../confirmations/components/simulation-details/formatAmount":7381,"@metamask/bridge-controller":1483,"@metamask/transaction-controller":2925,"bignumber.js":3997},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsDelayed=n.getBridgeAmountSentFormatted=n.getBridgeAmountReceivedFormatted=n.getBlockExplorerUrl=n.STATUS_TO_COLOR_MAP=void 0;var r=e("@metamask/transaction-controller"),o=e("bignumber.js"),a=e("@metamask/bridge-controller"),s=e("../../../../shared/constants/time"),i=e("../../../helpers/constants/design-system"),l=e("../../confirmations/components/simulation-details/formatAmount");const u=(e,t)=>e&&t?`${e}/tx/${t}`:undefined;n.getBlockExplorerUrl=(e,t)=>{var n;if(!e||!t)return undefined;if(!e.isEvm)return u(e.blockExplorerUrl,t);const r=e.defaultBlockExplorerUrlIndex;if(r===undefined)return undefined;const o=null===(n=e.blockExplorerUrls[r])||void 0===n?void 0:n.replace(/\/$/u,"");return u(o,t)};n.getBridgeAmountSentFormatted=({bridgeHistoryItem:e,txMeta:t})=>{var n;if(!t)return undefined;const r=null==e||null===(n=e.pricingData)||void 0===n?void 0:n.amountSent,o=null==e?void 0:e.quote.srcAsset.decimals;return r&&o?r:undefined};n.getBridgeAmountReceivedFormatted=({locale:e,bridgeHistoryItem:t,txMeta:n})=>{var s,i,u;if(!n)return undefined;if(!(n.type===r.TransactionType.bridge&&t?t.status.status===a.StatusTypes.COMPLETE:n.status===r.TransactionStatus.confirmed))return undefined;const c=(null===(s=n.swapMetaData)||void 0===s?void 0:s.token_to_amount)??(null==t||null===(i=t.status.destChain)||void 0===i?void 0:i.amount)??(null==t?void 0:t.quote.destTokenAmount),d=(null===(u=n.swapMetaData)||void 0===u?void 0:u.token_to_decimals)??n.destinationTokenDecimals??(null==t?void 0:t.quote.destAsset.decimals);return c&&d?(0,l.formatAmount)(e,new o.BigNumber(c).dividedBy(10**d)):undefined};n.getIsDelayed=(e,t)=>{const n=10*s.MINUTE;return Boolean(e===a.StatusTypes.PENDING&&(null==t?void 0:t.startTime)&&Date.now()>t.startTime+n+1e3*t.estimatedProcessingTimeInSeconds)};n.STATUS_TO_COLOR_MAP={[a.StatusTypes.PENDING]:i.TextColor.warningDefault,[a.StatusTypes.COMPLETE]:i.TextColor.successDefault,[a.StatusTypes.FAILED]:i.TextColor.errorDefault,[a.StatusTypes.UNKNOWN]:i.TextColor.errorDefault,[r.TransactionStatus.unapproved]:i.TextColor.warningDefault,[r.TransactionStatus.confirmed]:i.TextColor.successDefault,[r.TransactionStatus.rejected]:i.TextColor.errorDefault,[r.TransactionStatus.cancelled]:i.TextColor.errorDefault,[r.TransactionStatus.failed]:i.TextColor.errorDefault,[r.TransactionStatus.submitted]:i.TextColor.warningDefault,[r.TransactionStatus.approved]:i.TextColor.warningDefault,[r.TransactionStatus.signed]:i.TextColor.warningDefault,[r.TransactionStatus.dropped]:i.TextColor.errorDefault}}}},{package:"$root$",file:"ui/pages/bridge/utils/tx-details.ts"}]],[],{});