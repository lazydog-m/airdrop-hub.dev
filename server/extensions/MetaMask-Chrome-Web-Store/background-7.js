LavaPack.loadBundle([[5934,{"../../shared/constants/network":5813,"../stub/networks":5942,"./constants":5932,"./default-fixture":5933,"./seeder/smart-contracts":5939,"@metamask/controller-utils":1559,"@metamask/preferences-controller":2423,"@metamask/snaps-utils":2853,lodash:4912},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){const{WALLET_SNAP_PERMISSION_KEY:n,SnapCaveatType:r}=e("@metamask/snaps-utils"),{merge:i,mergeWith:a}=e("lodash"),{toHex:s}=e("@metamask/controller-utils"),{ETHERSCAN_SUPPORTED_CHAIN_IDS:o}=e("@metamask/preferences-controller"),{mockNetworkStateOld:c}=e("../stub/networks"),{CHAIN_IDS:d}=e("../../shared/constants/network"),{SMART_CONTRACTS:u}=e("./seeder/smart-contracts"),{DAPP_URL:b,DAPP_URL_LOCALHOST:l,DAPP_ONE_URL:p,DEFAULT_FIXTURE_ACCOUNT:h}=e("./constants"),{defaultFixture:y,FIXTURE_STATE_METADATA_VERSION:g}=e("./default-fixture");f.exports=class{constructor({onboarding:e=!1,inputChainId:f=d.LOCALHOST}={}){this.fixture=!0===e?{data:{AppStateController:{browserEnvironment:{},nftsDropdownState:{},connectedStatusPopoverHasBeenShown:!0,defaultHomeActiveTabName:null,fullScreenGasPollTokens:[],notificationGasPollTokens:[],popupGasPollTokens:[],qrHardware:{},recoveryPhraseReminderHasBeenShown:!1,recoveryPhraseReminderLastShown:"__FIXTURE_SUBSTITUTION__currentDateInMilliseconds",showTestnetMessageInDropdown:!0,trezorModel:null},NetworkController:{...c({id:"networkConfigurationId",chainId:d.LOCALHOST,nickname:"Localhost 8545",rpcUrl:"http://localhost:8545",ticker:"ETH",blockExplorerUrl:undefined}),providerConfig:{id:"networkConfigurationId"}},NetworkOrderController:{enabledNetworkMap:{eip155:{[d.LOCALHOST]:!0},solana:{"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":!0}}},NotificationServicesController:{},PreferencesController:{advancedGasFee:{},currentLocale:"en",dismissSeedBackUpReminder:!1,overrideContentSecurityPolicyHeader:!0,featureFlags:{},forgottenPassword:!1,identities:{},ipfsGateway:"dweb.linkssssss",knownMethodData:{},ledgerTransportType:"webhid",lostIdentities:{},openSeaEnabled:!1,preferences:{hideZeroBalanceTokens:!1,showExtensionInFullSizeView:!1,showFiatInTestnets:!1,privacyMode:!1,showTestNetworks:!1,smartTransactionsOptInStatus:!0,showNativeTokenAsMainBalance:!0,petnamesEnabled:!0,showMultiRpcModal:!1,showConfirmationAdvancedDetails:!1,tokenSortConfig:{key:"tokenFiatAmount",order:"dsc",sortCallback:"stringNumeric"},tokenNetworkFilter:{},shouldShowAggregatedBalancePopover:!0},useExternalServices:!0,theme:"light",useBlockie:!1,useNftDetection:!1,usePhishDetect:!0,useTokenDetection:!1,useCurrencyRateCheck:!0,useMultiAccountBalanceChecker:!0,isMultiAccountBalancesEnabled:!0,showIncomingTransactions:{[o.MAINNET]:!0,[o.GOERLI]:!0,[o.BSC]:!0,[o.BSC_TESTNET]:!0,[o.OPTIMISM]:!0,[o.OPTIMISM_SEPOLIA]:!0,[o.POLYGON]:!0,[o.POLYGON_TESTNET]:!0,[o.AVALANCHE]:!0,[o.AVALANCHE_TESTNET]:!0,[o.FANTOM]:!0,[o.FANTOM_TESTNET]:!0,[o.SEPOLIA]:!0,[o.LINEA_GOERLI]:!0,[o.LINEA_SEPOLIA]:!0,[o.LINEA_MAINNET]:!0,[o.MOONBEAM]:!0,[o.MOONBEAM_TESTNET]:!0,[o.MOONRIVER]:!0,[o.GNOSIS]:!0,[o.MEGAETH_TESTNET]:!0,[o.MONAD_TESTNET]:!0},skipDeepLinkInterstitial:!1},SelectedNetworkController:{domains:{}},SmartTransactionsController:{smartTransactionsState:{fees:{},liveness:!0,smartTransactions:{[d.MAINNET]:[]}}},UserStorageController:{},TokensController:{allDetectedTokens:{},allIgnoredTokens:{},allTokens:{}},TransactionController:{},config:{},firstTimeInfo:{date:16655076e5,version:"10.21.0"}}}:y(f)}withAccountTracker(e){return i(this.fixture.data.AccountTracker,e),this}withAddressBookController(e){return i(this.fixture.data.AddressBookController?this.fixture.data.AddressBookController:this.fixture.data.AddressBookController={},e),this}withAlertController(e){return i(this.fixture.data.AlertController,e),this}withAnnouncementController(e){return i(this.fixture.data.AnnouncementController,e),this}withNetworkOrderController(e){return i(this.fixture.data.NetworkOrderController,e),this}withEnabledNetworks(e){var f;return i(this.fixture.data.NetworkOrderController,{networkOrder:null===(f=this.fixture.data.NetworkOrderController)||void 0===f?void 0:f.networkOrder}),this.fixture.data.NetworkOrderController.enabledNetworkMap=e,this}withAccountOrderController(e){return i(this.fixture.data.AccountOrderController,e),this}withAppStateController(e){return i(this.fixture.data.AppStateController,e),this}withCurrencyController(e){return i(this.fixture.data.CurrencyController,e),this}withConversionRateDisabled(){return this.withPreferencesController({useCurrencyRateCheck:!1})}withShowFiatTestnetEnabled(){return this.withPreferencesController({preferences:{showFiatInTestnets:!0}})}withConversionRateEnabled(){return this.withPreferencesController({useCurrencyRateCheck:!0})}withUseBasicFunctionalityDisabled(){return this.withPreferencesController({useExternalServices:!1})}withUseBasicFunctionalityEnabled(){return this.withPreferencesController({useExternalServices:!0})}withGasFeeController(e){return i(this.fixture.data.GasFeeController,e),this}withKeyringController(e){return i(this.fixture.data.KeyringController,e),this}withKeyringControllerAdditionalAccountVault(){return this.withKeyringController({vault:'{"data":"XBb1KJiGsxNOhcTC/xtzaNmpDqnMibJ/HCIjMGUHF/jPIghM63+xkoGcko9T2NKjeMyt2QLbl7K9tr0/qQgbAJP/LUn6gfovkajBdeBQ5N/qztdw7uGJsnrKnzo1krmb2wWeFstwoolcZ9GYwhYVSmCO/tYba50eanY2XvmFheT1ghowtiFmTIGRWV2X1HacnpI4n0rW88ZyBaVuOJOIJGEBiiTD+b0V5l9Tv4sFEms4jvatJwhjDQnx1HmyQE3K64+W5yJe764B0ZdcQ6j2dyIaGgutcz8PoQLBJR1uo78fufZeFzk1gk/BreXn2+4vQnPxQ3prhnXHO4S+7Kj1h2ticxYb3XWnprFLWyksu9ChMyqDXwgM6edLBRDH2jz/IMuC5g9JhABl7PsSH+001z/uBx3GvRTFviFF9dztf195/EPy8YbuYUVbYtJy1aPSju84efWYvb7GrzrmgFnbeh2BpjyWqHoCTdw8fhdm7HQO8GFF7JdGtoIpjkhwPrudIQeIYhGCezd+n5GFp3mdmFNrLbOVFgxufTdY6hlYkg6c5XuHC2VnWCSPwWKIn6t9VuvuyIxXBnol/bgYC8R/d99ctkPDHykigQcgr6cCnhPOwUFOLwrmXqm9HQeWiKb8WxwdGeRnblS+fhFhB+lSy7RvyTUb7HFogDPnDLP/LlUFxdSNNBgqNJU1Dc07Np65PZrpsPvSCfkFttzTytHswhtTEMOg/faaH2D6AwIGbh5Z9cubiNcMrdD75aT1WGuecJ8P7uOMYJq9C7e5l/35","iv":"U81Cv/oryQ1DI9lRezx1iw==","keyMetadata":{"algorithm":"PBKDF2","params":{"iterations":600000}},"salt":"ejIn0xx5qZMA0m2ekjvXJF2pJa8ocL11wEdNIFJsKZQ="}'})}withKeyringControllerImportedAccountVault(){return this.withKeyringController({vault:'{"data":"NlxYVSDJJV4B1DWM+fZ0KX1K2lIU9ozK3WMbbL23WEY036umZ9//qB+bN9R1jKMm6xqHGSGgq9EteFMy2Ix5Bx1/c4hV2QquFRTEzPB4TkQ6+P5eJUvgvZ7vqvVU+2W8719T1oz/O7DH7HbO05JPLD1RBY+XOyHzUzAgwmXq0mwxNpqji3ejHyrjZ/1l06igircW/qysLcjZFZ52Vv4a/q1zCL37/4heHDRVmfEob//ulUbJ/5M=","iv":"b9n77dsUqvww9nGcWfPuIA==","keyMetadata":{"algorithm":"PBKDF2","params":{"iterations":600000}},"salt":"XrmM930Jqnb7C9Ow5NErAMkSGR3vuMLsqUrkGjzpwaY="}'})}withKeyringControllerOldVault(){return this.withKeyringController({vault:'{"data":"s6TpYjlUNsn7ifhEFTkuDGBUM1GyOlPrim7JSjtfIxgTt8/6MiXgiR/CtFfR4dWW2xhq85/NGIBYEeWrZThGdKGarBzeIqBfLFhw9n509jprzJ0zc2Rf+9HVFGLw+xxC4xPxgCS0IIWeAJQ+XtGcHmn0UZXriXm8Ja4kdlow6SWinB7sr/WM3R0+frYs4WgllkwggDf2/Tv6VHygvLnhtzp6hIJFyTjh+l/KnyJTyZW1TkZhDaNDzX3SCOHT","iv":"FbeHDAW5afeWNORfNJBR0Q==","salt":"TxZ+WbCW6891C9LK/hbMAoUsSEW1E8pyGLVBU6x5KR8="}'})}withKeyringControllerMultiSRP(){return this.withKeyringController({vault:'{"data":"tM9QywcUa46iRvWsfvOL9mJqOrRLoVZoDuqTwxEt1Jz4qCpVIx8I/+7wMQuHBhe+DLBMSB7DzWeBpkCngTSE/mt6ygXWd96aKPH00PCW7uq/Z+8gdHQ3+ZGVCkTIDvLwOzG2gywrOfWRzRRcFwV545EV2iC6Q47A6KcgK/YokBeT4uVJ+oC309490eYn6/LkC+e+DNzJOlESs0LOynMJPMP0Wc53AvEuVlmYA2QLUKa+X6Eo1FEm91lg7znnNGTH7d7PVzDjElTQAUcQmiCvLfJU3cCmnVubarG/eOPWyL41u1z2IFMuf2QKoJNG7garFS+z4THtqWuR/NiYbNCJ70G6V2P0+9ntIWMk4qs4cBY4Pl3MPsyXBVhVoL+sLmuguY6iPijQVcPtd8G1HjTWOXNAVYSrdXjd4YHJuBBqgrjsqkkCHknilv6BiyHFH+pURP7zuPley9hiru5szuaKKU4NtpawQe0STQO5X35fI2xrH603etO9lhlK9lU+eFA+6jO0EynA1+HDIWT8iqX0gaOF6aPR/K1EKzbveP+EQbj7vIpOQs2+EJ4F4LYkExKczpvacgci84sLWGeT1e/aP1/dsVjuApUo0mtJaUtbljSvWoGuh6y8orTt6voyvHvbA+atPX+jla0/rWwy1lJ8o6PoXnyBMsgS+DSSamqXeMRKPI4S6GWiAMxLmvJvOEiC/uYRLrCzE0RxjIP9W6f2K+0VhAXJjPBp/t32NeHiwBfVeitdPwZUmMfhqzE0gvXyAd6cfzEnlyICfS8/DQkn74GDbdd1MdikdETCutDpiGEshacQT/scy0Z6n/5vuKkAGgrW66m39Ewqz6H2Rida5zgx1esrwZFy+8H57M2fa9KPa3ddye6J5Cd00JiqK/HiT20Uzt4h725iLNdkDrDT/mLlIGwbcSsSZxpTCYjtAAcN5JtWZNIp6xPOT889Tg9u3hHNy3g3VhVbYevtfTnVSgFFi+9B1JZ1OhL4NZC8bjyeNJ1pOUyLRZiRhgQ8aJPv5QytwDth+pJBvQslQ5UlrbhHRyd0RC0YrcyQ3WbapuDlJtdkkDuQg0OvevX+3F/Z/84uWvJ9qWBPkbOcn+ydULRDDouBmwsHqyY=","iv":"CR5flTdOsO77up6hbd8qQA==","keyMetadata":{"algorithm":"PBKDF2","params":{"iterations":600000}},"salt":"VY02O4NjlOhOKZI0/WPievKNVo2vOcg237YR5MrUW+c="}'})}withMetaMetricsController(e){return i(this.fixture.data.MetaMetricsController,e),this}withNetworkController(e){return i(this.fixture.data.NetworkController,e),this.fixture.data.NetworkController.providerConfig={id:this.fixture.data.NetworkController.selectedNetworkClientId},this}withNetworkControllerOnBnb(){return this.withNetworkController({networkConfigurations:{networkConfigurationId:{chainId:d.BSC,nickname:"Binance Chain",rpcPrefs:{},rpcUrl:"https://bsc-dataseed.binance.org",ticker:"BNB",networkConfigurationId:"networkConfigurationId",id:"networkConfigurationId"}}})}withNetworkControllerOnMainnet(){return this.withNetworkController({selectedNetworkClientId:"mainnet"})}withNetworkControllerOnLinea(){return this.withNetworkController({selectedNetworkClientId:"linea-mainnet"})}withNetworkControllerOnLineaLocahost(){return this.withNetworkController({networkConfigurations:{networkConfigurationId:{chainId:d.LINEA_MAINNET,nickname:"Localhost 8545",rpcPrefs:{},rpcUrl:"http://localhost:8545",ticker:"ETH",networkConfigurationId:"networkConfigurationId",id:"networkConfigurationId"}}})}withNetworkControllerOnOptimism(){return this.withNetworkController({networkConfigurations:{networkConfigurationId:{chainId:d.OPTIMISM,nickname:"Localhost 8545",rpcPrefs:{},rpcUrl:"https://mainnet.infura.io",ticker:"ETH",networkConfigurationId:"networkConfigurationId",id:"networkConfigurationId"}}})}withNetworkControllerOnPolygon(){return this.withNetworkController({networkConfigurations:{networkConfigurationId:{chainId:d.POLYGON,nickname:"Polygon Mainnet",rpcPrefs:{},rpcUrl:"https://mainnet.infura.io",ticker:"ETH",networkConfigurationId:"networkConfigurationId",id:"networkConfigurationId"}}})}withNetworkControllerDoubleNode(){const e=c({id:"76e9cd59-d8e2-47e7-b369-9c205ccb602c",rpcUrl:"http://localhost:8546",chainId:"0x53a",ticker:"ETH",nickname:"Localhost 8546"});return delete e.selectedNetworkClientId,this.withNetworkController(e)}withNetworkControllerTripleNode(){this.withNetworkControllerDoubleNode();const e=c({rpcUrl:"http://localhost:7777",chainId:"0x3e8",ticker:"ETH",nickname:"Localhost 7777",blockExplorerUrl:undefined});return delete e.selectedNetworkClientId,i(this.fixture.data.NetworkController,e),this}withNetworkControllerOnMegaETH(){return this.withNetworkController({selectedNetworkClientId:"megaeth-testnet",networkConfigurations:{"megaeth-testnet":{chainId:d.MEGAETH_TESTNET,nickname:"Mega Testnet",rpcUrl:"https://carrot.megaeth.com/rpc",ticker:"MegaETH",rpcPrefs:{blockExplorerUrl:"https://testnet.megaeth.com"},id:"megaeth-testnet",type:"rpc",isCustom:!0}}})}withNetworkControllerOnMonad(){return this.withNetworkController({selectedNetworkClientId:"monad-testnet",networkConfigurations:{"monad-testnet":{chainId:d.MONAD_TESTNET,nickname:"Monad Testnet",rpcUrl:"https://testnet-rpc.monad.xyz",ticker:"MON",rpcPrefs:{blockExplorerUrl:"https://testnet.monadexplorer.com"},id:"monad-testnet",type:"rpc",isCustom:!0}}})}withNftController(e){return i(this.fixture.data.NftController?this.fixture.data.NftController:this.fixture.data.NftController={},e),this}withDeFiPositionsController(e){return i(this.fixture.data.DeFiPositionsController?this.fixture.data.DeFiPositionsController:this.fixture.data.DeFiPositionsController={},e),this}withNftControllerERC1155(){return this.withNftController({allNftContracts:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{[s(1337)]:[{address:`__FIXTURE_SUBSTITUTION__CONTRACT${u.ERC1155}`}]}},allNfts:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{[s(1337)]:[{address:`__FIXTURE_SUBSTITUTION__CONTRACT${u.ERC1155}`,tokenId:"1",favorite:!1,isCurrentlyOwned:!0,name:"Rocks",description:"This is a collection of Rock NFTs.",image:"ipfs://bafkreifvhjdf6ve4jfv6qytqtux5nd4nwnelioeiqx5x2ez5yrgrzk7ypi",standard:"ERC1155",chainId:1337}]}},ignoredNfts:[]})}withNftControllerERC721(){return this.withNftController({allNftContracts:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{[s(1337)]:[{address:`__FIXTURE_SUBSTITUTION__CONTRACT${u.NFTS}`,name:"TestDappNFTs",symbol:"TDC"}]}},allNfts:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{[s(1337)]:[{address:`__FIXTURE_SUBSTITUTION__CONTRACT${u.NFTS}`,description:"Test Dapp NFTs for testing.",favorite:!1,image:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjM1MCIgd2lkdGg9IjM1MCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdGggaWQ9Ik15UGF0aCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZWQiIGQ9Ik0xMCw5MCBROTAsOTAgOTAsNDUgUTkwLDEwIDUwLDEwIFExMCwxMCAxMCw0MCBRMTAsNzAgNDUsNzAgUTcwLDcwIDc1LDUwIiAvPjwvZGVmcz48dGV4dD48dGV4dFBhdGggaHJlZj0iI015UGF0aCI+UXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nLjwvdGV4dFBhdGg+PC90ZXh0Pjwvc3ZnPg==",isCurrentlyOwned:!0,name:"Test Dapp NFTs #1",standard:"ERC721",tokenId:"1",chainId:1337}]}},ignoredNfts:[]})}withNotificationServicesController(e){return a(this.fixture.data.NotificationServicesController,e,((e,f)=>(Array.isArray(e)&&e.concat(f),undefined))),this}withOnboardingController(e){return i(this.fixture.data.OnboardingController,e),this}withPermissionController(e){return i(this.fixture.data.PermissionController,e),this}withBridgeControllerDefaultState(){return this.fixture.data.BridgeController={},this}withPermissionControllerConnectedToTestDapp({account:e="",useLocalhostHostname:f=!1}={}){const t=e||h;return this.withPermissionController({subjects:{[f?l:b]:{origin:f?l:b,permissions:{eth_accounts:{id:"ZaqPEWxyhNCJYACFw93jE",parentCapability:"eth_accounts",invoker:b,caveats:[{type:"restrictReturnedAccounts",value:[t.toLowerCase()]}],date:1664388714636}}}}})}withPermissionControllerConnectedToTestDappWithChains(e){return this.withPermissionController({subjects:{[b]:{origin:b,permissions:{eth_accounts:{id:"ZaqPEWxyhNCJYACFw93jE",parentCapability:"eth_accounts",invoker:b,caveats:[{type:"restrictReturnedAccounts",value:[h.toLowerCase()]}],date:1664388714636},"endowment:permitted-chains":{id:"D7cac0a2e3BD8f349506a",parentCapability:"endowment:permitted-chains",invoker:b,caveats:[{type:"restrictNetworkSwitching",value:e}],date:1664388714637}}}}})}withPermissionControllerConnectedToMultichainTestDapp({account:e="",useLocalhostHostname:f=!1,value:t=null}={}){const n=e||h,r={[f?l:b]:{origin:f?l:b,permissions:{"endowment:caip25":{caveats:[{type:"authorizedScopes",value:t??{requiredScopes:{},optionalScopes:{"eip155:1337":{accounts:[`eip155:1337:${n.toLowerCase()}`]},"wallet:eip155":{accounts:[`wallet:eip155:${n.toLowerCase()}`]},wallet:{accounts:[]}},isMultichainOrigin:!0}}],id:"ZaqPEWxyhNCJYACFw93jE",date:1664388714636,invoker:b,parentCapability:"endowment:caip25"}}}};return this.withPermissionController({subjects:r})}withPermissionControllerConnectedToMultichainTestDappWithTwoAccounts({scopes:e=["eip155:1337"]}){const f=e.map((e=>({[e]:{accounts:[`${e}:0x5cfe73b6021e818b776b421b1c4db2474086a7e1`,`${e}:0x09781764c08de8ca82e156bbf156a3ca217c7950`]}}))).reduce(((e,f)=>({...e,...f})),{}),t={[b]:{origin:b,permissions:{"endowment:caip25":{caveats:[{type:"authorizedScopes",value:{requiredScopes:{},optionalScopes:f,isMultichainOrigin:!0}}],id:"ZaqPEWxyhNCJYACFw93jE",date:1664388714636,invoker:b,parentCapability:"endowment:caip25"}}}};return this.withPermissionController({subjects:t})}withPermissionControllerConnectedToTestDappWithTwoAccounts(){const e={[b]:{origin:b,permissions:{eth_accounts:{id:"ZaqPEWxyhNCJYACFw93jE",parentCapability:"eth_accounts",invoker:b,caveats:[{type:"restrictReturnedAccounts",value:["0x5cfe73b6021e818b776b421b1c4db2474086a7e1","0x09781764c08de8ca82e156bbf156a3ca217c7950"]}],date:1664388714636}}}};return this.withPermissionController({subjects:e})}withPermissionControllerSnapAccountConnectedToTestDapp(){return this.withPermissionController({subjects:{[b]:{origin:b,permissions:{eth_accounts:{id:"ZaqPEWxyhNCJYACFw93jE",parentCapability:"eth_accounts",invoker:b,caveats:[{type:"restrictReturnedAccounts",value:["0x09781764c08de8ca82e156bbf156a3ca217c7950"]}],date:1664388714636}}}}})}withPermissionControllerConnectedToTwoTestDapps(){return this.withPermissionController({subjects:{[b]:{origin:b,permissions:{eth_accounts:{id:"ZaqPEWxyhNCJYACFw93jE",parentCapability:"eth_accounts",invoker:b,caveats:[{type:"restrictReturnedAccounts",value:["0x5cfe73b6021e818b776b421b1c4db2474086a7e1"]}],date:1664388714636}}},[p]:{origin:p,permissions:{eth_accounts:{id:"AqPEWxyhNCJYACFw93jE4",parentCapability:"eth_accounts",invoker:p,caveats:[{type:"restrictReturnedAccounts",value:["0x5cfe73b6021e818b776b421b1c4db2474086a7e1"]}],date:1664388714636}}}}})}withPermissionControllerConnectedToSnapDapp(){return this.withPermissionController({subjects:{"https://metamask.github.io":{origin:"https://metamask.github.io",permissions:{[n]:{caveats:[{type:r.SnapIds,value:{"npm@metamask/test-snap-bip32":{},"npm@metamask/test-snap-bip44":{},"npm@metamask/test-snap-error":{},"npm@metamask/test-snap-managestate":{},"npm@metamask/test-snap-notification":{}}}],id:"CwdJq0x8N_b9FNxn6dVuP",parentCapability:n,invoker:"https://metamask.github.io",date:1664388714636}}}}})}withPermissionLogController(e){return i(this.fixture.data.PermissionLogController?this.fixture.data.PermissionLogController:this.fixture.data.PermissionLogController={},e),this}withPreferencesController(e){return i(this.fixture.data.PreferencesController,e),this}withPreferencesControllerAdditionalAccountIdentities(){return this.withPreferencesController({identities:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{address:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",lastSelected:16655076e5,name:"Account 1"},"0x09781764c08de8ca82e156bbf156a3ca217c7950":{address:"0x09781764c08de8ca82e156bbf156a3ca217c7950",lastSelected:16655078e5,name:"Account 2"}}})}withPreferencesControllerImportedAccountIdentities(){return this.withPreferencesController({identities:{"0x0cc5261ab8ce458dc977078a3623e2badd27afd3":{name:"Account 1",address:"0x0cc5261ab8ce458dc977078a3623e2badd27afd3",lastSelected:16655076e5},"0x3ed0ee22e0685ebbf07b2360a8331693c413cc59":{name:"Account 2",address:"0x3ed0ee22e0685ebbf07b2360a8331693c413cc59"},"0xd38d853771fb546bd8b18b2f3638491bc0b0e906":{name:"Account 3",address:"0xd38d853771fb546bd8b18b2f3638491bc0b0e906"}},selectedAddress:"0x0cc5261ab8ce458dc977078a3623e2badd27afd3"})}withPreferencesControllerPetnamesDisabled(){return this.withPreferencesController({preferences:{petnamesEnabled:!1}})}withPreferencesControllerShowNativeTokenAsMainBalanceDisabled(){return this.withPreferencesController({preferences:{showNativeTokenAsMainBalance:!1}})}withPreferencesControllerTxSimulationsDisabled(){return this.withPreferencesController({useTransactionSimulations:!1})}withPreferencesControllerSmartTransactionsOptedOut(){return this.withPreferencesController({preferences:{smartTransactionsOptInStatus:!1}})}withAccountsController(e){return i(this.fixture.data.AccountsController,e),this}withAccountsControllerImportedAccount(){return this.withAccountsController({internalAccounts:{selectedAccount:"2fdb2de6-80c7-4d2f-9f95-cb6895389843",accounts:{"2fdb2de6-80c7-4d2f-9f95-cb6895389843":{id:"2fdb2de6-80c7-4d2f-9f95-cb6895389843",address:"0x0cc5261ab8ce458dc977078a3623e2badd27afd3",options:{},methods:["personal_sign","eth_signTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"],type:"eip155:eoa",scopes:["eip155:0"],metadata:{name:"Account 1",lastSelected:16655076e5,keyring:{type:"HD Key Tree"}}},"58093703-57e9-4ea9-8545-49e8a75cb084":{id:"58093703-57e9-4ea9-8545-49e8a75cb084",address:"0x3ed0ee22e0685ebbf07b2360a8331693c413cc59",options:{},methods:["personal_sign","eth_signTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"],type:"eip155:eoa",scopes:["eip155:0"],metadata:{name:"Account 2",keyring:{type:"HD Key Tree"}}},"dd658aab-abf2-4f53-b735-c8a57151d447":{id:"dd658aab-abf2-4f53-b735-c8a57151d447",address:"0xd38d853771fb546bd8b18b2f3638491bc0b0e906",options:{},methods:["personal_sign","eth_signTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"],type:"eip155:eoa",scopes:["eip155:0"],metadata:{name:"Account 3",keyring:{type:"HD Key Tree"}}}}}})}withAccountsControllerAdditionalAccountIdentities(){return this.withAccountsController({internalAccounts:{accounts:{"d5e45e4a-3b04-4a09-a5e1-39762e5c6be4":{id:"d5e45e4a-3b04-4a09-a5e1-39762e5c6be4",address:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",options:{},methods:["personal_sign","eth_signTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"],type:"eip155:eoa",scopes:["eip155:0"],metadata:{name:"Account 1",lastSelected:16655076e5,keyring:{type:"HD Key Tree"}}},"e9976a84-110e-46c3-9811-e2da7b5528d3":{id:"e9976a84-110e-46c3-9811-e2da7b5528d3",address:"0x09781764c08de8ca82e156bbf156a3ca217c7950",options:{},methods:["personal_sign","eth_signTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"],type:"eip155:eoa",scopes:["eip155:0"],metadata:{name:"Account 2",lastSelected:16655078e5,keyring:{type:"HD Key Tree"}}}}},selectedAccount:"d5e45e4a-3b04-4a09-a5e1-39762e5c6be4"})}withPreferencesControllerNftDetectionEnabled(){return this.withPreferencesController({openSeaEnabled:!0,useNftDetection:!0})}withSelectedNetworkController(e){return i(this.fixture.data.SelectedNetworkController,e),this}withSelectedNetworkControllerPerDomain(){return i(this.withSelectedNetworkController({domains:{[b]:"networkConfigurationId",[p]:"76e9cd59-d8e2-47e7-b369-9c205ccb602c"}}),this)}withSmartTransactionsController(e){return i(this.fixture.data.SmartTransactionsController,e),this}withSubjectMetadataController(e){return i(this.fixture.data.SubjectMetadataController,e),this}withTokenListController(e){return i(this.fixture.data.TokenListController?this.fixture.data.TokenListController:this.fixture.data.TokenListController={},e),this}withTokensController(e){return i(this.fixture.data.TokensController,e),this}withBadPreferencesControllerState(){return i(this.fixture.data,{PreferencesController:5}),this}withTokensControllerERC20({chainId:e=1337}={}){return i(this.fixture.data.TokensController,{allTokens:{[s(e)]:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":[{address:`__FIXTURE_SUBSTITUTION__CONTRACT${u.HST}`,symbol:"TST",decimals:4,image:"https://static.cx.metamask.io/api/v1/tokenIcons/1337/0x581c3c1a2a4ebde2a0df29b5cf4c116e42945947.png",isERC721:!1,aggregators:[]}]}},allIgnoredTokens:{},allDetectedTokens:{}}),this}withTransactionController(e){return i(this.fixture.data.TransactionController?this.fixture.data.TransactionController:this.fixture.data.TransactionController={},e),this}withTransactionControllerApprovedTransaction(){return this.withTransactionController({transactions:{"13a01e77-a368-4bb9-aba9-e7435580e3b9":{chainId:d.LOCALHOST,history:[{chainId:d.LOCALHOST,id:"13a01e77-a368-4bb9-aba9-e7435580e3b9",loadingDefaults:!0,origin:"metamask",status:"unapproved",time:1617228030067,txParams:{from:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",gas:"0x61a8",maxFeePerGas:"0x59682f0c",maxPriorityFeePerGas:"0x59682f00",to:"0x2f318C334780961FB129D2a6c30D0763d9a5C970",type:"0x2",value:"0xde0b6b3a7640000"},type:"simpleSend"},[{note:"Added new unapproved transaction.",op:"replace",path:"/loadingDefaults",timestamp:1617228030069,value:!1}],[{op:"add",path:"/txParams/nonce",value:"0x0",note:"transactions#approveTransaction",timestamp:1617228031069}]],id:"13a01e77-a368-4bb9-aba9-e7435580e3b9",loadingDefaults:!1,origin:"metamask",primaryTransaction:{chainId:d.LOCALHOST,id:"13a01e77-a368-4bb9-aba9-e7435580e3b9",loadingDefaults:!0,origin:"metamask",status:"approved",time:1617228030067,txParams:{from:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",gas:"0x61a8",maxFeePerGas:"0x59682f0c",maxPriorityFeePerGas:"0x59682f00",to:"0x2f318C334780961FB129D2a6c30D0763d9a5C970",type:"0x2",value:"0xde0b6b3a7640000"},type:"sentEther"},status:"approved",time:1617228030067,txParams:{from:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",gas:"0x61a8",maxFeePerGas:"0x59682f0c",maxPriorityFeePerGas:"0x59682f00",to:"0x2f318C334780961FB129D2a6c30D0763d9a5C970",type:"0x2",value:"0xde0b6b3a7640000"},type:"simpleSend"}}})}withTransactionControllerCompletedTransaction(){return this.withTransactionController({transactions:{"0c9342ce-ef3f-4cab-9425-8e57144256a6":{chainId:d.LOCALHOST,history:[{chainId:d.LOCALHOST,id:"0c9342ce-ef3f-4cab-9425-8e57144256a6",loadingDefaults:!0,origin:"metamask",status:"unapproved",time:1671635506502,txParams:{from:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",gas:"0x5208",maxFeePerGas:"0x4c03c96f8",maxPriorityFeePerGas:"0x59682f00",to:"0x2f318C334780961FB129D2a6c30D0763d9a5C970",type:"0x2",value:"0xde0b6b3a7640000"},type:"simpleSend"},[{note:"Added new unapproved transaction.",op:"replace",path:"/loadingDefaults",timestamp:1671635506520,value:!1}],[{note:"confTx: user approved transaction",op:"replace",path:"/txParams/maxFeePerGas",timestamp:1671635510589,value:"0x4d7fc07fb"}],[{note:"txStateManager: setting status to approved",op:"replace",path:"/status",timestamp:1671635510589,value:"approved"}],[{note:"transactions#approveTransaction",op:"add",path:"/txParams/nonce",timestamp:1671635510592,value:"0x2"}],[{note:"txStateManager: setting status to signed",op:"replace",path:"/status",timestamp:1671635510651,value:"signed"}],[{note:"transactions#publishTransaction",op:"add",path:"/rawTx",timestamp:1671635510653,value:"0x02f87205028459682f008504d7fc07fb825208947d17148ed7ec802e4458e94deec1ef28aef645e987038d7ea4c6800080c001a0c60aeaef1556a52b009e3973f06c64d5cd6dc935463afd0d2b1c00661655e47ea061b121db8f2cb2241b1454d1794256e5634d26a5b873e89a816efe210377492a"}],[{note:"txStateManager: setting status to submitted",op:"replace",path:"/status",timestamp:1671635510753,value:"submitted"}],[{note:"txStateManager: setting status to confirmed",op:"replace",path:"/status",timestamp:1671635522978,value:"confirmed"},{op:"add",path:"/txReceipt",value:{blockNumber:"7cbf95",from:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",gasUsed:"5208",status:"0x1",to:"0x2f318C334780961FB129D2a6c30D0763d9a5C970",type:"0x2"}}],[{note:"transactions#confirmTransaction - add txReceipt",op:"replace",path:"/blockTimestamp",timestamp:1671635522999,value:"63a32240"}]],id:"0c9342ce-ef3f-4cab-9425-8e57144256a6",loadingDefaults:!1,origin:"metamask",status:"confirmed",submittedTime:1671635510753,time:1671635506502,txParams:{from:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",gas:"0x5208",to:"0x2f318C334780961FB129D2a6c30D0763d9a5C970",type:"0x2",value:"0xde0b6b3a7640000"},hash:"0xe5e7b95690f584b8f66b33e31acc6184fea553fa6722d42486a59990d13d5fa2",txReceipt:{blockNumber:{length:1,negative:0,words:[8175509,null]},from:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",status:"0x1",to:"0x2f318C334780961FB129D2a6c30D0763d9a5C970",type:"0x2"},type:"simpleSend"}}})}withTransactionControllerIncomingTransaction(){return this.withTransactionController({transactions:{"8a13fd36-fdad-48ae-8b6a-c8991026d550":{blockNumber:"1",chainId:d.LOCALHOST,hash:"0xf1af8286e4fa47578c2aec5f08c108290643df978ebc766d72d88476eee90bab",id:"8a13fd36-fdad-48ae-8b6a-c8991026d550",status:"confirmed",time:167163552e4,txParams:{from:"0xc87261ba337be737fa744f50e7aaf4a920bdfcd6",gas:"0x5208",gasPrice:"0x329af9707",to:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",value:"0xDE0B6B3A7640000"},type:"incoming"}}})}withTransactionControllerCompletedAndIncomingTransaction(){const e=this.withTransactionControllerCompletedTransaction().fixture.data.TransactionController.transactions,f=this.withTransactionControllerIncomingTransaction().fixture.data.TransactionController.transactions;return this.withTransactionController({transactions:{...e,...f}})}withConnectionsToManyDapps(){return this.withPermissionController({subjects:{"https://app.ens.domains":{origin:"https://app.ens.domains",permissions:{eth_accounts:{id:"oKXoF_MNlffiR2u1Y3mDE",parentCapability:"eth_accounts",invoker:"https://app.ens.domains",caveats:[{type:"restrictReturnedAccounts",value:["0xbee150bdc171c7d4190891e78234f791a3ac7b24","0xb9504634e5788208933b51ae7440b478bfadf865"]}],date:1708029792962}}},"https://app.uniswap.org":{origin:"https://app.uniswap.org",permissions:{eth_accounts:{id:"vaa88u5Iv3VmsJwG3bDKW",parentCapability:"eth_accounts",invoker:"https://app.uniswap.org",caveats:[{type:"restrictReturnedAccounts",value:["0xbee150bdc171c7d4190891e78234f791a3ac7b24","0xd1ca923697a701cba1364d803d72b4740fc39bc9"]}],date:1708029870079}}},"https://www.dextools.io":{origin:"https://www.dextools.io",permissions:{eth_accounts:{id:"bvvPcFtIhkFyHyW0Tmwi4",parentCapability:"eth_accounts",invoker:"https://www.dextools.io",caveats:[{type:"restrictReturnedAccounts",value:["0xbee150bdc171c7d4190891e78234f791a3ac7b24","0xa5c5293e124d04e2f85e8553851001fd2f192647","0xb9504634e5788208933b51ae7440b478bfadf865"]}],date:1708029948170}}},"https://coinmarketcap.com":{origin:"https://coinmarketcap.com",permissions:{eth_accounts:{id:"AiblK84K1Cic-Y0FDSzMD",parentCapability:"eth_accounts",invoker:"https://coinmarketcap.com",caveats:[{type:"restrictReturnedAccounts",value:["0xbee150bdc171c7d4190891e78234f791a3ac7b24"]}],date:1708030049641}}}},subjectMetadata:{"https://ens.domains":{iconUrl:null,name:"ens.domains",subjectType:"website",origin:"https://ens.domains",extensionId:null},"https://app.ens.domains":{iconUrl:"https://app.ens.domains/favicon-32x32.png",name:"ENS",subjectType:"website",origin:"https://app.ens.domains",extensionId:null},"https://app.uniswap.org":{iconUrl:"https://app.uniswap.org/favicon.png",name:"Uniswap Interface",subjectType:"website",origin:"https://app.uniswap.org",extensionId:null},"https://www.dextools.io":{iconUrl:"https://www.dextools.io/app/favicon.ico",name:"DEXTools.io",subjectType:"website",origin:"https://www.dextools.io",extensionId:null},"https://coinmarketcap.com":{iconUrl:"https://coinmarketcap.com/favicon.ico",name:"CoinMarketCap",subjectType:"website",origin:"https://coinmarketcap.com",extensionId:null}}})}withNameController(e){return i(this.fixture.data.NameController?this.fixture.data.NameController:this.fixture.data.NameController={},e),this}withNoNames(){return this.withNameController({names:{}})}withLedgerAccount(){return this.withKeyringController({vault:'{"data":"kCehIbrW5j8AKVLEdUUaidsTomloRQLmLnEIYUA+HHMCJTJ9/dX+B692ExnrgWlZK4PySLTVoofQZjgQcKVMHi+mO5wnPV3p4sKKpv/w1zh0AIx5h25zDln5DbyHWjJtUKISOvKyLvZ02I0oqFvVGF6Wae/TNLelUleYwjP02h39//Fkgy8hukDNMmscBlX/Vx3iNwyie9X7FXKXMHrHcMhSjRJaZxri48SOWbchx31hfZuv8oP2l1yJkrWv82JjkiZYoQcbGkBRis06GnfFU62cKyqh9ZrIRHb6yj8g7SjRF5mMe7czA3QdJQjUMHJLq9IV2To+WOiOsKd+CVrjvNR9A1fWrRlAvQENDWO9FxaBuuBsNF2mm9KHqowSXD+/TUP1fiftyTnxs9mzojKReX8fPP0qjlIE7Sv71OfKvD1+7zW1udWmgoO+RcCFj3tQ5wXc6/MAYB2N2vfSHB9k+AgUYvajtaf0cb4gdm3KDPhriv1sDkOenaKbZLGLnsbfMWAbTQPrwCDdhiOvHBUfCVrV1ac0FlUIERdNkxDMwbd9BllyscPsif9VNuZCUzzeboTk0LTm1FszgFD8UxlvCfxB9Z5pZgk5ublhAkWZGZuckfVTEPofcELNx8VVf2Un8Yju8QzX7XGwNTTg/v5jLx52NrGWHvWIRUHRjnLK6hOVL26yRbds4e6FK4vsi1Hxi85HiiB1J2RX3gBfl14R2/1nCpLZePnEUaH6TgGPzsbzlJsSsCktGvMZaLdD","iv":"utoVJtRyaiuYF9PnhgZD8w==","keyMetadata":{"algorithm":"PBKDF2","params":{"iterations":600000}},"salt":"PwqqENo0YiZXcRrMzg+ujLG2VtyTNkKBCvFMsnzFefk="}'}).withPreferencesController({identities:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{address:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",lastSelected:16655076e5,name:"Account 1"},"0xf68464152d7289d7ea9a2bec2e0035c45188223c":{address:"0xf68464152d7289d7ea9a2bec2e0035c45188223c",lastSelected:16655078e5,name:"Ledger 1"}},selectedAddress:"0xf68464152d7289d7ea9a2bec2e0035c45188223c"})}withTrezorAccount(){return this.withAccountTracker({accounts:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{address:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",balance:"0x15af1d78b58c40000"},"0xf68464152d7289d7ea9a2bec2e0035c45188223c":{address:"0xf68464152d7289d7ea9a2bec2e0035c45188223c",balance:"0x100000000000000000000"}},currentBlockGasLimit:"0x1c9c380",accountsByChainId:{"0x539":{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{address:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",balance:"0x15af1d78b58c40000"},"0xf68464152d7289d7ea9a2bec2e0035c45188223c":{address:"0xf68464152d7289d7ea9a2bec2e0035c45188223c",balance:"0x100000000000000000000"}}},currentBlockGasLimitByChainId:{"0x539":"0x1c9c380"}}).withAccountsController({internalAccounts:{accounts:{"d5e45e4a-3b04-4a09-a5e1-39762e5c6be4":{id:"d5e45e4a-3b04-4a09-a5e1-39762e5c6be4",address:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",options:{},methods:["personal_sign","eth_sign","eth_signTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"],type:"eip155:eoa",scopes:["eip155:0"],metadata:{name:"Account 1",importTime:1724486724986,lastSelected:16655076e5,keyring:{type:"HD Key Tree"}}},"221ecb67-0d29-4c04-83b2-dff07c263634":{id:"221ecb67-0d29-4c04-83b2-dff07c263634",address:"0xf68464152d7289d7ea9a2bec2e0035c45188223c",options:{},methods:["personal_sign","eth_sign","eth_signTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"],type:"eip155:eoa",scopes:["eip155:0"],metadata:{name:"Trezor 1",importTime:1724486729079,keyring:{type:"Trezor Hardware"},lastSelected:1724486729083}}},selectedAccount:"221ecb67-0d29-4c04-83b2-dff07c263634"}}).withKeyringController({vault:'{"data":"NPUZE4s9SQOrsw1GtJSnQ9ptC3J1nf3O+hWT3N8Oh5MDcyO0XojQfSBZL88FgjuAGMT+oFEnX8gzsd1x0/Z7iinNSOD+U22LJ6w37Pkfw4mqAYvKJDbnb2HAdjNbjGD99PKn1qe5eR0vohL5taFW2lTKdlE3dficITFM9wm9mQTegQVvYClTSktweumFSTMxqO1fUPj7oacLmw69ZAk2/am4fhI4c6ZeJoAkvPTJvYZDOne3WkUlcuUoeJjCX7b/59NQNHeCry8OyWVMCZDMYFsJT9Pk2vlFgnVL69n9dRGHrZNuNGFOhFawta5TqDUn1Ya7Iq0FjBW1WQv+HKktMM+RA8KZZyAAJkXYHRMpmUhQkw4wQFELgHjKFm/NIYcFVT5t6/XIj9kLqh4+55krUGoEHygzX41uSNie/wNmLjTgNAZv/eK9R81vyv1FR8N1fgkr13KxQT/0o/bQZhnaVClFa/3t13epiRrU/1plVh2TaI7HLFLj69d4c7w96J7Z33osjCywpNCJLam3Xx5OLAaPVe+L7a9u/zOMmryxX37xCrQhn9YSzZ0+E9Hik9CZU9ZXqmNgRhYAoqpcRWgMVmEC2HRLBIXXF0VTyYvfUvEfn87iAsqw0KeoQagDpUPsEr8UU9zs6cGRqZZTfR6/Wa3UwuIwV5XnCRg3Eifiz2BHKG4kutxKIJJak9habIfXBjxMrrwrHns7tWmWmE3JRYoekJQxFdWP3mcnDHVNz2VscgWeW5bZEoBim91iPRbsXimX9605xE0WOaHpwu27G9LwTNwL+0f8BgwoCcfMbaKwoDGVqKFOSbKurYBByPmWsm1b10vVrnsxA3VZMd2HWhicD7DE5h/4R+7Z90VthpVwt4NQ7+QmXeSXqCpPcoq7UTrchdYgV95xbKna1r0lSnZSfUMALji1I2Nh96ki24SbbUEeFZGm4dxNSnub07hTKF6xeqS1FvV79hBpZi/6v+pS+SDNSlwEcfRWW3S02Ec6JAhK2rVCQqSwasFcVcznYB5OaKL6QCmriIpqH0ATsthAwsf9naHSU+36wwi3xogxbpzecjaZ8gxKs2wmJk+Rz6VoGB+z9DTzvha5sm4DmfuQ2CtbQNYZq20VG3hO9g7wzWwa5xZmbH7njBDqlpaNgmxMrAX1S+T8D7X6ElD+aH0MyP9UD5E5tT5xxgUAV0wi+LY0+uCi2Y2lragFM7ihmPr1MP5wEy/1eIf45cY3imfl9w0F/FrCo+Hy2Au9AueCCab2eabA8QAum3lhXtdOyc123sSghIPjC6RUlZE53skLx1cPaV5JJAkneQJ44QMWecLQjh3YyCzRQ8XCnFAL+Kmf7zW5t+l25PLCkcfuLE7zxvLsTz3w2TCIXzEJyw1vXjBzPTUdKCNSva0WGsbq5B93zYot6bmvK1RKHeje8Ed/4N/l8uwxulUAjYQ+94qDKkxTVxvAZ8ydoxwKuB8QCTXgbymDsF/Y5l+RDXmzMT8BdN/QtdjsCXJ2PjvBG+srQOPntOCZMS7FVMk9yc6MWE/DBDm7HtY5CiY3af4A5sOZmLSP3Ek91ijmYdr/nO32DnkV4NJ2/Hj8SWAK5OD8zq8q5uRlR8BDcj7oLnzJX4S+yJNJ/nZSleUyTsv5v6YZ8hno","iv":"6SgfUVcvgUDGbCuqmdZgbA==","keyMetadata":{"algorithm":"PBKDF2","params":{"iterations":600000}},"salt":"nk4xdpmMR+1s5BYe4Vnk++XAQwrISI2bCtbMg7V1wUA="}'}).withNameController({names:{ethereumAddress:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{"*":{name:"Account 1",sourceId:null,proposedNames:{},origin:"account-identity"}},"0xf68464152d7289d7ea9a2bec2e0035c45188223c":{"*":{proposedNames:{},name:"Trezor 1",sourceId:null,origin:"account-identity"}}}}}).withPreferencesController({identities:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{address:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",lastSelected:16655076e5,name:"Account 1"},"0xf68464152d7289d7ea9a2bec2e0035c45188223c":{address:"0xf68464152d7289d7ea9a2bec2e0035c45188223c",lastSelected:16655078e5,name:"Trezor 1"}},lostIdentities:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{address:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",name:"Account 1",lastSelected:16655076e5},"0xf68464152d7289d7ea9a2bec2e0035c45188223c":{address:"0xf68464152d7289d7ea9a2bec2e0035c45188223c",name:"Trezor 1",lastSelected:16655078e5}},selectedAddress:"0xf68464152d7289d7ea9a2bec2e0035c45188223c"})}withIncomingTransactionsCache(e){return this.withTransactionController({lastFetchedBlockNumbers:e})}withTransactions(e){return this.withTransactionController({transactions:e})}withPopularNetworks(){return this.withNetworkController({networkConfigurations:{"op-mainnet":{chainId:d.OPTIMISM,nickname:"OP Mainnet",rpcPrefs:{},rpcUrl:"https://mainnet.optimism.io",ticker:"ETH",id:"op-mainnet"},"polygon-mainnet":{chainId:d.POLYGON,nickname:"Polygon Mainnet",rpcPrefs:{},rpcUrl:"https://polygon-rpc.com",ticker:"MATIC",id:"polygon-mainnet"},"arbitrum-one":{chainId:d.ARBITRUM,nickname:"Arbitrum One",rpcPrefs:{},rpcUrl:"https://arb1.arbitrum.io/rpc",ticker:"ETH",id:"arbitrum-one"},"avalanche-mainnet":{chainId:d.AVALANCHE,nickname:"Avalanche Network C-Chain",rpcPrefs:{},rpcUrl:"https://api.avax.network/ext/bc/C/rpc",ticker:"AVAX",id:"avalanche-mainnet"},"bnb-mainnet":{chainId:d.BSC,nickname:"BNB Chain",rpcPrefs:{},rpcUrl:"https://bsc-dataseed.binance.org",ticker:"BNB",id:"bnb-mainnet"},"zksync-mainnet":{chainId:d.ZKSYNC_ERA,nickname:"zkSync Era",rpcPrefs:{},rpcUrl:"https://mainnet.era.zksync.io",ticker:"ETH",id:"zksync-mainnet"}}})}withSnapController(e){var f;return(f=this.fixture.data).SnapController??(f.SnapController={}),i(this.fixture.data.SnapController,e),this}withSnapControllerOnStartLifecycleSnap(){return this.withPermissionController({subjects:{"npm:@metamask/lifecycle-hooks-example-snap":{origin:"npm:@metamask/lifecycle-hooks-example-snap",permissions:{"endowment:lifecycle-hooks":{caveats:null,date:1750244440562,id:"0eKn8SjGEH6o_6Mhcq3Lw",invoker:"npm:@metamask/lifecycle-hooks-example-snap",parentCapability:"endowment:lifecycle-hooks"},snap_dialog:{caveats:null,date:1750244440562,id:"Fbme_UWcuSK92JqfrT4G2",invoker:"npm:@metamask/lifecycle-hooks-example-snap",parentCapability:"snap_dialog"}}}}}).withSnapController({snaps:{"npm:@metamask/lifecycle-hooks-example-snap":{auxiliaryFiles:[],blocked:!1,enabled:!0,id:"npm:@metamask/lifecycle-hooks-example-snap",initialPermissions:{"endowment:lifecycle-hooks":{},snap_dialog:{}},localizationFiles:[],manifest:{description:"MetaMask example snap demonstrating the use of the `onStart`, `onInstall`, and `onUpdate` lifecycle hooks.",initialPermissions:{"endowment:lifecycle-hooks":{},snap_dialog:{}},manifestVersion:"0.1",platformVersion:"8.1.0",proposedName:"Lifecycle Hooks Example Snap",repository:{type:"git",url:"https://github.com/MetaMask/snaps.git"},source:{location:{npm:{filePath:"dist/bundle.js",packageName:"@metamask/lifecycle-hooks-example-snap",registry:"https://registry.npmjs.org"}},shasum:"5tlM5E71Fbeid7I3F0oQURWL7/+0620wplybtklBCHQ="},version:"2.2.0"},sourceCode:'(()=>{var e={d:(n,t)=>{for(var a in t)e.o(t,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};(()=>{"use strict";function t(e,n,t){if("string"==typeof e)throw new Error(`An HTML element ("${String(e)}") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error("A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.");return e({...n,key:t})}function a(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function r(e){return n=>{const{key:t=null,...r}=n;return{type:e,props:a(r),key:t}}}e.r(n),e.d(n,{onInstall:()=>p,onStart:()=>l,onUpdate:()=>d});const o=r("Box"),s=r("Text"),l=async()=>await snap.request({method:"snap_dialog",params:{type:"alert",content:t(o,{children:t(s,{children:\'The client was started successfully, and the "onStart" handler was called.\'})})}}),p=async()=>await snap.request({method:"snap_dialog",params:{type:"alert",content:t(o,{children:t(s,{children:\'The Snap was installed successfully, and the "onInstall" handler was called.\'})})}}),d=async()=>await snap.request({method:"snap_dialog",params:{type:"alert",content:t(o,{children:t(s,{children:\'The Snap was updated successfully, and the "onUpdate" handler was called.\'})})}})})(),module.exports=n})();',status:"stopped",version:"2.2.0",versionHistory:[{date:1750244439310,origin:"https://metamask.github.io",version:"2.2.0"}]}}})}withBackupAndSyncSettings(e={}){const{isProfileSyncingEnabled:f=!0,isAccountSyncingEnabled:t=!0,isProfileSyncingUpdateLoading:n=!1,isAccountSyncingUpdateLoading:r=!1,hasAccountSyncingSyncedAtLeastOnce:a=!1}=e;return i(this.fixture.data.UserStorageController,{isProfileSyncingEnabled:f,isAccountSyncingEnabled:t,isProfileSyncingUpdateLoading:n,isAccountSyncingUpdateLoading:r,hasAccountSyncingSyncedAtLeastOnce:a}),this}build(){return this.fixture.meta={version:g},this.fixture}}}}},{package:"$root$",file:"test/e2e/fixture-builder.js"}],[5935,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mockWebAuthenticator=function(){const e=Math.random().toString(36).substring(2,15),f=JSON.stringify({nonce:e});return{generateNonce:()=>e,launchWebAuthFlow:(t,n)=>Promise.resolve(null==n?void 0:n(`https://mock-redirect-url.com?nonce=${e}&state=${f}&code=mock-code`)),generateCodeVerifierAndChallenge:()=>Promise.resolve({codeVerifier:"mock-code-verifier",challenge:"mock-challenge"}),getRedirectURL:()=>"https://mock-redirect-url.com"}}}}},{package:"$root$",file:"test/e2e/helpers/seedless-onboarding/mock-web-authenticator.ts"}],[5936,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.entrypointBytecode=t.entrypointAbi=void 0;t.entrypointAbi=[{inputs:[{internalType:"uint256",name:"preOpGas",type:"uint256"},{internalType:"uint256",name:"paid",type:"uint256"},{internalType:"uint48",name:"validAfter",type:"uint48"},{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"bool",name:"targetSuccess",type:"bool"},{internalType:"bytes",name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{internalType:"uint256",name:"opIndex",type:"uint256"},{internalType:"string",name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{internalType:"address",name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{internalType:"uint256",name:"preOpGas",type:"uint256"},{internalType:"uint256",name:"prefund",type:"uint256"},{internalType:"bool",name:"sigFailed",type:"bool"},{internalType:"uint48",name:"validAfter",type:"uint48"},{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"bytes",name:"paymasterContext",type:"bytes"}],internalType:"struct IEntryPoint.ReturnInfo",name:"returnInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"senderInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"factoryInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{internalType:"uint256",name:"preOpGas",type:"uint256"},{internalType:"uint256",name:"prefund",type:"uint256"},{internalType:"bool",name:"sigFailed",type:"bool"},{internalType:"uint48",name:"validAfter",type:"uint48"},{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"bytes",name:"paymasterContext",type:"bytes"}],internalType:"struct IEntryPoint.ReturnInfo",name:"returnInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"senderInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"factoryInfo",type:"tuple"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"paymasterInfo",type:"tuple"},{components:[{internalType:"address",name:"aggregator",type:"address"},{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],internalType:"struct IStakeManager.StakeInfo",name:"stakeInfo",type:"tuple"}],internalType:"struct IEntryPoint.AggregatorStakeInfo",name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"factory",type:"address"},{indexed:!1,internalType:"address",name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalStaked",type:"uint256"},{indexed:!1,internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"paymaster",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bool",name:"success",type:"bool"},{indexed:!1,internalType:"uint256",name:"actualGasCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes",name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"deposits",outputs:[{internalType:"uint112",name:"deposit",type:"uint112"},{internalType:"bool",name:"staked",type:"bool"},{internalType:"uint112",name:"stake",type:"uint112"},{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"},{internalType:"uint48",name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{internalType:"uint112",name:"deposit",type:"uint112"},{internalType:"bool",name:"staked",type:"bool"},{internalType:"uint112",name:"stake",type:"uint112"},{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"},{internalType:"uint48",name:"withdrawTime",type:"uint48"}],internalType:"struct IStakeManager.DepositInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint192",name:"key",type:"uint192"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation[]",name:"userOps",type:"tuple[]"},{internalType:"contract IAggregator",name:"aggregator",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct IEntryPoint.UserOpsPerAggregator[]",name:"opsPerAggregator",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation[]",name:"ops",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint192",name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"callData",type:"bytes"},{components:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"address",name:"paymaster",type:"address"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"}],internalType:"struct EntryPoint.MemoryUserOp",name:"mUserOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"prefund",type:"uint256"},{internalType:"uint256",name:"contextOffset",type:"uint256"},{internalType:"uint256",name:"preOpGas",type:"uint256"}],internalType:"struct EntryPoint.UserOpInfo",name:"opInfo",type:"tuple"},{internalType:"bytes",name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{internalType:"uint256",name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint192",name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"op",type:"tuple"},{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],t.entrypointBytecode="0x60a080604052346200008957600160025561022c8181016001600160401b038111838210176200007357829162005d18833903906000f080156200006757608052604051615c8990816200008f82396080518181816113df01528181613e9501526141b60152f35b6040513d6000823e3d90fd5b634e487b7160e01b600052604160045260246000fd5b600080fdfe60806040526004361015610023575b361561001957600080fd5b610021615531565b005b60003560e01c80630396cb60146101b35780630bd28e3b146101aa5780631b2e01b8146101a15780631d732756146101985780631fad948c1461018f578063205c28781461018657806335567e1a1461017d5780634b1d7cf5146101745780635287ce121461016b57806370a08231146101625780638f41ec5a14610159578063957122ab146101505780639b249f6914610147578063a61935311461013e578063b760faf914610135578063bb9fe6bf1461012c578063c23a5cea14610123578063d6383f941461011a578063ee219423146101115763fc7e286d0361000e5761010c611bcd565b61000e565b5061010c6119b5565b5061010c61184d565b5061010c6116b4565b5061010c611536565b5061010c6114f7565b5061010c6114d6565b5061010c611337565b5061010c611164565b5061010c611129565b5061010c6110a4565b5061010c610f54565b5061010c610bf8565b5061010c610b33565b5061010c610994565b5061010c6108ba565b5061010c6106e7565b5061010c610467565b5061010c610385565b5060207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103595760043563ffffffff8116808203610359576103547fa5ae833d0bb1dcd632d98a8b70973e8516812898e19bf27b70071ebc8dc52c01916102716102413373ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b9161024d811515615697565b61026a610261600185015463ffffffff1690565b63ffffffff1690565b11156156fc565b54926103366dffffffffffffffffffffffffffff946102f461029834888460781c166121d5565b966102a4881515615761565b6102b0818911156157c6565b6102d4816102bc6105ec565b941684906dffffffffffffffffffffffffffff169052565b6001602084015287166dffffffffffffffffffffffffffff166040830152565b63ffffffff83166060820152600060808201526103313373ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b61582b565b6040805194855263ffffffff90911660208501523393918291820190565b0390a2005b600080fd5b6024359077ffffffffffffffffffffffffffffffffffffffffffffffff8216820361035957565b50346103595760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103595760043577ffffffffffffffffffffffffffffffffffffffffffffffff81168103610359576104149033600052600160205260406000209077ffffffffffffffffffffffffffffffffffffffffffffffff16600052602052604060002090565b61041e8154612491565b9055005b73ffffffffffffffffffffffffffffffffffffffff81160361035957565b6024359061044d82610422565b565b60c4359061044d82610422565b359061044d82610422565b50346103595760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103595760206104fc6004356104a881610422565b73ffffffffffffffffffffffffffffffffffffffff6104c561035e565b91166000526001835260406000209077ffffffffffffffffffffffffffffffffffffffffffffffff16600052602052604060002090565b54604051908152f35b507f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60a0810190811067ffffffffffffffff82111761055157604052565b610559610505565b604052565b610100810190811067ffffffffffffffff82111761055157604052565b67ffffffffffffffff811161055157604052565b6060810190811067ffffffffffffffff82111761055157604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761055157604052565b6040519061044d82610535565b6040519060c0820182811067ffffffffffffffff82111761055157604052565b604051906040820182811067ffffffffffffffff82111761055157604052565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f60209267ffffffffffffffff8111610675575b01160190565b61067d610505565b61066f565b92919261068e82610639565b9161069c60405193846105ab565b829481845281830111610359578281602093846000960137010152565b9181601f840112156103595782359167ffffffffffffffff8311610359576020838186019501011161035957565b5034610359576101c07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103595767ffffffffffffffff60043581811161035957366023820112156103595761074a903690602481600401359101610682565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdc36016101808112610359576101006040519161078783610535565b12610359576040516107988161055e565b6107a0610440565b815260443560208201526064356040820152608435606082015260a43560808201526107ca61044f565b60a082015260e43560c08201526101043560e082015281526101243560208201526101443560408201526101643560608201526101843560808201526101a4359182116103595761083e9261082661082e9336906004016106b9565b9290916128b1565b6040519081529081906020820190565b0390f35b9060407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc8301126103595760043567ffffffffffffffff9283821161035957806023830112156103595781600401359384116103595760248460051b830101116103595760240191906024356108b781610422565b90565b5034610359576108c936610842565b6108d4929192611e3a565b6108dd83611d2d565b60005b84811061095d57506000927fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f9728480a183915b85831061092d576109238585611ed7565b6100216001600255565b909193600190610953610941878987611dec565b61094b8886611dca565b51908861233f565b0194019190610912565b8061098b610984610972600194869896611dca565b5161097e848a88611dec565b84613448565b9083612f30565b019290926108e0565b50346103595760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610359576004356109d081610422565b6024359060009133835282602052604083206dffffffffffffffffffffffffffff81541692838311610ad557848373ffffffffffffffffffffffffffffffffffffffff829593610a788496610a3f610a2c8798610ad29c6121c0565b6dffffffffffffffffffffffffffff1690565b6dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b6040805173ffffffffffffffffffffffffffffffffffffffff831681526020810185905233917fd1c19fbcd4551a5edfb66d43d2e337c04837afda3482b42bdf569a8fccdae5fb91a2165af1610acc611ea7565b50615ba2565b80f35b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f576974686472617720616d6f756e7420746f6f206c61726765000000000000006044820152fd5b50346103595760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610359576020600435610b7181610422565b73ffffffffffffffffffffffffffffffffffffffff610b8e61035e565b911660005260018252610bc98160406000209077ffffffffffffffffffffffffffffffffffffffffffffffff16600052602052604060002090565b547fffffffffffffffffffffffffffffffffffffffffffffffff00000000000000006040519260401b16178152f35b503461035957610c0736610842565b610c0f611e3a565b6000805b838210610df657610c249150611d2d565b7fbb47ee3e183a558b1a2ff0874b079f3fc5478b7454eacf2bfc5af2ff5878f972600080a16000805b848110610d5c57505060008093815b818110610c9357610923868660007f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d8180a2611ed7565b610cf7610ca182848a6124cb565b610ccc610cb3610cb36020840161256d565b73ffffffffffffffffffffffffffffffffffffffff1690565b7f575ff3acadd5ab348fe1855e217e0f3678f8d767d7494c9f9fefbee2e17cca4d600080a280612519565b906000915b808310610d1457505050610d0f90612491565b610c5c565b90919497610d4f610d49610d5592610d438c8b610d3c82610d368e8b8d611dec565b92611dca565b519161233f565b906121d5565b99612491565b95612491565b9190610cfc565b610d678186886124cb565b6020610d7f610d768380612519565b9290930161256d565b9173ffffffffffffffffffffffffffffffffffffffff60009316905b828410610db45750505050610daf90612491565b610c4d565b90919294610d4f81610de985610de2610dd0610dee968d611dca565b51610ddc8c8b8a611dec565b85613448565b908b613148565b612491565b929190610d9b565b610e018285876124cb565b90610e0c8280612519565b92610e1c610cb36020830161256d565b9173ffffffffffffffffffffffffffffffffffffffff8316610e416001821415612577565b610e62575b505050610e5c91610e56916121d5565b91612491565b90610c13565b909592610e7b6040999693999895989788810190611fc8565b92908a3b156103595789938b918a5193849283927fe3563a4f00000000000000000000000000000000000000000000000000000000845260049e8f850193610ec294612711565b03815a93600094fa9081610f3b575b50610f255786517f86a9f75000000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8a16818a0190815281906020010390fd5b0390fd5b9497509295509093509181610e56610e5c610e46565b80610f48610f4e9261057b565b8061111e565b38610ed1565b50346103595760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103595761083e73ffffffffffffffffffffffffffffffffffffffff600435610fa881610422565b608060409283928351610fba81610535565b60009381858093528260208201528287820152826060820152015216815280602052209061104965ffffffffffff6001835194610ff686610535565b80546dffffffffffffffffffffffffffff8082168852607082901c60ff161515602089015260789190911c1685870152015463ffffffff8116606086015260201c16608084019065ffffffffffff169052565b5191829182919091608065ffffffffffff8160a08401956dffffffffffffffffffffffffffff808251168652602082015115156020870152604082015116604086015263ffffffff6060820151166060860152015116910152565b50346103595760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103595773ffffffffffffffffffffffffffffffffffffffff6004356110f581610422565b16600052600060205260206dffffffffffffffffffffffffffff60406000205416604051908152f35b600091031261035957565b50346103595760007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261035957602060405160018152f35b50346103595760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261035957600467ffffffffffffffff8135818111610359576111b590369084016106b9565b9050602435916111c483610422565b604435908111610359576111db90369085016106b9565b92909115908161132d575b506112c6576014821015611236575b610f21836040519182917f08c379a0000000000000000000000000000000000000000000000000000000008352820160409060208152600060208201520190565b6112466112529261124c92612b88565b90612b96565b60601c90565b3b1561125f5738806111f5565b610f21906040519182917f08c379a0000000000000000000000000000000000000000000000000000000008352820160609060208152601b60208201527f41413330207061796d6173746572206e6f74206465706c6f796564000000000060408201520190565b610f21836040519182917f08c379a0000000000000000000000000000000000000000000000000000000008352820160609060208152601960208201527f41413230206163636f756e74206e6f74206465706c6f7965640000000000000060408201520190565b90503b15386111e6565b50346103595760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103595760043567ffffffffffffffff81116103595761138960249136906004016106b9565b906113bf6040519283927f570e1a3600000000000000000000000000000000000000000000000000000000845260048401612d2c565b0360208273ffffffffffffffffffffffffffffffffffffffff92816000857f0000000000000000000000000000000000000000000000000000000000000000165af1918215611471575b600092611441575b50604051917f6ca7b806000000000000000000000000000000000000000000000000000000008352166004820152fd5b61146391925060203d811161146a575b61145b81836105ab565b810190612d17565b9038611411565b503d611451565b611479612183565b611409565b90816101609103126103595790565b60207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc820112610359576004359067ffffffffffffffff8211610359576108b79160040161147e565b50346103595760206114ef6114ea3661148d565b612a0c565b604051908152f35b5060207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103595761002160043561153181610422565b61562b565b5034610359576000807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126116b1573381528060205260408120600181019063ffffffff825416908115611653576115f06115b5611618936115a76115a2855460ff9060701c1690565b61598f565b65ffffffffffff42166159f4565b84547fffffffffffffffffffffffffffffffffffffffffffff000000000000ffffffff16602082901b69ffffffffffff000000001617909455565b7fffffffffffffffffffffffffffffffffff00ffffffffffffffffffffffffffff8154169055565b60405165ffffffffffff91909116815233907ffa9b3c14cc825c412c9ed81b3ba365a5b459439403f18829e572ed53a4180f0a90602090a280f35b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600a60248201527f6e6f74207374616b6564000000000000000000000000000000000000000000006044820152fd5b80fd5b50346103595760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610359576004356116f081610422565b610ad273ffffffffffffffffffffffffffffffffffffffff6117323373ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b926117ea611755610a2c86546dffffffffffffffffffffffffffff9060781c1690565b94611761861515615a0e565b6117c26001820161179a65ffffffffffff611786835465ffffffffffff9060201c1690565b16611792811515615a73565b421015615ad8565b80547fffffffffffffffffffffffffffffffffffffffffffff00000000000000000000169055565b7fffffff0000000000000000000000000000ffffffffffffffffffffffffffffff8154169055565b6040805173ffffffffffffffffffffffffffffffffffffffff831681526020810186905233917fb7c918e0e249f999e965cafeb6c664271b3f4317d296461500e71da39f0cbda391a2600080809581948294165af1611847611ea7565b50615b3d565b50346103595760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103595767ffffffffffffffff6004358181116103595761189e90369060040161147e565b602435916118ab83610422565b604435908111610359576118c6610f219136906004016106b9565b6118ce611caa565b6118d785612e2b565b6118ea6118e48287613240565b906153ba565b946118fa826000924384526121e2565b96438252819360609573ffffffffffffffffffffffffffffffffffffffff8316611981575b50505050608001519361194e6040611940602084015165ffffffffffff1690565b92015165ffffffffffff1690565b906040519687967f8b7ac980000000000000000000000000000000000000000000000000000000008852600488016127e1565b8395508394965061199b60409492939451809481936127d3565b03925af19060806119aa611ea7565b92919038808061191f565b5034610359576119c43661148d565b6119cc611caa565b6119d582612e2b565b6119df8183613240565b825160a00151919391611a0c9073ffffffffffffffffffffffffffffffffffffffff166154dc565b6154dc565b90611a30611a07855173ffffffffffffffffffffffffffffffffffffffff90511690565b94611a39612b50565b50611a68611a4c60409586810190611fc8565b90600060148310611bc55750611246611a079261124c92612b88565b91611a72916153ba565b805173ffffffffffffffffffffffffffffffffffffffff169073ffffffffffffffffffffffffffffffffffffffff821660018114916080880151978781015191886020820151611ac79065ffffffffffff1690565b91015165ffffffffffff16916060015192611ae06105f9565b9a8b5260208b0152841515898b015265ffffffffffff1660608a015265ffffffffffff16608089015260a088015215159081611bbc575b50611b515750610f2192519485947fe0cff05f00000000000000000000000000000000000000000000000000000000865260048601612cbd565b9190610f2193611b60846154dc565b611b87611b6b610619565b73ffffffffffffffffffffffffffffffffffffffff9096168652565b6020850152519586957ffaecb4e400000000000000000000000000000000000000000000000000000000875260048701612c2b565b90501538611b17565b9150506154dc565b50346103595760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103595773ffffffffffffffffffffffffffffffffffffffff600435611c1e81610422565b16600052600060205260a0604060002065ffffffffffff60018254920154604051926dffffffffffffffffffffffffffff90818116855260ff8160701c161515602086015260781c16604084015263ffffffff8116606084015260201c166080820152f35b60209067ffffffffffffffff8111611c9d575b60051b0190565b611ca5610505565b611c96565b60405190611cb782610535565b604051608083610100830167ffffffffffffffff811184821017611d20575b60405260009283815283602082015283604082015283606082015283838201528360a08201528360c08201528360e082015281528260208201528260408201528260608201520152565b611d28610505565b611cd6565b90611d3782611c83565b611d4460405191826105ab565b8281527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0611d728294611c83565b019060005b828110611d8357505050565b602090611d8e611caa565b82828501015201611d77565b507f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6020918151811015611ddf575b60051b010190565b611de7611d9a565b611dd7565b9190811015611e2d575b60051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffea181360301821215610359570190565b611e35611d9a565b611df6565b6002805414611e495760028055565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152fd5b3d15611ed2573d90611eb882610639565b91611ec660405193846105ab565b82523d6000602084013e565b606090565b73ffffffffffffffffffffffffffffffffffffffff168015611f6a57600080809381935af1611f04611ea7565b5015611f0c57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f41413931206661696c65642073656e6420746f2062656e6566696369617279006044820152fd5b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f4141393020696e76616c69642062656e656669636961727900000000000000006044820152fd5b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610359570180359067ffffffffffffffff82116103595760200191813603831361035957565b90816020910312610359575190565b601f82602094937fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0938186528686013760008582860101520116010190565b60005b83811061207a5750506000910152565b818101518382015260200161206a565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f6020936120c681518092818752878088019101612067565b0116010190565b906120e76080916108b796946101c0808652850191612028565b9360e0815173ffffffffffffffffffffffffffffffffffffffff80825116602087015260208201516040870152604082015160608701526060820151858701528482015160a087015260a08201511660c086015260c081015182860152015161010084015260208101516101208401526040810151610140840152606081015161016084015201516101808201526101a081840391015261208a565b506040513d6000823e3d90fd5b507f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b919082039182116121cd57565b61044d612190565b919082018092116121cd57565b905a918160206121fb6060830151936060810190611fc8565b906122348560405195869485947f1d732756000000000000000000000000000000000000000000000000000000008652600486016120cd565b03816000305af16000918161230f575b50612308575060206000803e7fdeaddead000000000000000000000000000000000000000000000000000000006000511461229b5761229561228a6108b7945a906121c0565b6080840151906121d5565b91614afc565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152600f60408201527f41413935206f7574206f6620676173000000000000000000000000000000000060608201520190565b9250505090565b61233191925060203d8111612338575b61232981836105ab565b810190612019565b9038612244565b503d61231f565b909291925a9380602061235b6060830151946060810190611fc8565b906123948660405195869485947f1d732756000000000000000000000000000000000000000000000000000000008652600486016120cd565b03816000305af160009181612471575b5061246a575060206000803e7fdeaddead00000000000000000000000000000000000000000000000000000000600051146123fc576123f66123eb6108b795965a906121c0565b6080830151906121d5565b92614ddf565b610f21836040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152600f60408201527f41413935206f7574206f6620676173000000000000000000000000000000000060608201520190565b9450505050565b61248a91925060203d81116123385761232981836105ab565b90386123a4565b6001907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81146124bf570190565b6124c7612190565b0190565b919081101561250c575b60051b810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa181360301821215610359570190565b612514611d9a565b6124d5565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610359570180359067ffffffffffffffff821161035957602001918160051b3603831361035957565b356108b781610422565b1561257e57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f4141393620696e76616c69642061676772656761746f720000000000000000006044820152fd5b90357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18236030181121561035957016020813591019167ffffffffffffffff821161035957813603831361035957565b6108b7916126578161263d8461045c565b73ffffffffffffffffffffffffffffffffffffffff169052565b602082013560208201526126f26126a361268861267760408601866125dc565b610160806040880152860191612028565b61269560608601866125dc565b908583036060870152612028565b6080840135608084015260a084013560a084015260c084013560c084015260e084013560e084015261010080850135908401526101206126e5818601866125dc565b9185840390860152612028565b9161270361014091828101906125dc565b929091818503910152612028565b949391929083604087016040885252606086019360608160051b8801019482600090815b848310612754575050505050508460206108b795968503910152612028565b9091929394977fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa08b820301855288357ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffea1843603018112156127cf57600191846127bd920161262c565b98602090810196950193019190612735565b8280fd5b908092918237016000815290565b9290936108b796959260c0958552602085015265ffffffffffff8092166040850152166060830152151560808201528160a0820152019061208a565b1561282457565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f4141393220696e7465726e616c2063616c6c206f6e6c790000000000000000006044820152fd5b9060406108b79260008152816020820152019061208a565b6040906108b793928152816020820152019061208a565b909291925a936128c230331461281d565b8151946040860151955a6113886060830151890101116129e2576108b7966000958051612909575b50505090612903915a9003608084015101943691610682565b91615047565b612938916129349161292f855173ffffffffffffffffffffffffffffffffffffffff1690565b615c12565b1590565b612944575b80806128ea565b61290392919450612953615c24565b908151612967575b5050600193909161293d565b7f1c4fada7374c0a9ee8841fc38afe82932dc0f8e69012e927f061a8bae611a20173ffffffffffffffffffffffffffffffffffffffff6020870151926129d860206129c6835173ffffffffffffffffffffffffffffffffffffffff1690565b9201519560405193849316968361289a565b0390a3388061295b565b7fdeaddead0000000000000000000000000000000000000000000000000000000060005260206000fd5b612a22612a1c6040830183611fc8565b90615c07565b90612a33612a1c6060830183611fc8565b90612ae9612a48612a1c610120840184611fc8565b60405194859360208501956101008201359260e08301359260c08101359260a08201359260808301359273ffffffffffffffffffffffffffffffffffffffff60208201359135168c9693909a9998959261012098959273ffffffffffffffffffffffffffffffffffffffff6101408a019d168952602089015260408801526060870152608086015260a085015260c084015260e08301526101008201520152565b0391612b1b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0938481018352826105ab565b51902060408051602081019283523091810191909152466060820152608092830181529091612b4a90826105ab565b51902090565b604051906040820182811067ffffffffffffffff821117612b7b575b60405260006020838281520152565b612b83610505565b612b6c565b906014116103595790601490565b7fffffffffffffffffffffffffffffffffffffffff0000000000000000000000009035818116939260148110612bcb57505050565b60140360031b82901b16169150565b9060c060a06108b793805184526020810151602085015260408101511515604085015265ffffffffffff80606083015116606086015260808201511660808501520151918160a0820152019061208a565b9294612c8c61044d95612c7a610100959998612c68612c54602097610140808c528b0190612bda565b9b878a019060208091805184520151910152565b80516060890152602001516080880152565b805160a08701526020015160c0860152565b73ffffffffffffffffffffffffffffffffffffffff81511660e0850152015191019060208091805184520151910152565b612d0661044d94612cf4612cdf60a0959998969960e0865260e0860190612bda565b98602085019060208091805184520151910152565b80516060840152602001516080830152565b019060208091805184520151910152565b9081602091031261035957516108b781610422565b9160206108b7938181520191612028565b90612d6c73ffffffffffffffffffffffffffffffffffffffff916108b797959694606085526060850191612028565b941660208201526040818503910152612028565b60009060033d11612d8d57565b905060046000803e60005160e01c90565b600060443d106108b7576040517ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc91823d016004833e815167ffffffffffffffff918282113d602484011117612e1a57818401948551938411612e22573d85010160208487010111612e1a57506108b7929101602001906105ab565b949350505050565b50949350505050565b612e386040820182611fc8565b612e50612e448461256d565b93610120810190611fc8565b9290303b1561035957600093612e949160405196879586957f957122ab00000000000000000000000000000000000000000000000000000000875260048701612d3d565b0381305afa9081612f1d575b5061044d576001612eaf612d80565b6308c379a014612ec8575b612ec057565b61044d612183565b612ed0612d9e565b80612edc575b50612eba565b80516000925015612ed657610f21906040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301612882565b80610f48612f2a9261057b565b38612ea0565b9190612f3b9061317f565b73ffffffffffffffffffffffffffffffffffffffff929183166130da5761306c57612f659061317f565b9116612ffe57612f725750565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152602160448201527f41413332207061796d61737465722065787069726564206f72206e6f7420647560648201527f6500000000000000000000000000000000000000000000000000000000000000608482015260a490fd5b610f21826040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601460408201527f41413334207369676e6174757265206572726f7200000000000000000000000060608201520190565b610f21836040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601760408201527f414132322065787069726564206f72206e6f742064756500000000000000000060608201520190565b610f21846040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601460408201527f41413234207369676e6174757265206572726f7200000000000000000000000060608201520190565b9291906131549061317f565b909273ffffffffffffffffffffffffffffffffffffffff808095169116036130da5761306c57612f65905b80156131d25761318e9061535f565b73ffffffffffffffffffffffffffffffffffffffff65ffffffffffff8060408401511642119081156131c2575b5091511691565b90506020830151164210386131bb565b50600090600090565b156131e257565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f41413934206761732076616c756573206f766572666c6f7700000000000000006044820152fd5b916000915a9381519061325382826136b3565b61325c81612a0c565b602084015261329a6effffffffffffffffffffffffffffff60808401516060850151176040850151176101008401359060e0850135171711156131db565b6132a382613775565b6132ae818584613836565b97906132df6129346132d4875173ffffffffffffffffffffffffffffffffffffffff1690565b60208801519061546c565b6133db576132ec43600052565b73ffffffffffffffffffffffffffffffffffffffff61332460a0606097015173ffffffffffffffffffffffffffffffffffffffff1690565b166133c1575b505a810360a0840135106133545760809360c092604087015260608601525a900391013501910152565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152601e60408201527f41413430206f76657220766572696669636174696f6e4761734c696d6974000060608201520190565b909350816133d2929750858461455c565b9590923861332a565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152601a60408201527f4141323520696e76616c6964206163636f756e74206e6f6e636500000000000060608201520190565b9290916000925a825161345b81846136b3565b61346483612a0c565b60208501526134a26effffffffffffffffffffffffffffff60808301516060840151176040840151176101008601359060e0870135171711156131db565b6134ab81613775565b6134b78186868b613ba2565b98906134e86129346134dd865173ffffffffffffffffffffffffffffffffffffffff1690565b60208701519061546c565b6135e0576134f543600052565b73ffffffffffffffffffffffffffffffffffffffff61352d60a0606096015173ffffffffffffffffffffffffffffffffffffffff1690565b166135c5575b505a840360a08601351061355f5750604085015260608401526080919060c0905a900391013501910152565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152601e60448201527f41413430206f76657220766572696669636174696f6e4761734c696d697400006064820152608490fd5b909250816135d79298508686856147ef565b96909138613533565b610f21826040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601a60408201527f4141323520696e76616c6964206163636f756e74206e6f6e636500000000000060608201520190565b1561365557565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f4141393320696e76616c6964207061796d6173746572416e64446174610000006044820152fd5b613725906136dd6136c38261256d565b73ffffffffffffffffffffffffffffffffffffffff168452565b602081013560208401526080810135604084015260a0810135606084015260c0810135608084015260e081013560c084015261010081013560e0840152610120810190611fc8565b90811561376a5761374f61124c6112468460a09461374a601461044d9998101561364e565b612b88565b73ffffffffffffffffffffffffffffffffffffffff16910152565b505060a06000910152565b60a081015173ffffffffffffffffffffffffffffffffffffffff16156137b75760c060035b60ff60408401519116606084015102016080830151019101510290565b60c0600161379a565b6137d86040929594939560608352606083019061262c565b9460208201520152565b9061044d602f60405180947f414132332072657665727465643a20000000000000000000000000000000000060208301526138268151809260208686019101612067565b810103600f8101855201836105ab565b916000926000925a936139046020835193613865855173ffffffffffffffffffffffffffffffffffffffff1690565b9561387d6138766040830183611fc8565b9084613e0d565b60a086015173ffffffffffffffffffffffffffffffffffffffff16906138a243600052565b85809373ffffffffffffffffffffffffffffffffffffffff809416159889613b3a575b60600151908601516040517f3a871cdd0000000000000000000000000000000000000000000000000000000081529788968795869390600485016137c0565b03938a1690f1829181613b1a575b50613b115750600190613923612d80565b6308c379a014613abd575b50613a50575b613941575b50505a900391565b61396b9073ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b613986610a2c82546dffffffffffffffffffffffffffff1690565b8083116139e3576139dc926dffffffffffffffffffffffffffff9103166dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b3880613939565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152601760408201527f41413231206469646e2774207061792070726566756e6400000000000000000060608201520190565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152601660408201527f4141323320726576657274656420286f72204f4f47290000000000000000000060608201520190565b613ac5612d9e565b9081613ad1575061392e565b610f2191613adf91506137e2565b6040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301612882565b95506139349050565b613b3391925060203d81116123385761232981836105ab565b9038613912565b9450613b80610a2c613b6c8c73ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b546dffffffffffffffffffffffffffff1690565b8b811115613b975750856060835b969150506138c5565b606087918d03613b8e565b90926000936000935a94613beb6020835193613bd2855173ffffffffffffffffffffffffffffffffffffffff1690565b9561387d613be36040830183611fc8565b90848c61412b565b03938a1690f1829181613ded575b50613de45750600190613c0a612d80565b6308c379a014613d8e575b50613d20575b613c29575b5050505a900391565b613c539073ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b91613c6f610a2c84546dffffffffffffffffffffffffffff1690565b90818311613cba575082547fffffffffffffffffffffffffffffffffffff0000000000000000000000000000169190036dffffffffffffffffffffffffffff16179055388080613c20565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152601760448201527f41413231206469646e2774207061792070726566756e640000000000000000006064820152608490fd5b610f21846040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601660408201527f4141323320726576657274656420286f72204f4f47290000000000000000000060608201520190565b613d96612d9e565b9081613da25750613c15565b8691613dae91506137e2565b90610f216040519283927f220266b60000000000000000000000000000000000000000000000000000000084526004840161289a565b9650613c1b9050565b613e0691925060203d81116123385761232981836105ab565b9038613bf9565b909180613e1957505050565b81515173ffffffffffffffffffffffffffffffffffffffff1692833b6140be57606083510151604051907f570e1a3600000000000000000000000000000000000000000000000000000000825260208280613e78878760048401612d2c565b0381600073ffffffffffffffffffffffffffffffffffffffff95867f00000000000000000000000000000000000000000000000000000000000000001690f19182156140b1575b600092614091575b508082169586156140245716809503613fb7573b15613f4a5761124c6112467fd51a9c61267aa6196961883ecf5ff2da6619c37dac0fa92122513fb32c032d2d93613f1193612b88565b602083810151935160a001516040805173ffffffffffffffffffffffffffffffffffffffff9485168152939091169183019190915290a3565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152602060408201527f4141313520696e6974436f6465206d757374206372656174652073656e64657260608201520190565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152602060408201527f4141313420696e6974436f6465206d7573742072657475726e2073656e64657260608201520190565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152601b60408201527f4141313320696e6974436f6465206661696c6564206f72204f4f47000000000060608201520190565b6140aa91925060203d811161146a5761145b81836105ab565b9038613ec7565b6140b9612183565b613ebf565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152601f60408201527f414131302073656e64657220616c726561647920636f6e73747275637465640060608201520190565b9290918161413a575b50505050565b82515173ffffffffffffffffffffffffffffffffffffffff1693843b6143e257606084510151604051907f570e1a3600000000000000000000000000000000000000000000000000000000825260208280614199888860048401612d2c565b0381600073ffffffffffffffffffffffffffffffffffffffff95867f00000000000000000000000000000000000000000000000000000000000000001690f19182156143d5575b6000926143b5575b5080821696871561434757168096036142d9573b15614273575061124c6112467fd51a9c61267aa6196961883ecf5ff2da6619c37dac0fa92122513fb32c032d2d9361423393612b88565b602083810151935160a001516040805173ffffffffffffffffffffffffffffffffffffffff9485168152939091169183019190915290a338808080614134565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152602060448201527f4141313520696e6974436f6465206d757374206372656174652073656e6465726064820152608490fd5b610f21826040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152602060408201527f4141313420696e6974436f6465206d7573742072657475726e2073656e64657260608201520190565b610f21846040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601b60408201527f4141313320696e6974436f6465206661696c6564206f72204f4f47000000000060608201520190565b6143ce91925060203d811161146a5761145b81836105ab565b90386141e8565b6143dd612183565b6141e0565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152601f60448201527f414131302073656e64657220616c726561647920636f6e7374727563746564006064820152608490fd5b1561444f57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f4141343120746f6f206c6974746c6520766572696669636174696f6e476173006044820152fd5b919060408382031261035957825167ffffffffffffffff81116103595783019080601f83011215610359578151916144e483610639565b916144f260405193846105ab565b838352602084830101116103595760209261451291848085019101612067565b92015190565b9061044d602f60405180947f414133332072657665727465643a20000000000000000000000000000000000060208301526138268151809260208686019101612067565b93919260609460009460009380519261459b60a08a86015195614580888811614448565b015173ffffffffffffffffffffffffffffffffffffffff1690565b916145c68373ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b946145e2610a2c87546dffffffffffffffffffffffffffff1690565b968588106147825773ffffffffffffffffffffffffffffffffffffffff60208a98946146588a966dffffffffffffffffffffffffffff8b6146919e03166dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b015194604051998a98899788937ff465c77e000000000000000000000000000000000000000000000000000000008552600485016137c0565b0395169103f190818391849361475c575b506147555750506001906146b4612d80565b6308c379a014614733575b506146c657565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152601660408201527f4141333320726576657274656420286f72204f4f47290000000000000000000060608201520190565b61473b612d9e565b908161474757506146bf565b610f2191613adf9150614518565b9450925050565b90925061477b91503d8085833e61477381836105ab565b8101906144ad565b91386146a2565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152601e60408201527f41413331207061796d6173746572206465706f73697420746f6f206c6f77000060608201520190565b91949293909360609560009560009382519061481660a08b84015193614580848611614448565b936148418573ffffffffffffffffffffffffffffffffffffffff166000526000602052604060002090565b61485c610a2c82546dffffffffffffffffffffffffffff1690565b8781106149b7579273ffffffffffffffffffffffffffffffffffffffff60208a989693946146588a966dffffffffffffffffffffffffffff8d6148d69e9c9a03166dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b0395169103f1908183918493614999575b506149915750506001906148f9612d80565b6308c379a014614972575b5061490c5750565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152601660448201527f4141333320726576657274656420286f72204f4f4729000000000000000000006064820152608490fd5b61497a612d9e565b90816149865750614904565b613dae925050614518565b955093505050565b9092506149b091503d8085833e61477381836105ab565b91386148e7565b610f218a6040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601e60408201527f41413331207061796d6173746572206465706f73697420746f6f206c6f77000060608201520190565b60031115614a2f57565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b929190614a7c6040916002865260606020870152606086019061208a565b930152565b939291906003811015614a2f57604091614a7c91865260606020870152606086019061208a565b9061044d603660405180947f4141353020706f73744f702072657665727465643a20000000000000000000006020830152614aec8151809260208686019101612067565b81010360168101855201836105ab565b929190925a93600091805191614b1183615318565b9260a0810195614b35875173ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff93908481169081614ca457505050614b76825173ffffffffffffffffffffffffffffffffffffffff1690565b985b5a90030193840297604084019089825110614c37577f49628fd1471006c1482da88028e9ce4dbb080b815c9b0344d39e5a8e6ec1419f94614bc26020928c614c329551039061553a565b015194896020614c04614be9865173ffffffffffffffffffffffffffffffffffffffff1690565b9a5173ffffffffffffffffffffffffffffffffffffffff1690565b9401519785604051968796169a16988590949392606092608083019683521515602083015260408201520152565b0390a4565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152602060408201527f414135312070726566756e642062656c6f772061637475616c476173436f737460608201520190565b9a918051614cb4575b5050614b78565b6060850151600099509091803b15614ddb579189918983614d07956040518097819682957fa9a234090000000000000000000000000000000000000000000000000000000084528c029060048401614a5e565b0393f19081614dc8575b50614dc3576001614d20612d80565b6308c379a014614da4575b614d37575b3880614cad565b6040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152601260408201527f4141353020706f73744f7020726576657274000000000000000000000000000060608201520190565b614dac612d9e565b80614db75750614d2b565b613adf610f2191614aa8565b614d30565b80610f48614dd59261057b565b38614d11565b8980fd5b9392915a90600092805190614df382615318565b9360a0830196614e17885173ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff95908681169081614f0d57505050614e58845173ffffffffffffffffffffffffffffffffffffffff1690565b915b5a9003019485029860408301908a825110614ea757507f49628fd1471006c1482da88028e9ce4dbb080b815c9b0344d39e5a8e6ec1419f949392614bc2614c32938c60209451039061553a565b604080517f220266b600000000000000000000000000000000000000000000000000000000815260048101929092526024820152602060448201527f414135312070726566756e642062656c6f772061637475616c476173436f73746064820152608490fd5b93918051614f1d575b5050614e5a565b606087015160009a509091803b1561504357918a918a83614f70956040518097819682957fa9a234090000000000000000000000000000000000000000000000000000000084528c029060048401614a5e565b0393f19081615030575b5061502b576001614f89612d80565b6308c379a01461500e575b614fa0575b3880614f16565b610f218b6040519182917f220266b600000000000000000000000000000000000000000000000000000000835260048301608091815260406020820152601260408201527f4141353020706f73744f7020726576657274000000000000000000000000000060608201520190565b615016612d9e565b806150215750614f94565b613dae8d91614aa8565b614f99565b80610f4861503d9261057b565b38614f7a565b8a80fd5b909392915a9480519161505983615318565b9260a081019561507d875173ffffffffffffffffffffffffffffffffffffffff1690565b73ffffffffffffffffffffffffffffffffffffffff938185169182615165575050506150bd825173ffffffffffffffffffffffffffffffffffffffff1690565b985b5a90030193840297604084019089825110614c37577f49628fd1471006c1482da88028e9ce4dbb080b815c9b0344d39e5a8e6ec1419f946151096020928c614c329551039061553a565b61511288614a25565b015194896020615139614be9865173ffffffffffffffffffffffffffffffffffffffff1690565b940151604080519182529815602082015297880152606087015290821695909116939081906080820190565b9a918151615175575b50506150bf565b8784026151818a614a25565b60028a1461520c576060860151823b15610359576151d493600080948d604051978896879586937fa9a2340900000000000000000000000000000000000000000000000000000000855260048501614a81565b0393f180156151ff575b6151ec575b505b388061516e565b80610f486151f99261057b565b386151e3565b615207612183565b6151de565b6060860151823b156103595761525793600080948d604051978896879586937fa9a2340900000000000000000000000000000000000000000000000000000000855260048501614a81565b0393f19081615305575b50615300576001615270612d80565b6308c379a0146152ed575b156151e5576040517f220266b600000000000000000000000000000000000000000000000000000000815280610f21600482016080906000815260406020820152601260408201527f4141353020706f73744f7020726576657274000000000000000000000000000060608201520190565b6152f5612d9e565b80614db7575061527b565b6151e5565b80610f486153129261057b565b38615261565b60e060c082015191015180821461533c57480180821015615337575090565b905090565b5090565b6040519061534d8261058f565b60006040838281528260208201520152565b615367615340565b5065ffffffffffff808260a01c1680156153b3575b604051926153898461058f565b73ffffffffffffffffffffffffffffffffffffffff8116845260d01c602084015216604082015290565b508061537c565b6153cf6153d5916153c9615340565b5061535f565b9161535f565b9073ffffffffffffffffffffffffffffffffffffffff9182825116928315615461575b65ffffffffffff928391826040816020850151169301511693836040816020840151169201511690808410615459575b50808511615451575b506040519561543f8761058f565b16855216602084015216604082015290565b935038615431565b925038615428565b8151811693506153f8565b73ffffffffffffffffffffffffffffffffffffffff16600052600160205267ffffffffffffffff6154c88260401c60406000209077ffffffffffffffffffffffffffffffffffffffffffffffff16600052602052604060002090565b918254926154d584612491565b9055161490565b9073ffffffffffffffffffffffffffffffffffffffff6154fa612b50565b9216600052600060205263ffffffff600160406000206dffffffffffffffffffffffffffff815460781c1685520154166020830152565b61044d3361562b565b73ffffffffffffffffffffffffffffffffffffffff16600052600060205260406000206dffffffffffffffffffffffffffff8082541692830180931161561e575b8083116155c05761044d92166dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f6465706f736974206f766572666c6f77000000000000000000000000000000006044820152fd5b615626612190565b61557b565b73ffffffffffffffffffffffffffffffffffffffff9061564b348261553a565b168060005260006020527f2da466a7b24304f47e87fa2e1e5a81b9831ce54fec19055ce277ca2f39ba42c460206dffffffffffffffffffffffffffff60406000205416604051908152a2565b1561569e57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f6d757374207370656369667920756e7374616b652064656c61790000000000006044820152fd5b1561570357565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f63616e6e6f7420646563726561736520756e7374616b652074696d65000000006044820152fd5b1561576857565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f6e6f207374616b652073706563696669656400000000000000000000000000006044820152fd5b156157cd57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600e60248201527f7374616b65206f766572666c6f770000000000000000000000000000000000006044820152fd5b9065ffffffffffff6080600161044d9461588b6dffffffffffffffffffffffffffff86511682906dffffffffffffffffffffffffffff167fffffffffffffffffffffffffffffffffffff0000000000000000000000000000825416179055565b602085015115156eff000000000000000000000000000082549160701b16807fffffffffffffffffffffffffffffffffff00ffffffffffffffffffffffffffff83161783557fffffff000000000000000000000000000000ffffffffffffffffffffffffffff7cffffffffffffffffffffffffffff000000000000000000000000000000604089015160781b16921617178155019263ffffffff6060820151167fffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000008554161784550151167fffffffffffffffffffffffffffffffffffffffffffff000000000000ffffffff69ffffffffffff0000000083549260201b169116179055565b1561599657565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f616c726561647920756e7374616b696e670000000000000000000000000000006044820152fd5b91909165ffffffffffff808094169116019182116121cd57565b15615a1557565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f4e6f207374616b6520746f2077697468647261770000000000000000000000006044820152fd5b15615a7a57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f6d7573742063616c6c20756e6c6f636b5374616b6528292066697273740000006044820152fd5b15615adf57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f5374616b65207769746864726177616c206973206e6f742064756500000000006044820152fd5b15615b4457565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f6661696c656420746f207769746864726177207374616b6500000000000000006044820152fd5b15615ba957565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f6661696c656420746f20776974686472617700000000000000000000000000006044820152fd5b816040519182372090565b9060009283809360208451940192f190565b3d610800808211615c4b575b50604051906020818301016040528082526000602083013e90565b905038615c3056fea2646970667358221220a706d8b02d7086d80e9330811f5af84b2614abdc5e9a1f2260126070a31d7cee64736f6c634300081100336080806040523461001657610210908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c63570e1a361461002857600080fd5b346100c95760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100c95760043567ffffffffffffffff918282116100c957366023830112156100c95781600401359283116100c95736602484840101116100c9576100c561009e84602485016100fc565b60405173ffffffffffffffffffffffffffffffffffffffff90911681529081906020820190565b0390f35b80fd5b507f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b90806014116101bb5767ffffffffffffffff917fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec82018381116101cd575b604051937fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0603f81600b8701160116850190858210908211176101c0575b604052808452602084019036848401116101bb576020946000600c819682946014880187378301015251923560601c5af19060005191156101b557565b60009150565b600080fd5b6101c86100cc565b610178565b6101d56100cc565b61013a56fea26469706673582212201927e80b76ab9b71c952137dd676621a9fdf520c25928815636594036eb1c40364736f6c63430008110033"}}},{package:"$root$",file:"test/e2e/seeder/contracts/entrypoint.ts"}],[5937,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.simpleAccountFactoryBytecode=t.simpleAccountFactoryAbi=void 0;t.simpleAccountFactoryAbi=[{inputs:[{internalType:"contract IEntryPoint",name:"_entryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"accountImplementation",outputs:[{internalType:"contract SimpleAccount",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"salt",type:"uint256"}],name:"createAccount",outputs:[{internalType:"contract SimpleAccount",name:"ret",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"salt",type:"uint256"}],name:"getAccountAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],t.simpleAccountFactoryBytecode="0x60a060405234801561001057600080fd5b50604051620046593803806200465983398181016040528101906100349190610124565b80604051610041906100a1565b61004b91906101b0565b604051809103906000f080158015610067573d6000803e3d6000fd5b5073ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff1681525050506101cb565b61358580620010d483390190565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006100df826100b4565b9050919050565b60006100f1826100d4565b9050919050565b610101816100e6565b811461010c57600080fd5b50565b60008151905061011e816100f8565b92915050565b60006020828403121561013a576101396100af565b5b60006101488482850161010f565b91505092915050565b6000819050919050565b600061017661017161016c846100b4565b610151565b6100b4565b9050919050565b60006101888261015b565b9050919050565b600061019a8261017d565b9050919050565b6101aa8161018f565b82525050565b60006020820190506101c560008301846101a1565b92915050565b608051610edf620001f56000396000818161010b015281816101dd01526102470152610edf6000f3fe60806040523480156200001157600080fd5b5060043610620000465760003560e01c80630d253d76146200004b57806311464fbe14620000815780635fbfb9cf14620000a3575b600080fd5b620000696004803603810190620000639190620003fb565b620000d9565b60405162000078919062000453565b60405180910390f35b6200008b620001db565b6040516200009a9190620004db565b60405180910390f35b620000c16004803603810190620000bb9190620003fb565b620001ff565b604051620000d09190620004db565b60405180910390f35b6000620001d38260001b60405180602001620000f59062000348565b6020820181038252601f19601f820116604052507f0000000000000000000000000000000000000000000000000000000000000000866040516024016200013d919062000453565b60405160208183030381529060405263c4d66de860e01b6020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506040516020016200019592919062000592565b604051602081830303815290604052604051602001620001b792919062000608565b6040516020818303038152906040528051906020012062000306565b905092915050565b7f000000000000000000000000000000000000000000000000000000000000000081565b6000806200020e8484620000d9565b905060008173ffffffffffffffffffffffffffffffffffffffff163b905060008111156200024157819250505062000300565b8360001b7f00000000000000000000000000000000000000000000000000000000000000008660405160240162000279919062000453565b60405160208183030381529060405263c4d66de860e01b6020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050604051620002cc9062000348565b620002d992919062000592565b8190604051809103906000f5905080158015620002fa573d6000803e3d6000fd5b50925050505b92915050565b6000620003158383306200031d565b905092915050565b6000604051836040820152846020820152828152600b810160ff815360558120925050509392505050565b610879806200063183390190565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600062000388826200035b565b9050919050565b6200039a816200037b565b8114620003a657600080fd5b50565b600081359050620003ba816200038f565b92915050565b6000819050919050565b620003d581620003c0565b8114620003e157600080fd5b50565b600081359050620003f581620003ca565b92915050565b6000806040838503121562000415576200041462000356565b5b60006200042585828601620003a9565b92505060206200043885828601620003e4565b9150509250929050565b6200044d816200037b565b82525050565b60006020820190506200046a600083018462000442565b92915050565b6000819050919050565b60006200049b620004956200048f846200035b565b62000470565b6200035b565b9050919050565b6000620004af826200047a565b9050919050565b6000620004c382620004a2565b9050919050565b620004d581620004b6565b82525050565b6000602082019050620004f26000830184620004ca565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156200053457808201518184015260208101905062000517565b60008484015250505050565b6000601f19601f8301169050919050565b60006200055e82620004f8565b6200056a818562000503565b93506200057c81856020860162000514565b620005878162000540565b840191505092915050565b6000604082019050620005a9600083018562000442565b8181036020830152620005bd818462000551565b90509392505050565b600081905092915050565b6000620005de82620004f8565b620005ea8185620005c6565b9350620005fc81856020860162000514565b80840191505092915050565b6000620006168285620005d1565b9150620006248284620005d1565b9150819050939250505056fe608060405260405161087938038061087983398181016040528101906100259190610520565b6100378282600061003e60201b60201c565b505061074f565b61004d8361007660201b60201c565b60008251118061005a5750805b156100715761006f83836100cb60201b60201c565b505b505050565b610085816100fe60201b60201c565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b60606100f68383604051806060016040528060278152602001610852602791396101c360201b60201c565b905092915050565b61010d8161024f60201b60201c565b61014c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610143906105ff565b60405180910390fd5b8061017f7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b61027260201b60201c565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60606000808573ffffffffffffffffffffffffffffffffffffffff16856040516101ed9190610666565b600060405180830381855af49150503d8060008114610228576040519150601f19603f3d011682016040523d82523d6000602084013e61022d565b606091505b50915091506102448683838761027c60201b60201c565b925050509392505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000819050919050565b606083156102e45760008351036102dc5761029c8561024f60201b60201c565b6102db576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102d2906106c9565b60405180910390fd5b5b8290506102f5565b6102f483836102fd60201b60201c565b5b949350505050565b6000825111156103105781518083602001fd5b806040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610344919061072d565b60405180910390fd5b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061038c82610361565b9050919050565b61039c81610381565b81146103a757600080fd5b50565b6000815190506103b981610393565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610412826103c9565b810181811067ffffffffffffffff82111715610431576104306103da565b5b80604052505050565b600061044461034d565b90506104508282610409565b919050565b600067ffffffffffffffff8211156104705761046f6103da565b5b610479826103c9565b9050602081019050919050565b60005b838110156104a4578082015181840152602081019050610489565b60008484015250505050565b60006104c36104be84610455565b61043a565b9050828152602081018484840111156104df576104de6103c4565b5b6104ea848285610486565b509392505050565b600082601f830112610507576105066103bf565b5b81516105178482602086016104b0565b91505092915050565b6000806040838503121561053757610536610357565b5b6000610545858286016103aa565b925050602083015167ffffffffffffffff8111156105665761056561035c565b5b610572858286016104f2565b9150509250929050565b600082825260208201905092915050565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b60006105e9602d8361057c565b91506105f48261058d565b604082019050919050565b60006020820190508181036000830152610618816105dc565b9050919050565b600081519050919050565b600081905092915050565b60006106408261061f565b61064a818561062a565b935061065a818560208601610486565b80840191505092915050565b60006106728284610635565b915081905092915050565b7f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000600082015250565b60006106b3601d8361057c565b91506106be8261067d565b602082019050919050565b600060208201905081810360008301526106e2816106a6565b9050919050565b600081519050919050565b60006106ff826106e9565b610709818561057c565b9350610719818560208601610486565b610722816103c9565b840191505092915050565b6000602082019050818103600083015261074781846106f4565b905092915050565b60f58061075d6000396000f3fe608060405236601057600e6018565b005b60166018565b005b601e602c565b602a6026602e565b603b565b565b565b600060366060565b905090565b3660008037600080366000845af43d6000803e8060008114605b573d6000f35b3d6000fd5b6000608c7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b60b5565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b600081905091905056fea2646970667358221220e91df930f25c61d529b4137f50e631e23eccd38c73a16d064ccea73f532839f764736f6c63430008130033416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220388052dda0ef8cd3ad52d34b5dabe7958153462dcc164a8f5f201ad1bfe02da764736f6c6343000813003360c06040523073ffffffffffffffffffffffffffffffffffffffff1660809073ffffffffffffffffffffffffffffffffffffffff168152503480156200004457600080fd5b50604051620035853803806200358583398181016040528101906200006a9190620001f9565b8073ffffffffffffffffffffffffffffffffffffffff1660a08173ffffffffffffffffffffffffffffffffffffffff1681525050620000ae620000b560201b60201c565b506200030f565b600060019054906101000a900460ff161562000108576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620000ff90620002b2565b60405180910390fd5b60ff801660008054906101000a900460ff1660ff1614620001795760ff6000806101000a81548160ff021916908360ff1602179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860ff604051620001709190620002f2565b60405180910390a15b565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620001ad8262000180565b9050919050565b6000620001c182620001a0565b9050919050565b620001d381620001b4565b8114620001df57600080fd5b50565b600081519050620001f381620001c8565b92915050565b6000602082840312156200021257620002116200017b565b5b60006200022284828501620001e2565b91505092915050565b600082825260208201905092915050565b7f496e697469616c697a61626c653a20636f6e747261637420697320696e69746960008201527f616c697a696e6700000000000000000000000000000000000000000000000000602082015250565b60006200029a6027836200022b565b9150620002a7826200023c565b604082019050919050565b60006020820190508181036000830152620002cd816200028b565b9050919050565b600060ff82169050919050565b620002ec81620002d4565b82525050565b6000602082019050620003096000830184620002e1565b92915050565b60805160a05161322d6200035860003960008181610b7601526114f60152600081816106a90152818161073701528181610959015281816109e70152610a97015261322d6000f3fe60806040526004361061010c5760003560e01c806352d1902d11610095578063bc197c8111610064578063bc197c8114610343578063c399ec8814610380578063c4d66de8146103ab578063d087d288146103d4578063f23a6e61146103ff57610113565b806352d1902d146102995780638da5cb5b146102c4578063b0d691fe146102ef578063b61d27f61461031a57610113565b80633659cfe6116100dc5780633659cfe6146101e45780633a871cdd1461020d5780634a58db191461024a5780634d44560d146102545780634f1ef2861461027d57610113565b806223de291461011857806301ffc9a714610141578063150b7a021461017e57806318dfb3c7146101bb57610113565b3661011357005b600080fd5b34801561012457600080fd5b5061013f600480360381019061013a9190611c1d565b61043c565b005b34801561014d57600080fd5b5061016860048036038101906101639190611d44565b610446565b6040516101759190611d8c565b60405180910390f35b34801561018a57600080fd5b506101a560048036038101906101a09190611da7565b610580565b6040516101b29190611e3e565b60405180910390f35b3480156101c757600080fd5b506101e260048036038101906101dd9190611f05565b610595565b005b3480156101f057600080fd5b5061020b60048036038101906102069190611f86565b6106a7565b005b34801561021957600080fd5b50610234600480360381019061022f919061200e565b61082f565b604051610241919061208c565b60405180910390f35b610252610862565b005b34801561026057600080fd5b5061027b600480360381019061027691906120e5565b6108d7565b005b61029760048036038101906102929190612266565b610957565b005b3480156102a557600080fd5b506102ae610a93565b6040516102bb91906122d1565b60405180910390f35b3480156102d057600080fd5b506102d9610b4c565b6040516102e691906122fb565b60405180910390f35b3480156102fb57600080fd5b50610304610b72565b6040516103119190612375565b60405180910390f35b34801561032657600080fd5b50610341600480360381019061033c9190612390565b610b9a565b005b34801561034f57600080fd5b5061036a6004803603810190610365919061245a565b610bf7565b6040516103779190611e3e565b60405180910390f35b34801561038c57600080fd5b50610395610c0f565b6040516103a2919061208c565b60405180910390f35b3480156103b757600080fd5b506103d260048036038101906103cd9190611f86565b610c97565b005b3480156103e057600080fd5b506103e9610dd7565b6040516103f6919061208c565b60405180910390f35b34801561040b57600080fd5b5061042660048036038101906104219190612536565b610e62565b6040516104339190611e3e565b60405180910390f35b5050505050505050565b60007f150b7a02000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061051157507f4e2312e0000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b8061057957507f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b9050919050565b600063150b7a0260e01b905095945050505050565b61059d610e78565b8181905084849050146105e5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105dc9061262d565b60405180910390fd5b60005b848490508110156106a05761068d8585838181106106095761060861264d565b5b905060200201602081019061061e9190611f86565b60008585858181106106335761063261264d565b5b9050602002810190610645919061268b565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050610f47565b80806106989061271d565b9150506105e8565b5050505050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1603610735576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161072c906127d7565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16610774610fcb565b73ffffffffffffffffffffffffffffffffffffffff16146107ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107c190612869565b60405180910390fd5b6107d381611022565b61082c81600067ffffffffffffffff8111156107f2576107f161213b565b5b6040519080825280601f01601f1916602001820160405280156108245781602001600182028036833780820191505090505b50600061102d565b50565b600061083961119b565b6108438484611212565b905061085284602001356112f0565b61085b826112f3565b9392505050565b61086a610b72565b73ffffffffffffffffffffffffffffffffffffffff1663b760faf934306040518363ffffffff1660e01b81526004016108a391906122fb565b6000604051808303818588803b1580156108bc57600080fd5b505af11580156108d0573d6000803e3d6000fd5b5050505050565b6108df61138f565b6108e7610b72565b73ffffffffffffffffffffffffffffffffffffffff1663205c287883836040518363ffffffff1660e01b8152600401610921929190612898565b600060405180830381600087803b15801561093b57600080fd5b505af115801561094f573d6000803e3d6000fd5b505050505050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff16036109e5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109dc906127d7565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16610a24610fcb565b73ffffffffffffffffffffffffffffffffffffffff1614610a7a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a7190612869565b60405180910390fd5b610a8382611022565b610a8f8282600161102d565b5050565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1614610b23576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b1a90612933565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b905090565b600060029054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60007f0000000000000000000000000000000000000000000000000000000000000000905090565b610ba2610e78565b610bf1848484848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050610f47565b50505050565b600063bc197c8160e01b905098975050505050505050565b6000610c19610b72565b73ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401610c5191906122fb565b602060405180830381865afa158015610c6e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c929190612968565b905090565b60008060019054906101000a900460ff16159050808015610cc85750600160008054906101000a900460ff1660ff16105b80610cf55750610cd730611457565b158015610cf45750600160008054906101000a900460ff1660ff16145b5b610d34576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d2b90612a07565b60405180910390fd5b60016000806101000a81548160ff021916908360ff1602179055508015610d71576001600060016101000a81548160ff0219169083151502179055505b610d7a8261147a565b8015610dd35760008060016101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024986001604051610dca9190612a6f565b60405180910390a15b5050565b6000610de1610b72565b73ffffffffffffffffffffffffffffffffffffffff166335567e1a3060006040518363ffffffff1660e01b8152600401610e1c929190612ae9565b602060405180830381865afa158015610e39573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e5d9190612968565b905090565b600063f23a6e6160e01b90509695505050505050565b610e80610b72565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161480610f065750600060029054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b610f45576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f3c90612b5e565b60405180910390fd5b565b6000808473ffffffffffffffffffffffffffffffffffffffff168484604051610f709190612bef565b60006040518083038185875af1925050503d8060008114610fad576040519150601f19603f3d011682016040523d82523d6000602084013e610fb2565b606091505b509150915081610fc457805160208201fd5b5050505050565b6000610ff97f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b61155a565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b61102a61138f565b50565b6110597f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd914360001b611564565b60000160009054906101000a900460ff161561107d576110788361156e565b611196565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa9250505080156110e557506040513d601f19601f820116820180604052508101906110e29190612c1b565b60015b611124576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161111b90612cba565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b8114611189576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161118090612d4c565b60405180910390fd5b50611195838383611627565b5b505050565b6111a3610b72565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611210576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161120790612db8565b60405180910390fd5b565b60008061121e83611653565b905061128684806101400190611234919061268b565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050508261168990919063ffffffff16565b73ffffffffffffffffffffffffffffffffffffffff16600060029054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146112e45760019150506112ea565b60009150505b92915050565b50565b6000811461138c5760003373ffffffffffffffffffffffffffffffffffffffff16827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9060405161134390612dfe565b600060405180830381858888f193505050503d8060008114611381576040519150601f19603f3d011682016040523d82523d6000602084013e611386565b606091505b50509050505b50565b600060029054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16148061141657503073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b611455576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161144c90612e5f565b60405180910390fd5b565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b80600060026101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600060029054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff167f47e55c76e7a6f1fd8996a1da8008c1ea29699cca35e7bcd057f2dec313b6e5de60405160405180910390a350565b6000819050919050565b6000819050919050565b61157781611457565b6115b6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115ad90612ef1565b60405180910390fd5b806115e37f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b61155a565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b611630836116b0565b60008251118061163d5750805b1561164e5761164c83836116ff565b505b505050565b60007f19457468657265756d205369676e6564204d6573736167653a0a33320000000060005281601c52603c6000209050919050565b6000806000611698858561172c565b915091506116a58161177d565b819250505092915050565b6116b98161156e565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b606061172483836040518060600160405280602781526020016131d1602791396118e3565b905092915050565b600080604183510361176d5760008060006020860151925060408601519150606086015160001a905061176187828585611969565b94509450505050611776565b60006002915091505b9250929050565b6000600481111561179157611790612f11565b5b8160048111156117a4576117a3612f11565b5b03156118e057600160048111156117be576117bd612f11565b5b8160048111156117d1576117d0612f11565b5b03611811576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161180890612f8c565b60405180910390fd5b6002600481111561182557611824612f11565b5b81600481111561183857611837612f11565b5b03611878576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161186f90612ff8565b60405180910390fd5b6003600481111561188c5761188b612f11565b5b81600481111561189f5761189e612f11565b5b036118df576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016118d69061308a565b60405180910390fd5b5b50565b60606000808573ffffffffffffffffffffffffffffffffffffffff168560405161190d9190612bef565b600060405180830381855af49150503d8060008114611948576040519150601f19603f3d011682016040523d82523d6000602084013e61194d565b606091505b509150915061195e86838387611a4b565b925050509392505050565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08360001c11156119a4576000600391509150611a42565b6000600187878787604051600081526020016040526040516119c994939291906130b9565b6020604051602081039080840390855afa1580156119eb573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603611a3957600060019250925050611a42565b80600092509250505b94509492505050565b60608315611aad576000835103611aa557611a6585611457565b611aa4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a9b9061314a565b60405180910390fd5b5b829050611ab8565b611ab78383611ac0565b5b949350505050565b600082511115611ad35781518083602001fd5b806040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611b0791906131ae565b60405180910390fd5b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000611b4f82611b24565b9050919050565b611b5f81611b44565b8114611b6a57600080fd5b50565b600081359050611b7c81611b56565b92915050565b6000819050919050565b611b9581611b82565b8114611ba057600080fd5b50565b600081359050611bb281611b8c565b92915050565b600080fd5b600080fd5b600080fd5b60008083601f840112611bdd57611bdc611bb8565b5b8235905067ffffffffffffffff811115611bfa57611bf9611bbd565b5b602083019150836001820283011115611c1657611c15611bc2565b5b9250929050565b60008060008060008060008060c0898b031215611c3d57611c3c611b1a565b5b6000611c4b8b828c01611b6d565b9850506020611c5c8b828c01611b6d565b9750506040611c6d8b828c01611b6d565b9650506060611c7e8b828c01611ba3565b955050608089013567ffffffffffffffff811115611c9f57611c9e611b1f565b5b611cab8b828c01611bc7565b945094505060a089013567ffffffffffffffff811115611cce57611ccd611b1f565b5b611cda8b828c01611bc7565b92509250509295985092959890939650565b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b611d2181611cec565b8114611d2c57600080fd5b50565b600081359050611d3e81611d18565b92915050565b600060208284031215611d5a57611d59611b1a565b5b6000611d6884828501611d2f565b91505092915050565b60008115159050919050565b611d8681611d71565b82525050565b6000602082019050611da16000830184611d7d565b92915050565b600080600080600060808688031215611dc357611dc2611b1a565b5b6000611dd188828901611b6d565b9550506020611de288828901611b6d565b9450506040611df388828901611ba3565b935050606086013567ffffffffffffffff811115611e1457611e13611b1f565b5b611e2088828901611bc7565b92509250509295509295909350565b611e3881611cec565b82525050565b6000602082019050611e536000830184611e2f565b92915050565b60008083601f840112611e6f57611e6e611bb8565b5b8235905067ffffffffffffffff811115611e8c57611e8b611bbd565b5b602083019150836020820283011115611ea857611ea7611bc2565b5b9250929050565b60008083601f840112611ec557611ec4611bb8565b5b8235905067ffffffffffffffff811115611ee257611ee1611bbd565b5b602083019150836020820283011115611efe57611efd611bc2565b5b9250929050565b60008060008060408587031215611f1f57611f1e611b1a565b5b600085013567ffffffffffffffff811115611f3d57611f3c611b1f565b5b611f4987828801611e59565b9450945050602085013567ffffffffffffffff811115611f6c57611f6b611b1f565b5b611f7887828801611eaf565b925092505092959194509250565b600060208284031215611f9c57611f9b611b1a565b5b6000611faa84828501611b6d565b91505092915050565b600080fd5b60006101608284031215611fcf57611fce611fb3565b5b81905092915050565b6000819050919050565b611feb81611fd8565b8114611ff657600080fd5b50565b60008135905061200881611fe2565b92915050565b60008060006060848603121561202757612026611b1a565b5b600084013567ffffffffffffffff81111561204557612044611b1f565b5b61205186828701611fb8565b935050602061206286828701611ff9565b925050604061207386828701611ba3565b9150509250925092565b61208681611b82565b82525050565b60006020820190506120a1600083018461207d565b92915050565b60006120b282611b24565b9050919050565b6120c2816120a7565b81146120cd57600080fd5b50565b6000813590506120df816120b9565b92915050565b600080604083850312156120fc576120fb611b1a565b5b600061210a858286016120d0565b925050602061211b85828601611ba3565b9150509250929050565b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6121738261212a565b810181811067ffffffffffffffff821117156121925761219161213b565b5b80604052505050565b60006121a5611b10565b90506121b1828261216a565b919050565b600067ffffffffffffffff8211156121d1576121d061213b565b5b6121da8261212a565b9050602081019050919050565b82818337600083830152505050565b6000612209612204846121b6565b61219b565b90508281526020810184848401111561222557612224612125565b5b6122308482856121e7565b509392505050565b600082601f83011261224d5761224c611bb8565b5b813561225d8482602086016121f6565b91505092915050565b6000806040838503121561227d5761227c611b1a565b5b600061228b85828601611b6d565b925050602083013567ffffffffffffffff8111156122ac576122ab611b1f565b5b6122b885828601612238565b9150509250929050565b6122cb81611fd8565b82525050565b60006020820190506122e660008301846122c2565b92915050565b6122f581611b44565b82525050565b600060208201905061231060008301846122ec565b92915050565b6000819050919050565b600061233b61233661233184611b24565b612316565b611b24565b9050919050565b600061234d82612320565b9050919050565b600061235f82612342565b9050919050565b61236f81612354565b82525050565b600060208201905061238a6000830184612366565b92915050565b600080600080606085870312156123aa576123a9611b1a565b5b60006123b887828801611b6d565b94505060206123c987828801611ba3565b935050604085013567ffffffffffffffff8111156123ea576123e9611b1f565b5b6123f687828801611bc7565b925092505092959194509250565b60008083601f84011261241a57612419611bb8565b5b8235905067ffffffffffffffff81111561243757612436611bbd565b5b60208301915083602082028301111561245357612452611bc2565b5b9250929050565b60008060008060008060008060a0898b03121561247a57612479611b1a565b5b60006124888b828c01611b6d565b98505060206124998b828c01611b6d565b975050604089013567ffffffffffffffff8111156124ba576124b9611b1f565b5b6124c68b828c01612404565b9650965050606089013567ffffffffffffffff8111156124e9576124e8611b1f565b5b6124f58b828c01612404565b9450945050608089013567ffffffffffffffff81111561251857612517611b1f565b5b6125248b828c01611bc7565b92509250509295985092959890939650565b60008060008060008060a0878903121561255357612552611b1a565b5b600061256189828a01611b6d565b965050602061257289828a01611b6d565b955050604061258389828a01611ba3565b945050606061259489828a01611ba3565b935050608087013567ffffffffffffffff8111156125b5576125b4611b1f565b5b6125c189828a01611bc7565b92509250509295509295509295565b600082825260208201905092915050565b7f77726f6e67206172726179206c656e6774687300000000000000000000000000600082015250565b60006126176013836125d0565b9150612622826125e1565b602082019050919050565b600060208201905081810360008301526126468161260a565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b600080833560016020038436030381126126a8576126a761267c565b5b80840192508235915067ffffffffffffffff8211156126ca576126c9612681565b5b6020830192506001820236038313156126e6576126e5612686565b5b509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061272882611b82565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff820361275a576127596126ee565b5b600182019050919050565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060008201527f64656c656761746563616c6c0000000000000000000000000000000000000000602082015250565b60006127c1602c836125d0565b91506127cc82612765565b604082019050919050565b600060208201905081810360008301526127f0816127b4565b9050919050565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060008201527f6163746976652070726f78790000000000000000000000000000000000000000602082015250565b6000612853602c836125d0565b915061285e826127f7565b604082019050919050565b6000602082019050818103600083015261288281612846565b9050919050565b612892816120a7565b82525050565b60006040820190506128ad6000830185612889565b6128ba602083018461207d565b9392505050565b7f555550535570677261646561626c653a206d757374206e6f742062652063616c60008201527f6c6564207468726f7567682064656c656761746563616c6c0000000000000000602082015250565b600061291d6038836125d0565b9150612928826128c1565b604082019050919050565b6000602082019050818103600083015261294c81612910565b9050919050565b60008151905061296281611b8c565b92915050565b60006020828403121561297e5761297d611b1a565b5b600061298c84828501612953565b91505092915050565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160008201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b60006129f1602e836125d0565b91506129fc82612995565b604082019050919050565b60006020820190508181036000830152612a20816129e4565b9050919050565b6000819050919050565b600060ff82169050919050565b6000612a59612a54612a4f84612a27565b612316565b612a31565b9050919050565b612a6981612a3e565b82525050565b6000602082019050612a846000830184612a60565b92915050565b6000819050919050565b600077ffffffffffffffffffffffffffffffffffffffffffffffff82169050919050565b6000612ad3612ace612ac984612a8a565b612316565b612a94565b9050919050565b612ae381612ab8565b82525050565b6000604082019050612afe60008301856122ec565b612b0b6020830184612ada565b9392505050565b7f6163636f756e743a206e6f74204f776e6572206f7220456e747279506f696e74600082015250565b6000612b486020836125d0565b9150612b5382612b12565b602082019050919050565b60006020820190508181036000830152612b7781612b3b565b9050919050565b600081519050919050565b600081905092915050565b60005b83811015612bb2578082015181840152602081019050612b97565b60008484015250505050565b6000612bc982612b7e565b612bd38185612b89565b9350612be3818560208601612b94565b80840191505092915050565b6000612bfb8284612bbe565b915081905092915050565b600081519050612c1581611fe2565b92915050565b600060208284031215612c3157612c30611b1a565b5b6000612c3f84828501612c06565b91505092915050565b7f45524331393637557067726164653a206e657720696d706c656d656e7461746960008201527f6f6e206973206e6f742055555053000000000000000000000000000000000000602082015250565b6000612ca4602e836125d0565b9150612caf82612c48565b604082019050919050565b60006020820190508181036000830152612cd381612c97565b9050919050565b7f45524331393637557067726164653a20756e737570706f727465642070726f7860008201527f6961626c65555549440000000000000000000000000000000000000000000000602082015250565b6000612d366029836125d0565b9150612d4182612cda565b604082019050919050565b60006020820190508181036000830152612d6581612d29565b9050919050565b7f6163636f756e743a206e6f742066726f6d20456e747279506f696e7400000000600082015250565b6000612da2601c836125d0565b9150612dad82612d6c565b602082019050919050565b60006020820190508181036000830152612dd181612d95565b9050919050565b50565b6000612de8600083612b89565b9150612df382612dd8565b600082019050919050565b6000612e0982612ddb565b9150819050919050565b7f6f6e6c79206f776e657200000000000000000000000000000000000000000000600082015250565b6000612e49600a836125d0565b9150612e5482612e13565b602082019050919050565b60006020820190508181036000830152612e7881612e3c565b9050919050565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b6000612edb602d836125d0565b9150612ee682612e7f565b604082019050919050565b60006020820190508181036000830152612f0a81612ece565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f45434453413a20696e76616c6964207369676e61747572650000000000000000600082015250565b6000612f766018836125d0565b9150612f8182612f40565b602082019050919050565b60006020820190508181036000830152612fa581612f69565b9050919050565b7f45434453413a20696e76616c6964207369676e6174757265206c656e67746800600082015250565b6000612fe2601f836125d0565b9150612fed82612fac565b602082019050919050565b6000602082019050818103600083015261301181612fd5565b9050919050565b7f45434453413a20696e76616c6964207369676e6174757265202773272076616c60008201527f7565000000000000000000000000000000000000000000000000000000000000602082015250565b60006130746022836125d0565b915061307f82613018565b604082019050919050565b600060208201905081810360008301526130a381613067565b9050919050565b6130b381612a31565b82525050565b60006080820190506130ce60008301876122c2565b6130db60208301866130aa565b6130e860408301856122c2565b6130f560608301846122c2565b95945050505050565b7f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000600082015250565b6000613134601d836125d0565b915061313f826130fe565b602082019050919050565b6000602082019050818103600083015261316381613127565b9050919050565b600081519050919050565b60006131808261316a565b61318a81856125d0565b935061319a818560208601612b94565b6131a38161212a565b840191505092915050565b600060208201905081810360008301526131c88184613175565b90509291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220184807e69f413ed78a569bed2504b99812aa82b1a70ece7822885b1e418066e864736f6c63430008130033"}}},{package:"$root$",file:"test/e2e/seeder/contracts/simpleAccountFactory.ts"}],[5938,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.verifyingPaymasterBytecode=t.verifyingPaymasterAbi=void 0;t.verifyingPaymasterAbi=[{inputs:[{internalType:"contract IEntryPoint",name:"_entryPoint",type:"address"},{internalType:"address",name:"_verifyingSigner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"uint48",name:"validAfter",type:"uint48"}],name:"getHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paymasterAndData",type:"bytes"}],name:"parsePaymasterAndData",outputs:[{internalType:"uint48",name:"validUntil",type:"uint48"},{internalType:"uint48",name:"validAfter",type:"uint48"},{internalType:"bytes",name:"signature",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"enum IPaymaster.PostOpMode",name:"mode",type:"uint8"},{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"actualGasCost",type:"uint256"}],name:"postOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"senderNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"maxCost",type:"uint256"}],name:"validatePaymasterUserOp",outputs:[{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"verifyingSigner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"}],t.verifyingPaymasterBytecode="0x60c0604052346200007b576200001f620000186200014f565b9062000176565b6040516114f96200026382396080518181816104ce015281816108f5015281816109d201528181610a4d01528181610adb01528181610b7901528181610bed0152610c8f015260a0518181816101f80152610ff601526114f990f35b600080fd5b634e487b7160e01b600052604160045260246000fd5b90601f01601f191681019081106001600160401b03821117620000b857604052565b62000080565b90620000d5620000cd60405190565b928362000096565b565b6001600160a01b031690565b90565b6001600160a01b0381165b036200007b57565b90505190620000d582620000e6565b6001600160a01b038116620000f1565b90505190620000d58262000108565b91906040838203126200007b57620000e390620001458185620000f9565b9360200162000118565b620001726200175c803803806200016681620000be565b92833981019062000127565b9091565b620001819062000186565b60a052565b6200019062000195565b608052565b620000d53362000200565b620000e390620000d7906001600160a01b031682565b620000e390620001a0565b620000e390620001b6565b90620001e0620000e3620001fc92620001c1565b82546001600160a01b0319166001600160a01b03919091161790565b9055565b6000546001600160a01b0316906200021a816000620001cc565b620002516200024a7f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e093620001c1565b91620001c1565b916200025c60405190565b600090a356fe6080604052600436101561001257600080fd5b60003560e01c80630396cb6014610102578063205c2878146100fd57806323d9ac9b146100f8578063715018a6146100f35780638da5cb5b146100ee57806394d4ad60146100e957806394e1fc19146100e4578063a9a23409146100df578063b0d691fe146100da578063bb9fe6bf146100d5578063c23a5cea146100d0578063c399ec88146100cb578063d0e30db0146100c6578063f2fde38b146100c15763f465c77e036101165761062f565b610565565b610552565b610537565b61051f565b6104f3565b6104b5565b61045d565b6103d6565b610337565b61024a565b610232565b6101e3565b6101bb565b610141565b63ffffffff81165b0361011657565b600080fd5b9050359061012882610107565b565b906020828203126101165761013e9161011b565b90565b61015461014f36600461012a565b610aa7565b604051005b0390f35b6001600160a01b031690565b6001600160a01b03811661010f565b9050359061012882610169565b8061010f565b9050359061012882610185565b91906040838203126101165761013e906101b28185610178565b9360200161018b565b34610116576101546101ce366004610198565b90610a2f565b600091031261011657565b9052565b34610116576101f33660046101d4565b6101597f00000000000000000000000000000000000000000000000000000000000000005b604051918291826001600160a01b03909116815260200190565b34610116576102423660046101d4565b610154610729565b346101165761025a3660046101d4565b610159610218610671565b909182601f830112156101165781359167ffffffffffffffff831161011657602001926001830284011161011657565b9060208282031261011657813567ffffffffffffffff8111610116576102bb9201610265565b9091565b90826000939282370152565b91906102e9816102e2816102f39560209181520190565b80956102bf565b601f01601f191690565b0190565b61032a61013e959394929461031b6060840196600085019065ffffffffffff169052565b65ffffffffffff166020830152565b60408185039101526102cb565b346101165761015961035361034d366004610295565b9061148b565b9061036094929460405190565b948594856102f7565b90816101609103126101165790565b65ffffffffffff811661010f565b9050359061012882610378565b909160608284031261011657813567ffffffffffffffff8111610116576103bf8461013e928501610369565b936103cd8160208601610386565b93604001610386565b34610116576101596103f26103ec366004610393565b91610dec565b6040519182918290815260200190565b6003111561011657565b9050359061012882610402565b906060828203126101165761042e818361040c565b92602083013567ffffffffffffffff8111610116576104528361013e928601610265565b93909460400161018b565b346101165761046d366004610419565b9291909161086a565b61013e9061015d906001600160a01b031682565b61013e90610476565b61013e9061048a565b6101df90610493565b602081019291610128919061049c565b34610116576104c53660046101d4565b604051806101597f0000000000000000000000000000000000000000000000000000000000000000826104a5565b34610116576105033660046101d4565b610154610bd1565b906020828203126101165761013e91610178565b346101165761015461053236600461050b565b610c33565b34610116576105473660046101d4565b6101596103f2610ad1565b61055d3660046101d4565b6101546108f0565b346101165761015461057836600461050b565b6107c5565b909160608284031261011657813567ffffffffffffffff8111610116576105a98461013e928501610369565b936105b7816020860161018b565b9360400161018b565b60005b8381106105d35750506000910152565b81810151838201526020016105c3565b6106046102e96020936102f3936105f8815190565b80835293849260200190565b958691016105c0565b9291602061062a61012893604087019087820360008901526105e3565b940152565b346101165761064861064236600461057d565b91610857565b9061015961065560405190565b9283928361060d565b61013e9061015d565b61013e905461065e565b61013e6000610667565b1561068257565b60405162461bcd60e51b8152806106cb600482016020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b0390fd5b6106f96106da610671565b6106f36106e63361015d565b916001600160a01b031690565b1461067b565b610128610717565b61015d61013e61013e9290565b61013e90610701565b610128610724600061070e565b6107fe565b6101286106cf565b610128906107406106da610671565b6107a0565b1561074c57565b60405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608490fd5b610128906107246107b461015d600061070e565b6001600160a01b0383161415610745565b61012890610731565b906107de61013e6107fa92610493565b82546001600160a01b0319166001600160a01b03919091161790565b9055565b6108086000610667565b906108148160006107ce565b6108476108417f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e093610493565b91610493565b9161085160405190565b600090a3565b6102bb929190610865610c80565b610f93565b610872610c80565b60405162461bcd60e51b815260206004820152600d60248201526c6d757374206f7665727269646560981b6044820152606490fd5b634e487b7160e01b600052604160045260246000fd5b90601f01601f1916810190811067ffffffffffffffff8211176108df57604052565b6108a7565b6040513d6000823e3d90fd5b6109197f0000000000000000000000000000000000000000000000000000000000000000610493565b63b760faf990349061092a30610493565b90803b15610116576109526000936109699561094560405190565b9687958694859360e01b90565b83526001600160a01b031660048301526024820190565b03925af180156109925761097a5750565b61012890600061098a81836108bd565b8101906101d4565b6108e4565b90610128916109a76106da610671565b6109cd565b6001600160a01b0390911681526040810192916101289160200152565b0152565b6109f67f0000000000000000000000000000000000000000000000000000000000000000610493565b9063205c287891803b1561011657610a2460008094610969610a1760405190565b9788968795869460e01b90565b8452600484016109ac565b9061012891610997565b61012890610a486106da610671565b610a717f0000000000000000000000000000000000000000000000000000000000000000610493565b630396cb60913491803b1561011657610a936000936109699561094560405190565b835263ffffffff1660048301526024820190565b61012890610a39565b9050519061012882610185565b906020828203126101165761013e91610ab0565b610b286020610aff7f0000000000000000000000000000000000000000000000000000000000000000610493565b6370a0823190610952610b1130610493565b92610b1b60405190565b9586948593849360e01b90565b03915afa90811561099257600091610b3e575090565b61013e915060203d8111610b5f575b610b5781836108bd565b810190610abd565b503d610b4d565b610b716106da610671565b610128610b9d7f0000000000000000000000000000000000000000000000000000000000000000610493565b63bb9fe6bf90803b1561011657610bc391600091610bba60405190565b93849260e01b90565b825281838160048101610969565b610128610b66565b61012890610be86106da610671565b610c117f0000000000000000000000000000000000000000000000000000000000000000610493565b9063c23a5cea90823b1561011657610969926109526000809461094560405190565b61012890610bd9565b15610c4357565b60405162461bcd60e51b815260206004820152601560248201527414d95b99195c881b9bdd08115b9d1c9e541bda5b9d605a1b6044820152606490fd5b61012833610cb36106e661015d7f0000000000000000000000000000000000000000000000000000000000000000610493565b14610c3c565b3561013e81610185565b903590601e193682900301821215610116570180359067ffffffffffffffff8211610116576020019136829003831361011657565b90610128610d0560405190565b92836108bd565b67ffffffffffffffff81116108df57602090601f01601f19160190565b90929192610d3e610d3982610d0c565b610cf8565b9381855260208501908284011161011657610128926102bf565b61013e913691610d29565b9a98969492909d9c9b99979593916101a08c019e60008d01610d8c916001600160a01b03169052565b60208c015260408b015260608a0152608089015260a088015260c087015260e08601526101008501526101208401526001600160a01b031661014083015265ffffffffffff16610160820152610180016101289165ffffffffffff169052565b91610df683610ec7565b610e0260208501610cb9565b91610e106040860186610cc3565b610e1991610d58565b8051906020012093610e2e6060870187610cc3565b610e3791610d58565b8051906020012095610e4b60808201610cb9565b90610e5860a08201610cb9565b90610e6560c08201610cb9565b90610e7260e08201610cb9565b9061010001610e8090610cb9565b91469330610e8d90610493565b95610e9760405190565b9c8d9c60208e019c610ea99c8e610d63565b908103825203610eb990826108bd565b8051906020012090565b2090565b610edd61013e91610ed6600090565b503561048a565b61048a565b61013e61013e61013e9290565b602080825261013e91016040808252906020017f566572696679696e675061796d61737465723a20696e76616c6964207369676e81527f6174757265206c656e67746820696e207061796d6173746572416e644461746160208201520190565b15610f5657565b60405162461bcd60e51b8152806106cb60048201610eef565b90610f7c610d3983610d0c565b918252565b61013e6000610f6f565b61013e610f81565b610ff39250610fee91506110216106e661015d61101b610fba61034d610120870187610cc3565b939299918a8299610fe9610fcf88859e965090565b610fd96040610ee2565b8114908115611049575b50610f4f565b610dec565b61135d565b917f000000000000000000000000000000000000000000000000000000000000000096610d58565b9061105f565b0361103e576110319160006113d5565b9061103a610f8b565b9190565b6110319160016113d5565b905061105861103a6041610ee2565b1438610fe3565b815161106e61103a6041610ee2565b036110915761013e91906020820151906060604084015193015160001a90611262565b8151916040926110a361103a85610ee2565b036110ba5761013e926020820151910151916110ff565b60405162461bcd60e51b815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e677468006044820152606490fd5b61013e9291906001600160ff1b0383169260ff1c601b0190611262565b61013e90610ee2565b1561112c57565b60405162461bcd60e51b815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c604482015261756560f01b6064820152608490fd5b61118961013e61013e9290565b60ff1690565b1561119657565b60405162461bcd60e51b815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202776272076616c604482015261756560f01b6064820152608490fd5b6109c96101289461120f606094989795611205608086019a6000870152565b60ff166020850152565b6040830152565b1561121d57565b60405162461bcd60e51b815260206004820152601860248201527f45434453413a20696e76616c6964207369676e617475726500000000000000006044820152606490fd5b6112de602094600094611273600090565b506112b36112808361111c565b6112ac61103a7f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0610ee2565b1115611125565b6112bd601b61117c565b60ff8616148015611310575b6112d29061118f565b604051948594856111e6565b838052039060015afa156109925760005161013e6112ff61015d600061070e565b6001600160a01b0383161415611216565b506112d261131e601c61117c565b60ff87161490506112c9565b906102f3610f7c6020937f19457468657265756d205369676e6564204d6573736167653a0a3332000000008152601c0190565b61138561136960405190565b809261137960208301918261132a565b908103825203826108bd565b610ec3611390825190565b9160200190565b61013e61013e61013e9265ffffffffffff1690565b61013e906113c061103a61013e9460ff1690565b901b90565b61013e61013e61013e9260ff1690565b6114269161141c916000901561142a575061141561140f6113ff6113f9600161117c565b93611397565b61140960a061117c565b906113ac565b916113c5565b1792611397565b61140960d061117c565b1790565b61140f6113ff6113f96114159361117c565b61013e6014610ee2565b61013e6054610ee2565b90939293848311610116578411610116578101920390565b91906040838203126101165761013e906114828185610386565b93602001610386565b916102bb808361149961143c565b6114bb6114b36102bb6114aa611446565b8094868c611450565b810190611468565b96909761145056fea26469706673582212208899fb33dd8c69445c982f410a39c7677f7257ec7ab219d04e93a9f633a42ddb64736f6c63430008140033"}}},{package:"$root$",file:"test/e2e/seeder/contracts/verifyingPaymaster.ts"}],[5939,{"./contracts/entrypoint":5936,"./contracts/simpleAccountFactory":5937,"./contracts/verifyingPaymaster":5938,"@metamask/test-dapp/dist/constants.json":2886},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){const{hstBytecode:n,hstAbi:r,piggybankBytecode:i,piggybankAbi:a,nftsAbi:s,nftsBytecode:o,erc1155Abi:c,erc1155Bytecode:d,failingContractAbi:u,failingContractBytecode:b,multisigAbi:l,multisigBytecode:p}=e("@metamask/test-dapp/dist/constants.json"),{entrypointAbi:h,entrypointBytecode:y}=e("./contracts/entrypoint"),{simpleAccountFactoryAbi:g,simpleAccountFactoryBytecode:m}=e("./contracts/simpleAccountFactory"),{verifyingPaymasterAbi:w,verifyingPaymasterBytecode:v}=e("./contracts/verifyingPaymaster"),T={HST:"hst",NFTS:"nfts",ERC1155:"erc1155",PIGGYBANK:"piggybank",FAILING:"failing",MULTISIG:"multisig",ENTRYPOINT:"entrypoint",SIMPLE_ACCOUNT_FACTORY:"simpleAccountFactory",VERIFYING_PAYMASTER:"verifyingPaymaster"},k={[T.HST]:{initialAmount:10,tokenName:"TST",decimalUnits:4,tokenSymbol:"TST",bytecode:n,abi:r},[T.NFTS]:{bytecode:o,abi:s},[T.ERC1155]:{bytecode:d,abi:c},[T.PIGGYBANK]:{bytecode:i,abi:a},[T.FAILING]:{bytecode:b,abi:u},[T.MULTISIG]:{bytecode:p,abi:l},[T.ENTRYPOINT]:{bytecode:y,abi:h},[T.SIMPLE_ACCOUNT_FACTORY]:{abi:g,bytecode:m},[T.VERIFYING_PAYMASTER]:{abi:w,bytecode:v}};f.exports={SMART_CONTRACTS:T,contractConfiguration:k}}}},{package:"$root$",file:"test/e2e/seeder/smart-contracts.js"}],[5940,{"./keyring-utils":5941,"@ethereumjs/tx":516,"@metamask/eth-sig-util":1777,"@metamask/utils":2974,buffer:4106,"ethereumjs-util":4363,ethers:4402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0}),t.KNOWN_PUBLIC_KEY_ADDRESSES=t.KNOWN_PUBLIC_KEY=t.KNOWN_PRIVATE_KEYS=t.FakeTrezorBridge=t.FakeLedgerBridge=t.FakeKeyringBridge=t.CHAIN_CODE=void 0;var n=e("@ethereumjs/tx"),r=e("@metamask/eth-sig-util"),i=e("@metamask/utils"),a=e("ethereumjs-util"),s=e("ethers"),o=e("./keyring-utils");function c(e,f,t){(function(e,f){if(f.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,f),f.set(e,t)}function d(e,f,t){if("function"==typeof e?e===f:e.has(f))return arguments.length<3?f:t;throw new TypeError("Private element is not present on this object")}const u=t.KNOWN_PUBLIC_KEY="03752603a8131fd03fe726434e82a181c3a6bc227a44660ab774a482d29d1172c3",b=t.CHAIN_CODE="2b73df9ce5df820c728c8f77d51a72ec578e25c6a3c5e32b65fd43d2b4fb0e63",l=t.KNOWN_PUBLIC_KEY_ADDRESSES=[{address:"0xF68464152d7289D7eA9a2bEC2E0035c45188223c",balance:null,index:0},{address:"0x9EE70472c9D1B1679A33f2f0549Ab5BFFCE118eF",balance:null,index:1},{address:"0x3185aC9266D3DF3D95dC847e2B88b52F12A34C21",balance:null,index:2},{address:"0x49EED7a86c1C404e2666Ac12BF00Af63804AC78d",balance:null,index:3},{address:"0x1d374341feBd02C2F30929d2B4a767676799E1f2",balance:null,index:4}],p=t.KNOWN_PRIVATE_KEYS=["d41051826c32a548e55aa3e0dee93e96425b0f355df1e06d1595ed69385f8dc3","780f45733fe48f03ab993b071a11e77147ca959d417e048c7da5ac06b8283e51","daf3144f471e0531e5efd6e81b4907a4154fec5fdb53cf4f94c4b4195e6473fb","841f90906439526b3771c0aa51f93f6aae5c5ee0fdc73d0d8ff7f8a9b28754d7","7df6c85f059939631c05e72b6fc3c54423754a5162ae4a69b14b38219c430665"];class h{async init(){return Promise.resolve()}}t.FakeKeyringBridge=h;var y=new WeakMap;t.FakeTrezorBridge=class extends h{constructor(){var e,f,t;super(),c(this,y,void 0),e=y,f=this,t={success:!0,payload:{publicKey:u,chainCode:b,address:l[0].address}},e.set(d(e,f),t)}async getPublicKey(){return f=this,(e=y).get(d(e,f));var e,f}async dispose(){return Promise.resolve()}async ethereumSignTransaction({transaction:e}){const t=o.Common.custom({chain:{name:"localhost",chainId:e.chainId,networkId:e.chainId},chainId:e.chainId,hardfork:"istanbul"}),r=n.TransactionFactory.fromTxData(e,{common:t}).sign(f.from(p[0],"hex"));return{id:1,success:!0,payload:{v:(0,i.bigIntToHex)(r.v),r:(0,i.bigIntToHex)(r.r),s:(0,i.bigIntToHex)(r.s),serializedTx:(0,i.bytesToHex)(r.serialize())}}}async ethereumSignTypedData(e){const f={types:e.data.types,domain:e.data.domain,primaryType:e.data.primaryType,message:e.data.message},t=(0,r.signTypedData)({privateKey:p[0],data:f,version:r.SignTypedDataVersion.V4});return{id:1,success:!0,payload:{address:l[0].address,signature:t}}}};t.FakeLedgerBridge=class extends h{async getPublicKey(e){const{hdPath:f}=e,t=f.split("/"),n=t[t.length-3],r=parseInt(n,10),i=!isNaN(r)&&r>=0&&r<l.length?r:0,{address:a}=l[i];return{publicKey:u,chainCode:b,address:a}}async destroy(){return Promise.resolve()}async deviceSignTransaction({tx:e}){const t=f.from(e,"hex"),r=t[0];let s,c,d;if(1===r)throw s=1,new Error("Unsupported transaction type: EIP-2930 (type 1) not yet implemented in FakeLedgerBridge.");if(2===r){s=2,c=t.slice(1);const e=a.rlp.decode(c);d=(0,i.bytesToBigInt)(e[0])}else{s=0,c=t;const e=a.rlp.decode(c);d=(0,i.bytesToBigInt)(e[6])}const u=o.Common.custom({chain:{name:"localhost",chainId:d,networkId:d},chainId:d,hardfork:2===s?"london":"muirGlacier"});if(0===s){const e=a.rlp.decode(c),t=n.LegacyTransaction.fromValuesArray(e.slice(0,6),{common:u}).sign(f.from(p[0],"hex"));return{v:(0,i.bigIntToHex)(t.v),r:(0,i.bigIntToHex)(t.r),s:(0,i.bigIntToHex)(t.s)}}if(2===s){const e=a.rlp.decode(c),t=n.FeeMarketEIP1559Transaction.fromValuesArray(e,{common:u}).sign(f.from(p[0],"hex"));return{v:(0,i.bigIntToHex)(t.v),r:(0,i.bigIntToHex)(t.r),s:(0,i.bigIntToHex)(t.s)}}throw new Error("Unsupported transaction type.")}updateTransportMethod(){return!0}async deviceSignTypedData(e){const{domain:f,types:t,primaryType:n,message:a}=e.message,o={types:t,domain:f,primaryType:n,message:a},c=(0,r.signTypedData)({privateKey:p[0],data:o,version:r.SignTypedDataVersion.V4}),{r:d,s:u,v:b}=s.utils.splitSignature(c);return{r:(0,i.remove0x)(d),s:(0,i.remove0x)(u),v:b}}async deviceSignMessage(e){const{message:f}=e,t=(0,r.personalSign)({privateKey:p[0],data:(0,i.add0x)(f)}),{r:n,s:a,v:o}=s.utils.splitSignature(t);return{r:(0,i.remove0x)(n),s:(0,i.remove0x)(a),v:o}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"test/stub/keyring-bridge.js"}],[5941,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Common=void 0,t.addHexPrefix=function(e){if(e.startsWith("0x"))return e;return`0x${e}`};class n{constructor({chain:e,hardfork:f}){this.chain=e,this.hardfork=f,this.customCrypto={}}static custom({chain:e,chainId:f,networkId:t},r={}){return new n({chain:{name:e.name||"custom-chain",chainId:f||e.chainId,networkId:t||e.networkId},hardfork:r.hardfork||"istanbul"})}copy(){return new n({chain:this.chain,hardfork:this.hardfork})}gteHardfork(){return!0}chainId(){return BigInt(this.chain.chainId)}isActivatedEIP(){return!0}param(e){return{gasLimitBoundDivisor:1024,baseFeeChangeDenominator:8,elasticityMultiplier:2,maxPriorityFeePerGas:0,maxFeePerGas:0}[e]||0}}t.Common=n}}},{package:"$root$",file:"test/stub/keyring-utils.js"}],[5942,{"../../shared/constants/network":5813,"@metamask/keyring-api":2077,"@metamask/network-controller":2321,uuid:5741},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mockNetworkStateOld=t.mockNetworkState=t.mockMultichainNetworkState=void 0;var n=e("@metamask/network-controller"),r=e("uuid"),i=e("@metamask/keyring-api"),a=e("../../shared/constants/network");t.mockNetworkStateOld=(...e)=>{const f=e.map((e=>({id:e.id??(0,r.v4)(),chainId:e.chainId,rpcUrl:"rpcUrl"in e?e.rpcUrl:`https://localhost/rpc/${e.chainId}`,nickname:"nickname"in e?e.nickname:a.NETWORK_TO_NAME_MAP[e.chainId],ticker:"ticker"in e?e.ticker:a.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e.chainId],...(!("blockExplorerUrl"in e)||e.blockExplorerUrl)&&{rpcPrefs:{blockExplorerUrl:e.blockExplorerUrl??`https://localhost/blockExplorer/${e.chainId}`}}}))),t=e.reduce(((e,t,r)=>({...e,[f[r].id]:t.metadata??{EIPS:{},status:n.NetworkStatus.Available}})),{});return{selectedNetworkClientId:f[0].id,networkConfigurations:f.reduce(((e,f)=>({...e,[f.id]:f})),{}),networksMetadata:t}};t.mockMultichainNetworkState=()=>({multichainNetworkConfigurationsByChainId:{[i.BtcScope.Mainnet]:{chainId:i.BtcScope.Mainnet,name:"Bitcoin",nativeCurrency:`${i.BtcScope.Mainnet}/slip44:0`,isEvm:!1},[i.SolScope.Mainnet]:{chainId:i.SolScope.Mainnet,name:"Solana",nativeCurrency:`${i.SolScope.Mainnet}/slip44:501`,isEvm:!1}},selectedMultichainNetworkChainId:i.BtcScope.Mainnet,isEvmSelected:!0,networksWithTransactionActivity:{"0x0dcd5d886577d5081b0c52e242ef29e70be3e7bc":{namespace:"eip155",activeChains:["0x5"]}}});t.mockNetworkState=(...e)=>{if(new Set(e.map((e=>e.chainId))).size!==e.length)throw"mockNetworkState doesnt currently support multiple rpc urls per chain id";const f=e.map((e=>{const f=!("blockExplorerUrl"in e)||e.blockExplorerUrl?e.blockExplorerUrl??`https://localhost/blockExplorer/${e.chainId}`:undefined,t="rpcUrl"in e?e.rpcUrl:`https://localhost/rpc/${e.chainId}`;return{chainId:e.chainId,blockExplorerUrls:f?[f]:[],defaultBlockExplorerUrlIndex:f?0:undefined,rpcEndpoints:[{networkClientId:e.id??(0,r.v4)(),type:n.RpcEndpointType.Custom,url:t}],defaultRpcEndpointIndex:0,name:"nickname"in e?e.nickname:a.NETWORK_TO_NAME_MAP[e.chainId],nativeCurrency:"ticker"in e?e.ticker:a.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e.chainId]}})),t=e.reduce(((e,t,r)=>({...e,[f[r].rpcEndpoints[0].networkClientId]:t.metadata??{EIPS:{},status:n.NetworkStatus.Available}})),{});return{selectedNetworkClientId:f[0].rpcEndpoints[0].networkClientId,networkConfigurationsByChainId:f.reduce(((e,f)=>({...e,[f.chainId]:f})),{}),networksMetadata:t}}}}},{package:"$root$",file:"test/stub/networks.ts"}],[6,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.COOKIE_ID_MARKETING_WHITELIST_ORIGINS=t.COOKIE_ID_MARKETING_WHITELIST=void 0;const n=t.COOKIE_ID_MARKETING_WHITELIST=["https://metamask.io","https://learn.metamask.io","https://mmi-support.zendesk.com","https://community.metamask.io","https://support.metamask.io"];t.COOKIE_ID_MARKETING_WHITELIST_ORIGINS=n.map((e=>new URL(e).origin))}}},{package:"$root$",file:"app/scripts/constants/marketing-site-whitelist.ts"}],[60,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getTransactionControllerInitMessenger=function(e){return e.getRestricted({name:"TransactionControllerInit",allowedEvents:["TransactionController:transactionApproved","TransactionController:transactionConfirmed","TransactionController:transactionDropped","TransactionController:transactionFailed","TransactionController:transactionNewSwapApproval","TransactionController:transactionNewSwap","TransactionController:transactionRejected","TransactionController:transactionSubmitted","TransactionController:postTransactionBalanceUpdated","TransactionController:unapprovedTransactionAdded","SmartTransactionsController:smartTransaction"],allowedActions:["ApprovalController:acceptRequest","ApprovalController:addRequest","ApprovalController:endFlow","ApprovalController:startFlow","ApprovalController:updateRequestState","AppStateController:getState","DelegationController:signDelegation","InstitutionalSnapController:beforeCheckPendingTransactionHook","InstitutionalSnapController:publishHook","KeyringController:signEip7702Authorization","KeyringController:signTypedMessage","NetworkController:getEIP1559Compatibility","RemoteFeatureFlagController:getState","SwapsController:setApproveTxId","SwapsController:setTradeTxId","TransactionController:estimateGas","TransactionController:getState"]})},t.getTransactionControllerMessenger=function(e){return e.getRestricted({name:"TransactionController",allowedActions:["AccountsController:getSelectedAccount","AccountsController:getState","ApprovalController:addRequest","KeyringController:signEip7702Authorization","NetworkController:findNetworkClientIdByChainId","NetworkController:getNetworkClientById","RemoteFeatureFlagController:getState"],allowedEvents:["NetworkController:stateChange"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/transaction-controller-messenger.ts"}],[61,{"./multichain-assets-controller-init":62,"./multichain-balances-controller-init":63,"./multichain-network-controller-init":64,"./multichain-rates-assets-controller-init":66,"./multichain-transactions-controller-init":67},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MultichainAssetsControllerInit",{enumerable:!0,get:function(){return n.MultichainAssetsControllerInit}}),Object.defineProperty(t,"MultichainAssetsRatesControllerInit",{enumerable:!0,get:function(){return s.MultichainAssetsRatesControllerInit}}),Object.defineProperty(t,"MultichainBalancesControllerInit",{enumerable:!0,get:function(){return r.MultichainBalancesControllerInit}}),Object.defineProperty(t,"MultichainNetworkControllerInit",{enumerable:!0,get:function(){return a.MultichainNetworkControllerInit}}),Object.defineProperty(t,"MultichainTransactionsControllerInit",{enumerable:!0,get:function(){return i.MultichainTransactionsControllerInit}});var n=e("./multichain-assets-controller-init"),r=e("./multichain-balances-controller-init"),i=e("./multichain-transactions-controller-init"),a=e("./multichain-network-controller-init"),s=e("./multichain-rates-assets-controller-init")}}},{package:"$root$",file:"app/scripts/controller-init/multichain/index.ts"}],[62,{"@metamask/assets-controllers":1457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultichainAssetsControllerInit=void 0;var n=e("@metamask/assets-controllers");t.MultichainAssetsControllerInit=({controllerMessenger:e,persistedState:f})=>({controller:new n.MultichainAssetsController({messenger:e,state:f.MultichainAssetsController})})}}},{package:"$root$",file:"app/scripts/controller-init/multichain/multichain-assets-controller-init.ts"}],[63,{"@metamask/assets-controllers":1457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultichainBalancesControllerInit=void 0;var n=e("@metamask/assets-controllers");t.MultichainBalancesControllerInit=({controllerMessenger:e,persistedState:f})=>({controller:new n.MultichainBalancesController({messenger:e,state:f.MultichainBalancesController})})}}},{package:"$root$",file:"app/scripts/controller-init/multichain/multichain-balances-controller-init.ts"}],[64,{"./multichain-network-service-init":65,"@metamask/multichain-network-controller":2212},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultichainNetworkControllerInit=void 0;var n=e("@metamask/multichain-network-controller"),r=e("./multichain-network-service-init");t.MultichainNetworkControllerInit=({controllerMessenger:e,persistedState:f})=>{const t=(0,r.MultichainNetworkServiceInit)();return{controller:new n.MultichainNetworkController({messenger:e,state:f.MultichainNetworkController,networkService:t})}}}}},{package:"$root$",file:"app/scripts/controller-init/multichain/multichain-network-controller-init.ts"}],[65,{"@metamask/multichain-network-controller":2212},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultichainNetworkServiceInit=void 0;var n=e("@metamask/multichain-network-controller");t.MultichainNetworkServiceInit=()=>new n.MultichainNetworkService({fetch:window.fetch.bind(window)})}}},{package:"$root$",file:"app/scripts/controller-init/multichain/multichain-network-service-init.ts"}],[66,{"@metamask/assets-controllers":1457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultichainAssetsRatesControllerInit=void 0;var n=e("@metamask/assets-controllers");t.MultichainAssetsRatesControllerInit=({controllerMessenger:e,persistedState:f})=>({controller:new n.MultichainAssetsRatesController({messenger:e,state:f.MultichainAssetsRatesController})})}}},{package:"$root$",file:"app/scripts/controller-init/multichain/multichain-rates-assets-controller-init.ts"}],[67,{"@metamask/multichain-transactions-controller":2218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultichainTransactionsControllerInit=void 0;var n=e("@metamask/multichain-transactions-controller");t.MultichainTransactionsControllerInit=({controllerMessenger:e,persistedState:f})=>({controller:new n.MultichainTransactionsController({messenger:e,state:f.MultichainTransactionsController})})}}},{package:"$root$",file:"app/scripts/controller-init/multichain/multichain-transactions-controller-init.ts"}],[670,{"@firebase/component":671,"@firebase/logger":673,"@firebase/util":676,idb:4700},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FirebaseError",{enumerable:!0,get:function(){return i.FirebaseError}}),t._DEFAULT_ENTRY_NAME=t.SDK_VERSION=void 0,t._addComponent=y,t._addOrOverwriteComponent=function(e,f){e.container.addOrOverwriteComponent(f)},t._apps=void 0,t._clearComponents=function(){h.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t._components=void 0,t._getProvider=m,t._isFirebaseApp=w,t._isFirebaseServerApp=function(e){return e.settings!==undefined},t._registerComponent=g,t._removeServiceInstance=function(e,f,t=u){m(e,f).clearInstance(t)},t._serverApps=void 0,t.deleteApp=_,t.getApp=function(e=u){const f=l.get(e);if(!f&&e===u&&(0,i.getDefaultAppConfig)())return I();if(!f)throw T.create("no-app",{appName:e});return f},t.getApps=function(){return Array.from(l.values())},t.initializeApp=I,t.initializeServerApp=function(e,f){if((0,i.isBrowser)()&&!(0,i.isWebWorker)())throw T.create("invalid-server-app-environment");f.automaticDataCollectionEnabled===undefined&&(f.automaticDataCollectionEnabled=!1);let t;t=w(e)?e.options:e;const r=Object.assign(Object.assign({},f),t);r.releaseOnDeref!==undefined&&delete r.releaseOnDeref;if(f.releaseOnDeref!==undefined&&"undefined"==typeof FinalizationRegistry)throw T.create("finalization-registry-not-supported",{});const a=""+(o=JSON.stringify(r),[...o].reduce(((e,f)=>Math.imul(31,e)+f.charCodeAt(0)|0),0)),s=p.get(a);var o;if(s)return s.incRefCount(f.releaseOnDeref),s;const c=new n.ComponentContainer(a);for(const e of h.values())c.addComponent(e);const d=new C(t,f,a,c);return p.set(a,d),d},t.onLog=function(e,f){if(null!==e&&"function"!=typeof e)throw T.create("invalid-log-argument");(0,r.setUserLogHandler)(e,f)},t.registerVersion=S,t.setLogLevel=function(e){(0,r.setLogLevel)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */;var n=e("@firebase/component"),r=e("@firebase/logger"),i=e("@firebase/util"),a=e("idb");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class s{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const f=e.getComponent();return"VERSION"===(null==f?void 0:f.type)}(e)){const f=e.getImmediate();return`${f.library}/${f.version}`}return null})).filter((e=>e)).join(" ")}}const o="@firebase/app",c="0.10.18",d=new r.Logger("@firebase/app"),u=t._DEFAULT_ENTRY_NAME="[DEFAULT]",b={[o]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},l=t._apps=new Map,p=t._serverApps=new Map,h=t._components=new Map;function y(e,f){try{e.container.addComponent(f)}catch(t){d.debug(`Component ${f.name} failed to register with FirebaseApp ${e.name}`,t)}}function g(e){const f=e.name;if(h.has(f))return d.debug(`There were multiple attempts to register component ${f}.`),!1;h.set(f,e);for(const f of l.values())y(f,e);for(const f of p.values())y(f,e);return!0}function m(e,f){const t=e.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),e.container.getProvider(f)}function w(e){return e.options!==undefined}const v={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},T=new i.ErrorFactory("app","Firebase",v);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class k{constructor(e,f,t){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},f),this._name=f.name,this._automaticDataCollectionEnabled=f.automaticDataCollectionEnabled,this._container=t,this.container.addComponent(new n.Component("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw T.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C extends k{constructor(e,f,t,n){const r=f.automaticDataCollectionEnabled!==undefined&&f.automaticDataCollectionEnabled,i={name:t,automaticDataCollectionEnabled:r};if(e.apiKey!==undefined)super(e,i,n);else{super(e.options,i,n)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:r},f),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=undefined,f.releaseOnDeref=undefined,S(o,c,"serverapp")}toJSON(){return undefined}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==undefined&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){_(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw T.create("server-app-deleted")}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.SDK_VERSION="11.2.0";function I(e,f={}){let t=e;if("object"!=typeof f){f={name:f}}const r=Object.assign({name:u,automaticDataCollectionEnabled:!1},f),a=r.name;if("string"!=typeof a||!a)throw T.create("bad-app-name",{appName:String(a)});if(t||(t=(0,i.getDefaultAppConfig)()),!t)throw T.create("no-options");const s=l.get(a);if(s){if((0,i.deepEqual)(t,s.options)&&(0,i.deepEqual)(r,s.config))return s;throw T.create("duplicate-app",{appName:a})}const o=new n.ComponentContainer(a);for(const e of h.values())o.addComponent(e);const c=new k(t,r,o);return l.set(a,c),c}async function _(e){let f=!1;const t=e.name;if(l.has(t))f=!0,l.delete(t);else if(p.has(t)){e.decRefCount()<=0&&(p.delete(t),f=!0)}f&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function S(e,f,t){var r;let i=null!==(r=b[e])&&void 0!==r?r:e;t&&(i+=`-${t}`);const a=i.match(/\s|\//),s=f.match(/\s|\//);if(a||s){const e=[`Unable to register library "${i}" with version "${f}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${f}" contains illegal characters (whitespace or "/")`),void d.warn(e.join(" "))}g(new n.Component(`${i}-version`,(()=>({library:i,version:f})),"VERSION"))}const A="firebase-heartbeat-database",x=1,E="firebase-heartbeat-store";let P=null;function D(){return P||(P=(0,a.openDB)(A,x,{upgrade:(e,f)=>{if(0===f)try{e.createObjectStore(E)}catch(e){console.warn(e)}}}).catch((e=>{throw T.create("idb-open",{originalErrorMessage:e.message})}))),P}async function O(e,f){try{const t=(await D()).transaction(E,"readwrite"),n=t.objectStore(E);await n.put(f,N(e)),await t.done}catch(e){if(e instanceof i.FirebaseError)d.warn(e.message);else{const f=T.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});d.warn(f.message)}}}function N(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.container=e,this._heartbeatsCache=null;const f=this.container.getProvider("app").getImmediate();this._storage=new j(f),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,f;try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=M();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(f=this._heartbeatsCache)||void 0===f?void 0:f.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return;return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const f=new Date(e.date).valueOf();return Date.now()-f<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(e){d.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const f=M(),{heartbeatsToSend:t,unsentEntries:n}=function(e,f=1024){const t=[];let n=e.slice();for(const r of e){const e=t.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),B(t)>f){e.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),B(t)>f){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}(this._heartbeatsCache.heartbeats),r=(0,i.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=f,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return d.warn(e),""}}}function M(){return(new Date).toISOString().substring(0,10)}class j{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.isIndexedDBAvailable)()&&(0,i.validateIndexedDBOpenable)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const f=(await D()).transaction(E),t=await f.objectStore(E).get(N(e));return await f.done,t}catch(e){if(e instanceof i.FirebaseError)d.warn(e.message);else{const f=T.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});d.warn(f.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var f;if(await this._canUseIndexedDBPromise){const t=await this.read();return O(this.app,{lastSentHeartbeatDate:null!==(f=e.lastSentHeartbeatDate)&&void 0!==f?f:t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var f;if(await this._canUseIndexedDBPromise){const t=await this.read();return O(this.app,{lastSentHeartbeatDate:null!==(f=e.lastSentHeartbeatDate)&&void 0!==f?f:t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function B(e){return(0,i.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L;L="",g(new n.Component("platform-logger",(e=>new s(e)),"PRIVATE")),g(new n.Component("heartbeat",(e=>new R(e)),"PRIVATE")),S(o,c,L),S(o,c,"esm2017"),S("fire-js","")}}},{package:"@metamask/notification-services-controller>firebase>@firebase/app",file:"node_modules/@firebase/app/dist/esm/index.esm2017.js"}],[671,{"@firebase/util":676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=t.ComponentContainer=t.Component=void 0;var n=e("@firebase/util");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.Component=class{constructor(e,f,t){this.name=e,this.instanceFactory=f,this.type=t,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};const r="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i{constructor(e,f){this.name=e,this.container=f,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const f=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(f)){const e=new n.Deferred;if(this.instancesDeferred.set(f,e),this.isInitialized(f)||this.shouldAutoInitialize())try{const t=this.getOrInitializeService({instanceIdentifier:f});t&&e.resolve(t)}catch(e){}}return this.instancesDeferred.get(f).promise}getImmediate(e){var f;const t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(f=null==e?void 0:e.optional)&&void 0!==f&&f;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:r})}catch(e){}for(const[e,f]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:t});f.resolve(e)}catch(e){}}}}clearInstance(e=r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=r){return this.instances.has(e)}getOptions(e=r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:f={}}=e,t=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(t))throw Error(`${this.name}(${t}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:t,options:f});for(const[e,f]of this.instancesDeferred.entries()){t===this.normalizeInstanceIdentifier(e)&&f.resolve(n)}return n}onInit(e,f){var t;const n=this.normalizeInstanceIdentifier(f),r=null!==(t=this.onInitCallbacks.get(n))&&void 0!==t?t:new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,f){const t=this.onInitCallbacks.get(f);if(t)for(const n of t)try{n(e,f)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:f={}}){let t=this.instances.get(e);if(!t&&this.component&&(t=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===r?undefined:n),options:f}),this.instances.set(e,t),this.instancesOptions.set(e,f),this.invokeOnInitCallbacks(t,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,t)}catch(e){}var n;return t||null}normalizeInstanceIdentifier(e=r){return this.component?this.component.multipleInstances?e:r:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}t.Provider=i;t.ComponentContainer=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const f=this.getProvider(e.name);if(f.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);f.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const f=new i(e,this);return this.providers.set(e,f),f}getProviders(){return Array.from(this.providers.values())}}}}},{package:"@metamask/notification-services-controller>firebase>@firebase/app>@firebase/component",file:"node_modules/@firebase/component/dist/esm/index.esm2017.js"}],[672,{"@firebase/app":670,"@firebase/component":671,"@firebase/util":676,idb:4700},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteInstallations=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e){const{appConfig:f}=e,t=await H(f,(e=>e&&0===e.registrationStatus?undefined:e));if(t){if(1===t.registrationStatus)throw h.create("delete-pending-registration");if(2===t.registrationStatus){if(!navigator.onLine)throw h.create("app-offline");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
await async function(e,f){const t=function(e,{fid:f}){return`${g(e)}/${f}`}(e,f),n=T(e,f),r={method:"DELETE",headers:n},i=await k((()=>fetch(t,r)));if(!i.ok)throw await w("Delete Installation",i)}(f,t),await F(f)}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.getId=J,t.getInstallations=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e=(0,n.getApp)()){return(0,n._getProvider)(e,"installations").getImmediate()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.getToken=Z,t.onIdChange=function(e,f){const{appConfig:t}=e;return function(e,f){O();const t=A(e);let n=x.get(t);n||(n=new Set,x.set(t,n));n.add(f)}(t,f),()=>{!function(e,f){const t=A(e),n=x.get(t);if(!n)return;n.delete(f),0===n.size&&x.delete(t);N()}(t,f)}};var n=e("@firebase/app"),r=e("@firebase/component"),i=e("@firebase/util"),a=e("idb");const s="@firebase/installations",o="0.6.12",c=1e4,d=`w:${o}`,u="FIS_v2",b="https://firebaseinstallations.googleapis.com/v1",l=36e5,p={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},h=new i.ErrorFactory("installations","Installations",p);function y(e){return e instanceof i.FirebaseError&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g({projectId:e}){return`${b}/projects/${e}/installations`}function m(e){return{token:e.token,requestStatus:2,expiresIn:(f=e.expiresIn,Number(f.replace("s","000"))),creationTime:Date.now()};var f}async function w(e,f){const t=(await f.json()).error;return h.create("request-failed",{requestName:e,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function v({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function T(e,{refreshToken:f}){const t=v(e);return t.append("Authorization",function(e){return`${u} ${e}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(f)),t}async function k(e){const f=await e();return f.status>=500&&f.status<600?e():f}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function C(e){return new Promise((f=>{setTimeout(f,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const I=/^[cdef][\w-]{21}$/,_="";function S(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const f=function(e){const f=(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_"));var t;return f.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return I.test(f)?f:_}catch(e){return _}}function A(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x=new Map;function E(e,f){const t=A(e);P(t,f),function(e,f){const t=O();t&&t.postMessage({key:e,fid:f});N()}(t,f)}function P(e,f){const t=x.get(e);if(t)for(const e of t)e(f)}let D=null;function O(){return!D&&"BroadcastChannel"in self&&(D=new BroadcastChannel("[Firebase] FID Change"),D.onmessage=e=>{P(e.data.key,e.data.fid)}),D}function N(){0===x.size&&D&&(D.close(),D=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R="firebase-installations-database",M=1,j="firebase-installations-store";let B=null;function L(){return B||(B=(0,a.openDB)(R,M,{upgrade:(e,f)=>{if(0===f)e.createObjectStore(j)}})),B}async function K(e,f){const t=A(e),n=(await L()).transaction(j,"readwrite"),r=n.objectStore(j),i=await r.get(t);return await r.put(f,t),await n.done,i&&i.fid===f.fid||E(e,f.fid),f}async function F(e){const f=A(e),t=(await L()).transaction(j,"readwrite");await t.objectStore(j).delete(f),await t.done}async function H(e,f){const t=A(e),n=(await L()).transaction(j,"readwrite"),r=n.objectStore(j),i=await r.get(t),a=f(i);return a===undefined?await r.delete(t):await r.put(a,t),await n.done,!a||i&&i.fid===a.fid||E(e,a.fid),a}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q(e){let f;const t=await H(e.appConfig,(t=>{const n=function(e){const f=e||{fid:S(),registrationStatus:0};return G(f)}(t),r=function(e,f){if(0===f.registrationStatus){if(!navigator.onLine){return{installationEntry:f,registrationPromise:Promise.reject(h.create("app-offline"))}}const t={fid:f.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(e,f){try{const t=await async function({appConfig:e,heartbeatServiceProvider:f},{fid:t}){const n=g(e),r=v(e),i=f.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const a={fid:t,authVersion:u,appId:e.appId,sdkVersion:d},s={method:"POST",headers:r,body:JSON.stringify(a)},o=await k((()=>fetch(n,s)));if(o.ok){const e=await o.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:m(e.authToken)}}throw await w("Create Installation",o)}(e,f);return K(e.appConfig,t)}catch(t){throw y(t)&&409===t.customData.serverCode?await F(e.appConfig):await K(e.appConfig,{fid:f.fid,registrationStatus:0}),t}}(e,t);return{installationEntry:t,registrationPromise:n}}return 1===f.registrationStatus?{installationEntry:f,registrationPromise:U(e)}:{installationEntry:f}}(e,n);return f=r.registrationPromise,r.installationEntry}));return t.fid===_?{installationEntry:await f}:{installationEntry:t,registrationPromise:f}}async function U(e){let f=await $(e.appConfig);for(;1===f.registrationStatus;)await C(100),f=await $(e.appConfig);if(0===f.registrationStatus){const{installationEntry:f,registrationPromise:t}=await q(e);return t||f}return f}function $(e){return H(e,(e=>{if(!e)throw h.create("installation-not-found");return G(e)}))}function G(e){return 1===(f=e).registrationStatus&&f.registrationTime+c<Date.now()?{fid:e.fid,registrationStatus:0}:e;var f;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}async function W({appConfig:e,heartbeatServiceProvider:f},t){const n=function(e,{fid:f}){return`${g(e)}/${f}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t),r=T(e,t),i=f.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const a={installation:{sdkVersion:d,appId:e.appId}},s={method:"POST",headers:r,body:JSON.stringify(a)},o=await k((()=>fetch(n,s)));if(o.ok){return m(await o.json())}throw await w("Generate Auth Token",o)}async function z(e,f=!1){let t;const n=await H(e.appConfig,(n=>{if(!Y(n))throw h.create("not-registered");const r=n.authToken;if(!f&&function(e){return 2===e.requestStatus&&!function(e){const f=Date.now();return f<e.creationTime||e.creationTime+e.expiresIn<f+l}(e)}(r))return n;if(1===r.requestStatus)return t=async function(e,f){let t=await V(e.appConfig);for(;1===t.authToken.requestStatus;)await C(100),t=await V(e.appConfig);const n=t.authToken;return 0===n.requestStatus?z(e,f):n}(e,f),n;{if(!navigator.onLine)throw h.create("app-offline");const f=function(e){const f={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:f})}(n);return t=async function(e,f){try{const t=await W(e,f),n=Object.assign(Object.assign({},f),{authToken:t});return await K(e.appConfig,n),t}catch(t){if(!y(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const t=Object.assign(Object.assign({},f),{authToken:{requestStatus:0}});await K(e.appConfig,t)}else await F(e.appConfig);throw t}}(e,f),f}}));return t?await t:n.authToken}function V(e){return H(e,(e=>{if(!Y(e))throw h.create("not-registered");const f=e.authToken;return 1===(t=f).requestStatus&&t.requestTime+c<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}function Y(e){return e!==undefined&&2===e.registrationStatus}async function J(e){const f=e,{installationEntry:t,registrationPromise:n}=await q(f);return n?n.catch(console.error):z(f).catch(console.error),t.fid}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z(e,f=!1){const t=e;await async function(e){const{registrationPromise:f}=await q(e);f&&await f}(t);return(await z(t,f)).token}function Q(e){return h.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X="installations",ee=e=>{const f=e.getProvider("app").getImmediate(),t=function(e){if(!e||!e.options)throw Q("App Configuration");if(!e.name)throw Q("App Name");const f=["projectId","apiKey","appId"];for(const t of f)if(!e.options[t])throw Q(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(f);return{app:f,appConfig:t,heartbeatServiceProvider:(0,n._getProvider)(f,"heartbeat"),_delete:()=>Promise.resolve()}},fe=e=>{const f=e.getProvider("app").getImmediate(),t=(0,n._getProvider)(f,X).getImmediate();return{getId:()=>J(t),getToken:e=>Z(t,e)}};(0,n._registerComponent)(new r.Component(X,ee,"PUBLIC")),(0,n._registerComponent)(new r.Component("installations-internal",fe,"PRIVATE")),(0,n.registerVersion)(s,o),(0,n.registerVersion)(s,o,"esm2017")}}},{package:"@metamask/notification-services-controller>firebase>@firebase/installations",file:"node_modules/@firebase/installations/dist/esm/index.esm2017.js"}],[673,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=[];var r;t.LogLevel=void 0,(r=t.LogLevel||(t.LogLevel={}))[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";const i={debug:t.LogLevel.DEBUG,verbose:t.LogLevel.VERBOSE,info:t.LogLevel.INFO,warn:t.LogLevel.WARN,error:t.LogLevel.ERROR,silent:t.LogLevel.SILENT},a=t.LogLevel.INFO,s={[t.LogLevel.DEBUG]:"log",[t.LogLevel.VERBOSE]:"log",[t.LogLevel.INFO]:"info",[t.LogLevel.WARN]:"warn",[t.LogLevel.ERROR]:"error"},o=(e,f,...t)=>{if(f<e.logLevel)return;const n=(new Date).toISOString(),r=s[f];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${f})`);console[r](`[${n}]  ${e.name}:`,...t)};t.Logger=class{constructor(e){this.name=e,this._logLevel=a,this._logHandler=o,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in t.LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,t.LogLevel.DEBUG,...e),this._logHandler(this,t.LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,t.LogLevel.VERBOSE,...e),this._logHandler(this,t.LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,t.LogLevel.INFO,...e),this._logHandler(this,t.LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,t.LogLevel.WARN,...e),this._logHandler(this,t.LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,t.LogLevel.ERROR,...e),this._logHandler(this,t.LogLevel.ERROR,...e)}},t.setLogLevel=function(e){n.forEach((f=>{f.setLogLevel(e)}))},t.setUserLogHandler=function(e,f){for(const r of n){let n=null;f&&f.level&&(n=i[f.level]),r.userLogHandler=null===e?null:(f,r,...i)=>{const a=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");r>=(null!=n?n:f.logLevel)&&e({level:t.LogLevel[r].toLowerCase(),message:a,args:i,type:f.name})}}}}}},{package:"@metamask/notification-services-controller>firebase>@firebase/app>@firebase/logger",file:"node_modules/@firebase/logger/dist/index.cjs.js"}],[674,{"@firebase/app":670,"@firebase/component":671,"@firebase/installations":672,"@firebase/util":676,idb:4700},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deleteToken=function(e){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e){if(!navigator)throw D.create("only-available-in-window");e.swRegistration||await q(e);return async function(e){const f=await A(e.firebaseDependencies);f&&(await O(e.firebaseDependencies,f.token),await async function(e){const f=E(e),t=(await S()).transaction(I,"readwrite");await t.objectStore(I).delete(f),await t.done}(e.firebaseDependencies));const t=await e.swRegistration.pushManager.getSubscription();if(t)return t.unsubscribe();return!0}(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=(0,i.getModularInstance)(e))},t.getMessaging=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e=(0,a.getApp)()){return J().then((e=>{if(!e)throw D.create("unsupported-browser")}),(e=>{throw D.create("indexed-db-unsupported")})),(0,a._getProvider)((0,i.getModularInstance)(e),"messaging").getImmediate()},t.getToken=async function(e,f){return U(e=(0,i.getModularInstance)(e),f)},t.isSupported=J,t.onMessage=function(e,f){return function(e,f){if(!navigator)throw D.create("only-available-in-window");return e.onMessageHandler=f,()=>{e.onMessageHandler=null}}(e=(0,i.getModularInstance)(e),f)},e("@firebase/installations");var n=e("@firebase/component"),r=e("idb"),i=e("@firebase/util"),a=e("@firebase/app");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s="/firebase-messaging-sw.js",o="/firebase-cloud-messaging-push-scope",c="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",d="https://fcmregistrations.googleapis.com/v1",u="google.c.a.c_id",b="google.c.a.c_l",l="google.c.a.ts",p=1e4;var h,y;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function g(e){const f=new Uint8Array(e);return btoa(String.fromCharCode(...f)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(e){const f=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),t=atob(f),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(h||(h={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(y||(y={}));const w="fcm_token_details_db",v=5,T="fcm_token_object_Store";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const k="firebase-messaging-database",C=1,I="firebase-messaging-store";let _=null;function S(){return _||(_=(0,r.openDB)(k,C,{upgrade:(e,f)=>{if(0===f)e.createObjectStore(I)}})),_}async function A(e){const f=E(e),t=await S(),n=await t.transaction(I).objectStore(I).get(f);if(n)return n;{const f=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(w))return null}let f=null;return(await(0,r.openDB)(w,v,{upgrade:async(t,n,r,i)=>{var a;if(n<2)return;if(!t.objectStoreNames.contains(T))return;const s=i.objectStore(T),o=await s.index("fcmSenderId").get(e);if(await s.clear(),o)if(2===n){const e=o;if(!e.auth||!e.p256dh||!e.endpoint)return;f={token:e.fcmToken,createTime:null!==(a=e.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:g(e.vapidKey)}}}else if(3===n){const e=o;f={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:g(e.auth),p256dh:g(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:g(e.vapidKey)}}}else if(4===n){const e=o;f={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:g(e.auth),p256dh:g(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:g(e.vapidKey)}}}}})).close(),await(0,r.deleteDB)(w),await(0,r.deleteDB)("fcm_vapid_details_db"),await(0,r.deleteDB)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:f}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof f.auth&&f.auth.length>0&&"string"==typeof f.p256dh&&f.p256dh.length>0&&"string"==typeof f.endpoint&&f.endpoint.length>0&&"string"==typeof f.swScope&&f.swScope.length>0&&"string"==typeof f.vapidKey&&f.vapidKey.length>0}(f)?f:null}(e.appConfig.senderId);if(f)return await x(e,f),f}}async function x(e,f){const t=E(e),n=(await S()).transaction(I,"readwrite");return await n.objectStore(I).put(f,t),await n.done,f}function E({appConfig:e}){return e.appId}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},D=new i.ErrorFactory("messaging","Messaging",P);async function O(e,f){const t={method:"DELETE",headers:await R(e)};try{const n=await fetch(`${N(e.appConfig)}/${f}`,t),r=await n.json();if(r.error){const e=r.error.message;throw D.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw D.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function N({projectId:e}){return`${d}/projects/${e}/registrations`}async function R({appConfig:e,installations:f}){const t=await f.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function M({p256dh:e,auth:f,endpoint:t,vapidKey:n}){const r={web:{endpoint:t,auth:f,p256dh:e}};return n!==c&&(r.web.applicationPubKey=n),r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=6048e5;async function B(e){const f=await async function(e,f){const t=await e.pushManager.getSubscription();if(t)return t;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:m(f)})}(e.swRegistration,e.vapidKey),t={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:f.endpoint,auth:g(f.getKey("auth")),p256dh:g(f.getKey("p256dh"))},n=await A(e.firebaseDependencies);if(n){if(function(e,f){const t=f.vapidKey===e.vapidKey,n=f.endpoint===e.endpoint,r=f.auth===e.auth,i=f.p256dh===e.p256dh;return t&&n&&r&&i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n.subscriptionOptions,t))return Date.now()>=n.createTime+j?async function(e,f){try{const t=await async function(e,f){const t=await R(e),n=M(f.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(n)};let i;try{const t=await fetch(`${N(e.appConfig)}/${f.token}`,r);i=await t.json()}catch(e){throw D.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(i.error){const e=i.error.message;throw D.create("token-update-failed",{errorInfo:e})}if(!i.token)throw D.create("token-update-no-token");return i.token}(e.firebaseDependencies,f),n=Object.assign(Object.assign({},f),{token:t,createTime:Date.now()});return await x(e.firebaseDependencies,n),t}catch(e){throw e}}(e,{token:n.token,createTime:Date.now(),subscriptionOptions:t}):n.token;try{await O(e.firebaseDependencies,n.token)}catch(e){console.warn(e)}return L(e.firebaseDependencies,t)}return L(e.firebaseDependencies,t)}async function L(e,f){const t=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */await async function(e,f){const t=await R(e),n=M(f),r={method:"POST",headers:t,body:JSON.stringify(n)};let i;try{const f=await fetch(N(e.appConfig),r);i=await f.json()}catch(e){throw D.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(i.error){const e=i.error.message;throw D.create("token-subscribe-failed",{errorInfo:e})}if(!i.token)throw D.create("token-subscribe-no-token");return i.token}(e,f),n={token:t,createTime:Date.now(),subscriptionOptions:f};return await x(e,n),n.token}function K(e){const f={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,f){if(!f.notification)return;e.notification={};const t=f.notification.title;t&&(e.notification.title=t);const n=f.notification.body;n&&(e.notification.body=n);const r=f.notification.image;r&&(e.notification.image=r);const i=f.notification.icon;i&&(e.notification.icon=i)}(f,e),function(e,f){if(!f.data)return;e.data=f.data}(f,e),function(e,f){var t,n,r,i,a;if(!f.fcmOptions&&!(null===(t=f.notification)||void 0===t?void 0:t.click_action))return;e.fcmOptions={};const s=null!==(r=null===(n=f.fcmOptions)||void 0===n?void 0:n.link)&&void 0!==r?r:null===(i=f.notification)||void 0===i?void 0:i.click_action;s&&(e.fcmOptions.link=s);const o=null===(a=f.fcmOptions)||void 0===a?void 0:a.analytics_label;o&&(e.fcmOptions.analyticsLabel=o)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(f,e),f}function F(e){return D.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,f){const t=[];for(let n=0;n<e.length;n++)t.push(e.charAt(n)),n<f.length&&t.push(f.charAt(n));t.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class H{constructor(e,f,t){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=function(e){if(!e||!e.options)throw F("App Configuration Object");if(!e.name)throw F("App Name");const f=["projectId","apiKey","appId","messagingSenderId"],{options:t}=e;for(const e of f)if(!t[e])throw F(e);return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:n,installations:f,analyticsProvider:t}}_delete(){return Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q(e){try{e.swRegistration=await navigator.serviceWorker.register(s,{scope:o}),e.swRegistration.update().catch((()=>{})),await async function(e){return new Promise(((f,t)=>{const n=setTimeout((()=>t(new Error(`Service worker not registered after ${p} ms`))),p),r=e.installing||e.waiting;e.active?(clearTimeout(n),f()):r?r.onstatechange=e=>{var t;"activated"===(null===(t=e.target)||void 0===t?void 0:t.state)&&(r.onstatechange=null,clearTimeout(n),f())}:(clearTimeout(n),t(new Error("No incoming service worker found.")))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.swRegistration)}catch(e){throw D.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function U(e,f){if(!navigator)throw D.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw D.create("permission-blocked");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return await async function(e,f){f?e.vapidKey=f:e.vapidKey||(e.vapidKey=c)}(e,null==f?void 0:f.vapidKey),await async function(e,f){if(f||e.swRegistration||await q(e),f||!e.swRegistration){if(!(f instanceof ServiceWorkerRegistration))throw D.create("invalid-sw-registration");e.swRegistration=f}}(e,null==f?void 0:f.serviceWorkerRegistration),B(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $(e,f,t){const n=function(e){switch(e){case y.NOTIFICATION_CLICKED:return"notification_open";case y.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(f);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:t[u],message_name:t[b],message_time:t[l],message_device_time:Math.floor(Date.now()/1e3)})}async function G(e,f){const t=f.data;if(!t.isFirebaseMessaging)return;e.onMessageHandler&&t.messageType===y.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(K(t)):e.onMessageHandler.next(K(t)));const n=t.data;var r;"object"==typeof(r=n)&&r&&u in r&&"1"===n["google.c.a.e"]&&await $(e,t.messageType,n)}const W="@firebase/messaging",z="0.12.16",V=e=>{const f=new H(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>G(f,e))),f},Y=e=>{const f=e.getProvider("messaging").getImmediate();return{getToken:e=>U(f,e)}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function J(){try{await(0,i.validateIndexedDBOpenable)()}catch(e){return!1}return"undefined"!=typeof window&&(0,i.isIndexedDBAvailable)()&&(0,i.areCookiesEnabled)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}(0,a._registerComponent)(new n.Component("messaging",V,"PUBLIC")),(0,a._registerComponent)(new n.Component("messaging-internal",Y,"PRIVATE")),(0,a.registerVersion)(W,z),(0,a.registerVersion)(W,z,"esm2017")}}},{package:"@metamask/notification-services-controller>firebase>@firebase/messaging",file:"node_modules/@firebase/messaging/dist/esm/index.esm2017.js"}],[675,{"@firebase/app":670,"@firebase/component":671,"@firebase/installations":672,"@firebase/util":676,idb:4700},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),e("@firebase/installations");var n=e("@firebase/component"),r=e("idb"),i=e("@firebase/util"),a=e("@firebase/app");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",o="https://fcmregistrations.googleapis.com/v1",c="FCM_MSG",d="google.c.a.c_id",u=3,b=1;var l,p;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function h(e){const f=new Uint8Array(e);return btoa(String.fromCharCode(...f)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function y(e){const f=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),t=atob(f),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(l||(l={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(p||(p={}));const g="fcm_token_details_db",m=5,w="fcm_token_object_Store";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const v="firebase-messaging-database",T=1,k="firebase-messaging-store";let C=null;function I(){return C||(C=r.openDB(v,T,{upgrade:(e,f)=>{if(0===f)e.createObjectStore(k)}})),C}async function _(e){const f=A(e),t=await I(),n=await t.transaction(k).objectStore(k).get(f);if(n)return n;{const f=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(g))return null}let f=null;return(await r.openDB(g,m,{upgrade:async(t,n,r,i)=>{var a;if(n<2)return;if(!t.objectStoreNames.contains(w))return;const s=i.objectStore(w),o=await s.index("fcmSenderId").get(e);if(await s.clear(),o)if(2===n){const e=o;if(!e.auth||!e.p256dh||!e.endpoint)return;f={token:e.fcmToken,createTime:null!==(a=e.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:h(e.vapidKey)}}}else if(3===n){const e=o;f={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:h(e.auth),p256dh:h(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:h(e.vapidKey)}}}else if(4===n){const e=o;f={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:h(e.auth),p256dh:h(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:h(e.vapidKey)}}}}})).close(),await r.deleteDB(g),await r.deleteDB("fcm_vapid_details_db"),await r.deleteDB("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:f}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof f.auth&&f.auth.length>0&&"string"==typeof f.p256dh&&f.p256dh.length>0&&"string"==typeof f.endpoint&&f.endpoint.length>0&&"string"==typeof f.swScope&&f.swScope.length>0&&"string"==typeof f.vapidKey&&f.vapidKey.length>0}(f)?f:null}(e.appConfig.senderId);if(f)return await S(e,f),f}}async function S(e,f){const t=A(e),n=(await I()).transaction(k,"readwrite");return await n.objectStore(k).put(f,t),await n.done,f}function A({appConfig:e}){return e.appId}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},E=new i.ErrorFactory("messaging","Messaging",x);async function P(e,f){const t={method:"DELETE",headers:await O(e)};try{const n=await fetch(`${D(e.appConfig)}/${f}`,t),r=await n.json();if(r.error){const e=r.error.message;throw E.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw E.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function D({projectId:e}){return`${o}/projects/${e}/registrations`}async function O({appConfig:e,installations:f}){const t=await f.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function N({p256dh:e,auth:f,endpoint:t,vapidKey:n}){const r={web:{endpoint:t,auth:f,p256dh:e}};return n!==s&&(r.web.applicationPubKey=n),r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R=6048e5;async function M(e){const f=await async function(e,f){const t=await e.pushManager.getSubscription();if(t)return t;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:y(f)})}(e.swRegistration,e.vapidKey),t={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:f.endpoint,auth:h(f.getKey("auth")),p256dh:h(f.getKey("p256dh"))},n=await _(e.firebaseDependencies);if(n){if(function(e,f){const t=f.vapidKey===e.vapidKey,n=f.endpoint===e.endpoint,r=f.auth===e.auth,i=f.p256dh===e.p256dh;return t&&n&&r&&i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n.subscriptionOptions,t))return Date.now()>=n.createTime+R?async function(e,f){try{const t=await async function(e,f){const t=await O(e),n=N(f.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(n)};let i;try{const t=await fetch(`${D(e.appConfig)}/${f.token}`,r);i=await t.json()}catch(e){throw E.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(i.error){const e=i.error.message;throw E.create("token-update-failed",{errorInfo:e})}if(!i.token)throw E.create("token-update-no-token");return i.token}(e.firebaseDependencies,f),n=Object.assign(Object.assign({},f),{token:t,createTime:Date.now()});return await S(e.firebaseDependencies,n),t}catch(e){throw e}}(e,{token:n.token,createTime:Date.now(),subscriptionOptions:t}):n.token;try{await P(e.firebaseDependencies,n.token)}catch(e){console.warn(e)}return B(e.firebaseDependencies,t)}return B(e.firebaseDependencies,t)}async function j(e){const f=await _(e.firebaseDependencies);f&&(await P(e.firebaseDependencies,f.token),await async function(e){const f=A(e),t=(await I()).transaction(k,"readwrite");await t.objectStore(k).delete(f),await t.done}(e.firebaseDependencies));const t=await e.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}async function B(e,f){const t=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */await async function(e,f){const t=await O(e),n=N(f),r={method:"POST",headers:t,body:JSON.stringify(n)};let i;try{const f=await fetch(D(e.appConfig),r);i=await f.json()}catch(e){throw E.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(i.error){const e=i.error.message;throw E.create("token-subscribe-failed",{errorInfo:e})}if(!i.token)throw E.create("token-subscribe-no-token");return i.token}(e,f),n={token:t,createTime:Date.now(),subscriptionOptions:f};return await S(e,n),n.token}async function L(e,f){const t=function(e,f){var t,n;const r={};e.from&&(r.project_number=e.from);e.fcmMessageId&&(r.message_id=e.fcmMessageId);r.instance_id=f,e.notification?r.message_type=l.DISPLAY_NOTIFICATION.toString():r.message_type=l.DATA_MESSAGE.toString();r.sdk_platform=u.toString(),r.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),!e.collapse_key||(r.collapse_key=e.collapse_key);r.event=b.toString(),!(null===(t=e.fcmOptions)||void 0===t?void 0:t.analytics_label)||(r.analytics_label=null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label);return r}(f,await e.firebaseDependencies.installations.getId());!function(e,f,t){const n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify({messaging_client_event:f}),!t||(n.compliance_data=function(e){const f={privacy_context:{prequest:{origin_associated_product_id:e}}};return f}(t));e.logEvents.push(n)}(e,t,f.productId)}async function K(e,f){const t=function({data:e}){if(!e)return null;try{return e.json()}catch(e){return null}}(e);if(!t)return;f.deliveryMetricsExportedToBigQueryEnabled&&await L(f,t);const n=await H();if(function(e){return e.some((e=>"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")))}(n))return function(e,f){f.isFirebaseMessaging=!0,f.messageType=p.PUSH_RECEIVED;for(const t of e)t.postMessage(f)}(n,t);if(t.notification&&await function(e){var f;const{actions:t}=e,{maxActions:n}=Notification;t&&n&&t.length>n&&console.warn(`This browser only supports ${n} actions. The remaining actions will not be displayed.`);return self.registration.showNotification(null!==(f=e.title)&&void 0!==f?f:"",e)}(function(e){const f=Object.assign({},e.notification);return f.data={[c]:e},f}(t)),f&&f.onBackgroundMessageHandler){const e=function(e){const f={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,f){if(!f.notification)return;e.notification={};const t=f.notification.title;t&&(e.notification.title=t);const n=f.notification.body;n&&(e.notification.body=n);const r=f.notification.image;r&&(e.notification.image=r);const i=f.notification.icon;i&&(e.notification.icon=i)}(f,e),function(e,f){f.data&&(e.data=f.data)}(f,e),function(e,f){var t,n,r,i,a;if(!f.fcmOptions&&!(null===(t=f.notification)||void 0===t?void 0:t.click_action))return;e.fcmOptions={};const s=null!==(r=null===(n=f.fcmOptions)||void 0===n?void 0:n.link)&&void 0!==r?r:null===(i=f.notification)||void 0===i?void 0:i.click_action;s&&(e.fcmOptions.link=s);const o=null===(a=f.fcmOptions)||void 0===a?void 0:a.analytics_label;o&&(e.fcmOptions.analyticsLabel=o)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(f,e),f}(t);"function"==typeof f.onBackgroundMessageHandler?await f.onBackgroundMessageHandler(e):f.onBackgroundMessageHandler.next(e)}}async function F(e){var f,t;const n=null===(t=null===(f=e.notification)||void 0===f?void 0:f.data)||void 0===t?void 0:t[c];if(!n)return;if(e.action)return;e.stopImmediatePropagation(),e.notification.close();const r=function(e){var f,t,n;const r=null!==(t=null===(f=e.fcmOptions)||void 0===f?void 0:f.link)&&void 0!==t?t:null===(n=e.notification)||void 0===n?void 0:n.click_action;if(r)return r;return i=e.data,"object"==typeof i&&i&&d in i?self.location.origin:null;var i;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n);if(!r)return;const i=new URL(r,self.location.href),a=new URL(self.location.origin);if(i.host!==a.host)return;let s=await async function(e){const f=await H();for(const t of f){const f=new URL(t.url,self.location.href);if(e.host===f.host)return t}return null}(i);var o;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return s?s=await s.focus():(s=await self.clients.openWindow(r),await(o=3e3,new Promise((e=>{setTimeout(e,o)})))),s?(n.messageType=p.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,s.postMessage(n)):void 0}function H(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function q(e){return E.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e,f){const t=[];for(let n=0;n<e.length;n++)t.push(e.charAt(n)),n<f.length&&t.push(f.charAt(n));t.join("")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class U{constructor(e,f,t){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=function(e){if(!e||!e.options)throw q("App Configuration Object");if(!e.name)throw q("App Name");const f=["projectId","apiKey","appId","messagingSenderId"],{options:t}=e;for(const e of f)if(!t[e])throw q(e);return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:n,installations:f,analyticsProvider:t}}_delete(){return Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=e=>{const f=new U(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(e=>{e.waitUntil(K(e,f))})),self.addEventListener("pushsubscriptionchange",(e=>{e.waitUntil(async function(e,f){var t,n;const{newSubscription:r}=e;if(!r)return void await j(f);const i=await _(f.firebaseDependencies);await j(f),f.vapidKey=null!==(n=null===(t=null==i?void 0:i.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:s,await M(f)}(e,f))})),self.addEventListener("notificationclick",(e=>{e.waitUntil(F(e))})),f};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function G(){return i.isIndexedDBAvailable()&&await i.validateIndexedDBOpenable()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */a._registerComponent(new n.Component("messaging-sw",$,"PUBLIC")),t.experimentalSetDeliveryMetricsExportedToBigQueryEnabled=function(e,f){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e,f){e.deliveryMetricsExportedToBigQueryEnabled=f}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=i.getModularInstance(e),f)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.getMessaging=function(e=a.getApp()){return G().then((e=>{if(!e)throw E.create("unsupported-browser")}),(e=>{throw E.create("indexed-db-unsupported")})),a._getProvider(i.getModularInstance(e),"messaging-sw").getImmediate()},t.isSupported=G,t.onBackgroundMessage=function(e,f){return function(e,f){if(self.document!==undefined)throw E.create("only-available-in-sw");return e.onBackgroundMessageHandler=f,()=>{e.onBackgroundMessageHandler=null}}(e=i.getModularInstance(e),f)}}}},{package:"@metamask/notification-services-controller>firebase>@firebase/messaging",file:"node_modules/@firebase/messaging/dist/index.sw.cjs"}],[676,{_process:5075},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(e){(function(){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha1=t.RANDOM_FACTOR=t.MAX_VALUE_MILLIS=t.FirebaseError=t.ErrorFactory=t.Deferred=t.DecodeBase64StringError=t.CONSTANTS=void 0,t.areCookiesEnabled=function(){if("undefined"==typeof navigator||!navigator.cookieEnabled)return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.assertionError=t.assert=void 0,t.async=function(e,f){return(...t)=>{Promise.resolve(!0).then((()=>{e(...t)})).catch((e=>{f&&f(e)}))}},t.base64urlEncodeWithoutPadding=t.base64Encode=t.base64Decode=t.base64=void 0,t.calculateBackoffMillis=function(e,f=x,t=E){const n=f*Math.pow(t,e),r=Math.round(D*n*(Math.random()-.5)*2);return Math.min(P,n+r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.contains=function(e,f){return Object.prototype.hasOwnProperty.call(e,f)},t.createMockUserToken=function(e,f){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t=f||"demo-project",n=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${t}`,aud:t,iat:n,exp:n+3600,auth_time:n,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(i)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.createSubscribe=function(e,f){const t=new _(e,f);return t.subscribe.bind(t)},t.decode=void 0,t.deepCopy=function(e){return u(undefined,e)},t.deepEqual=function e(f,t){if(f===t)return!0;const n=Object.keys(f),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=f[i],a=t[i];if(I(n)&&I(a)){if(!e(n,a))return!1}else if(n!==a)return!1}for(const e of r)if(!n.includes(e))return!1;return!0},t.deepExtend=u,t.errorPrefix=A,t.extractQuerystring=function(e){const f=e.indexOf("?");if(!f)return"";const t=e.indexOf("#",f);return e.substring(f,t>0?t:undefined)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.getExperimentalSetting=t.getDefaults=t.getDefaultEmulatorHostnameAndPort=t.getDefaultEmulatorHost=t.getDefaultAppConfig=void 0,t.getGlobal=b,t.getModularInstance=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return e&&e._delegate?e._delegate:e},t.getUA=y,t.isAdmin=void 0,t.isBrowser=function(){return"undefined"!=typeof window||m()},t.isBrowserExtension=function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:undefined;return"object"==typeof e&&e.id!==undefined},t.isCloudflareWorker=function(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent},t.isElectron=function(){return y().indexOf("Electron/")>=0},t.isEmpty=function(e){for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f))return!1;return!0},t.isIE=function(){const e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){try{return"object"==typeof indexedDB}catch(e){return!1}},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},t.isNode=g,t.isNodeSdk=function(){return!0===f.NODE_CLIENT||!0===f.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!g()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return y().indexOf("MSAppHost/")>=0},t.isValidTimestamp=t.isValidFormat=void 0,t.isWebWorker=m,t.issuedAtTime=void 0,t.jsonEval=k,t.map=function(e,f,t){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=f.call(t,e[r],r,e));return n},t.ordinal=function(e){if(!Number.isFinite(e))return`${e}`;return e+function(e){e=Math.abs(e);const f=e%100;if(f>=10&&f<=20)return"th";const t=e%10;if(1===t)return"st";if(2===t)return"nd";if(3===t)return"rd";return"th"}(e)},t.promiseWithTimeout=
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,f=2e3){const t=new h;return setTimeout((()=>t.reject("timeout!")),f),e.then(t.resolve,t.reject),t.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.querystring=function(e){const f=[];for(const[t,n]of Object.entries(e))Array.isArray(n)?n.forEach((e=>{f.push(encodeURIComponent(t)+"="+encodeURIComponent(e))})):f.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return f.length?"&"+f.join("&"):""},t.querystringDecode=function(e){const f={},t=e.replace(/^\?/,"").split("&");return t.forEach((e=>{if(e){const[t,n]=e.split("=");f[decodeURIComponent(t)]=decodeURIComponent(n)}})),f},t.safeGet=function(e,f){return Object.prototype.hasOwnProperty.call(e,f)?e[f]:undefined},t.stringToByteArray=t.stringLength=void 0,t.stringify=function(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.validateArgCount=void 0,t.validateCallback=function(e,f,t,n){if(n&&!t)return;if("function"!=typeof t)throw new Error(A(e,f)+"must be a valid function.")},t.validateContextObject=function(e,f,t,n){if(n&&!t)return;if("object"!=typeof t||null===t)throw new Error(A(e,f)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.validateIndexedDBOpenable=function(){return new Promise(((e,f)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var e;f((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(e){f(e)}}))},t.validateNamespace=function(e,f,t){if(t&&!f)return;if("string"!=typeof f)throw new Error(A(e,"namespace")+"must be a valid firebase namespace.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const f=t.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},n=function(e,f){if(!e)throw r(f)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.assert=n;const r=function(e){return new Error("Firebase Database ("+f.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.assertionError=r;const i=function(e){const f=[];let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?f[t++]=r:r<2048?(f[t++]=r>>6|192,f[t++]=63&r|128):55296==(64512&r)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),f[t++]=r>>18|240,f[t++]=r>>12&63|128,f[t++]=r>>6&63|128,f[t++]=63&r|128):(f[t++]=r>>12|224,f[t++]=r>>6&63|128,f[t++]=63&r|128)}return f},a=t.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,f){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=f?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let f=0;f<e.length;f+=3){const r=e[f],i=f+1<e.length,a=i?e[f+1]:0,s=f+2<e.length,o=s?e[f+2]:0,c=r>>2,d=(3&r)<<4|a>>4;let u=(15&a)<<2|o>>6,b=63&o;s||(b=64,i||(u=64)),n.push(t[c],t[d],t[u],t[b])}return n.join("")},encodeString(e,f){return this.HAS_NATIVE_SUPPORT&&!f?btoa(e):this.encodeByteArray(i(e),f)},decodeString(e,f){return this.HAS_NATIVE_SUPPORT&&!f?atob(e):function(e){const f=[];let t=0,n=0;for(;t<e.length;){const r=e[t++];if(r<128)f[n++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[t++];f[n++]=String.fromCharCode((31&r)<<6|63&i)}else if(r>239&&r<365){const i=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536;f[n++]=String.fromCharCode(55296+(i>>10)),f[n++]=String.fromCharCode(56320+(1023&i))}else{const i=e[t++],a=e[t++];f[n++]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a)}}return f.join("")}(this.decodeStringToByteArray(e,f))},decodeStringToByteArray(e,f){this.init_();const t=f?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let f=0;f<e.length;){const r=t[e.charAt(f++)],i=f<e.length?t[e.charAt(f)]:0;++f;const a=f<e.length?t[e.charAt(f)]:64;++f;const o=f<e.length?t[e.charAt(f)]:64;if(++f,null==r||null==i||null==a||null==o)throw new s;const c=r<<2|i>>4;if(n.push(c),64!==a){const e=i<<4&240|a>>2;if(n.push(e),64!==o){const e=a<<6&192|o;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}t.DecodeBase64StringError=s;const o=function(e){const f=i(e);return a.encodeByteArray(f,!0)};t.base64Encode=o;const c=function(e){return o(e).replace(/\./g,"")};t.base64urlEncodeWithoutPadding=c;const d=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(e,f){if(!(f instanceof Object))return f;switch(f.constructor){case Date:return new Date(f.getTime());case Object:e===undefined&&(e={});break;case Array:e=[];break;default:return f}for(const t in f)f.hasOwnProperty(t)&&"__proto__"!==t&&(e[t]=u(e[t],f[t]));return e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function b(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.base64Decode=d;const l=()=>{try{return b().__FIREBASE_DEFAULTS__||(()=>{if(void 0===e||void 0===e.env)return})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const f=e&&d(e[1]);return f&&JSON.parse(f)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}};t.getDefaults=l;const p=e=>{var f,t;return null===(t=null===(f=l())||void 0===f?void 0:f.emulatorHosts)||void 0===t?void 0:t[e]};t.getDefaultEmulatorHost=p;t.getDefaultEmulatorHostnameAndPort=e=>{const f=p(e);if(!f)return undefined;const t=f.lastIndexOf(":");if(t<=0||t+1===f.length)throw new Error(`Invalid host ${f} with no separate hostname and port!`);const n=parseInt(f.substring(t+1),10);return"["===f[0]?[f.substring(1,t-1),n]:[f.substring(0,t),n]};t.getDefaultAppConfig=()=>{var e;return null===(e=l())||void 0===e?void 0:e.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.getExperimentalSetting=e=>{var f;return null===(f=l())||void 0===f?void 0:f[`_${e}`]};class h{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,f)=>{this.resolve=e,this.reject=f}))}wrapCallback(e){return(f,t)=>{f?this.reject(f):this.resolve(t),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(f):e(f,t))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){var e;const f=null===(e=l())||void 0===e?void 0:e.forceEnvironment;if("node"===f)return!0;if("browser"===f)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function m(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}t.Deferred=h;class w extends Error{constructor(e,f,t){super(f),this.code=e,this.customData=t,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v.prototype.create)}}t.FirebaseError=w;class v{constructor(e,f,t){this.service=e,this.serviceName=f,this.errors=t}create(e,...f){const t=f[0]||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,f){return e.replace(T,((e,t)=>{const n=f[t];return null!=n?String(n):`<${t}?>`}))}(r,t):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new w(n,a,t)}}t.ErrorFactory=v;const T=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(e){return JSON.parse(e)}const C=function(e){let f={},t={},n={},r="";try{const i=e.split(".");f=k(d(i[0])||""),t=k(d(i[1])||""),r=i[2],n=t.d||{},delete t.d}catch(e){}return{header:f,claims:t,data:n,signature:r}};t.decode=C;t.isValidTimestamp=function(e){const f=C(e).claims,t=Math.floor((new Date).getTime()/1e3);let n=0,r=0;return"object"==typeof f&&(f.hasOwnProperty("nbf")?n=f.nbf:f.hasOwnProperty("iat")&&(n=f.iat),r=f.hasOwnProperty("exp")?f.exp:n+86400),!!t&&!!n&&!!r&&t>=n&&t<=r};t.issuedAtTime=function(e){const f=C(e).claims;return"object"==typeof f&&f.hasOwnProperty("iat")?f.iat:null};t.isValidFormat=function(e){const f=C(e).claims;return!!f&&"object"==typeof f&&f.hasOwnProperty("iat")};function I(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.isAdmin=function(e){const f=C(e).claims;return"object"==typeof f&&!0===f.admin};t.Sha1=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,f){f||(f=0);const t=this.W_;if("string"==typeof e)for(let n=0;n<16;n++)t[n]=e.charCodeAt(f)<<24|e.charCodeAt(f+1)<<16|e.charCodeAt(f+2)<<8|e.charCodeAt(f+3),f+=4;else for(let n=0;n<16;n++)t[n]=e[f]<<24|e[f+1]<<16|e[f+2]<<8|e[f+3],f+=4;for(let e=16;e<80;e++){const f=t[e-3]^t[e-8]^t[e-14]^t[e-16];t[e]=4294967295&(f<<1|f>>>31)}let n,r,i=this.chain_[0],a=this.chain_[1],s=this.chain_[2],o=this.chain_[3],c=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(n=o^a&(s^o),r=1518500249):(n=a^s^o,r=1859775393):e<60?(n=a&s|o&(a|s),r=2400959708):(n=a^s^o,r=3395469782);const f=(i<<5|i>>>27)+n+c+r+t[e]&4294967295;c=o,o=s,s=4294967295&(a<<30|a>>>2),a=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,f){if(null==e)return;f===undefined&&(f=e.length);const t=f-this.blockSize;let n=0;const r=this.buf_;let i=this.inbuf_;for(;n<f;){if(0===i)for(;n<=t;)this.compress_(e,n),n+=this.blockSize;if("string"==typeof e){for(;n<f;)if(r[i]=e.charCodeAt(n),++i,++n,i===this.blockSize){this.compress_(r),i=0;break}}else for(;n<f;)if(r[i]=e[n],++i,++n,i===this.blockSize){this.compress_(r),i=0;break}}this.inbuf_=i,this.total_+=f}digest(){const e=[];let f=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&f,f/=256;this.compress_(this.buf_);let t=0;for(let f=0;f<5;f++)for(let n=24;n>=0;n-=8)e[t]=this.chain_[f]>>n&255,++t;return e}};class _{constructor(e,f){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=f,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((f=>{f.next(e)}))}error(e){this.forEachObserver((f=>{f.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,f,t){let n;if(e===undefined&&f===undefined&&t===undefined)throw new Error("Missing Observer.");n=function(e,f){if("object"!=typeof e||null===e)return!1;for(const t of f)if(t in e&&"function"==typeof e[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:f,complete:t},n.next===undefined&&(n.next=S),n.error===undefined&&(n.error=S),n.complete===undefined&&(n.complete=S);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}})),this.observers.push(n),r}unsubscribeOne(e){this.observers!==undefined&&this.observers[e]!==undefined&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&this.onNoObservers!==undefined&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let f=0;f<this.observers.length;f++)this.sendOne(f,e)}sendOne(e,f){this.task.then((()=>{if(this.observers!==undefined&&this.observers[e]!==undefined)try{f(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,e!==undefined&&(this.finalError=e),this.task.then((()=>{this.observers=undefined,this.onNoObservers=undefined})))}}function S(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(e,f){return`${e} failed: ${f} argument `}t.validateArgCount=function(e,f,t,n){let r;if(n<f?r="at least "+f:n>t&&(r=0===t?"none":"no more than "+t),r){throw new Error(e+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+r+".")}};t.stringToByteArray=function(e){const f=[];let t=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const f=i-55296;r++,n(r<e.length,"Surrogate pair missing trail surrogate.");i=65536+(f<<10)+(e.charCodeAt(r)-56320)}i<128?f[t++]=i:i<2048?(f[t++]=i>>6|192,f[t++]=63&i|128):i<65536?(f[t++]=i>>12|224,f[t++]=i>>6&63|128,f[t++]=63&i|128):(f[t++]=i>>18|240,f[t++]=i>>12&63|128,f[t++]=i>>6&63|128,f[t++]=63&i|128)}return f};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.stringLength=function(e){let f=0;for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);n<128?f++:n<2048?f+=2:n>=55296&&n<=56319?(f+=4,t++):f+=3}return f};const x=1e3,E=2,P=t.MAX_VALUE_MILLIS=144e5,D=t.RANDOM_FACTOR=.5}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/notification-services-controller>firebase>@firebase/util",file:"node_modules/@firebase/util/dist/index.esm2017.js"}],[677,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0});class n{static parse(e){if(""===e)return new n([]);if(!e.startsWith("/"))throw new r(e);const[,...f]=e.split("/");return new n(f.map((e=>e.replace(/~1/g,"/").replace(/~0/g,"~"))))}constructor(e){this.tokens=e}toString(){if(0===this.tokens.length)return"";return`/${this.tokens.map((e=>e.replace(/~/g,"~0").replace(/\//g,"~1"))).join("/")}`}shmeval(e){for(const f of this.tokens){if(!e.hasOwnProperty(f))throw new i(e,f);e=e[f]}return e}}t.default=n;class r extends Error{constructor(e){super(`Invalid JSON Pointer: ${e}`),this.ptr=e}}t.InvalidPtrError=r;class i extends Error{constructor(e,f){super(`Error evaluating JSON Pointer: no attribute ${f} on ${e}`),this.instance=e,this.token=f}}t.EvalError=i}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/reference-resolver>@json-schema-spec/json-pointer",file:"node_modules/@json-schema-spec/json-pointer/lib/index.js"}],[678,{"@json-schema-tools/reference-resolver":683,"@json-schema-tools/traverse":686,"fast-safe-stringify":4491},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var f,t=1,n=arguments.length;t<n;t++)for(var r in f=arguments[t])Object.prototype.hasOwnProperty.call(f,r)&&(e[r]=f[r]);return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,f,t,n){return new(t||(t=Promise))((function(r,i){function a(e){try{o(n.next(e))}catch(e){i(e)}}function s(e){try{o(n.throw(e))}catch(e){i(e)}}function o(e){var f;e.done?r(e.value):(f=e.value,f instanceof t?f:new t((function(e){e(f)}))).then(a,s)}o((n=n.apply(e,f||[])).next())}))},i=this&&this.__generator||function(e,f){var t,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(o){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=f.call(e,a)}catch(e){s=[6,e],n=0}finally{t=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NonStringRefError=void 0;var s=a(e("@json-schema-tools/traverse")),o=a(e("@json-schema-tools/reference-resolver")),c=a(e("fast-safe-stringify")),d=function(e){this.name="NonStringRefError",this.message=["NonStringRefError","Found an improperly formatted $ref in schema. $ref must be a string","schema in question: ".concat((0,c.default)(e))].join("\n")};t.NonStringRefError=d;var u=function(e,f){if(e.$ref!==undefined&&Object.keys(e).length>1&&!0!==f&&!1!==f){var t=n(n({},f),e);return delete t.$ref,t}return f},b=function(){function e(e,f){var t;if(void 0===f&&(f={}),this.options=f,this.refCache={},t=!0===this.options.mutate||!0===e||!1===e?e:n({},e),this.options.recursive===undefined&&(this.options.recursive=!0),this.options.rootSchema===undefined&&(this.options.rootSchema=t),!0!==e&&!1!==e&&e.$id&&(this.options.rootSchema=t),this.options.refCache&&(this.refCache=this.options.refCache),this.options.protocolHandlerMap)for(var r=0,i=Object.keys(this.options.protocolHandlerMap);r<i.length;r++){var a=i[r];o.default.protocolHandlerMap[a]=this.options.protocolHandlerMap[a]}this.schema=t,this.refs=this.collectRefs()}return e.prototype.resolve=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this._resolve()];case 1:return e.sent(),delete this.schema.definitions,delete this.schema.components,[2,this.schema]}}))}))},e.prototype._resolve=function(){return r(this,void 0,void 0,(function(){var f,t,r,a,c,d,b,l,p,h,y,g=this;return i(this,(function(i){switch(i.label){case 0:if(!0===this.schema||!1===this.schema)return[2,Promise.resolve(this.schema)];if(0===this.refs.length)return[2,Promise.resolve(this.schema)];f=this.refs.filter((function(e){return g.refCache[e]===undefined})),t=[],r=0,a=f,i.label=1;case 1:return r<a.length?(c=a[r],d=void 0,this.refCache[c]===undefined?[3,2]:(d=this.refCache[c],[3,5])):[3,11];case 2:if("#"!==c)return[3,3];if(this.options.rootSchema===undefined)throw new Error("options.rootSchema was not provided, but one of the schemas references '#'");return d=this.options.rootSchema,[3,5];case 3:return b=o.default.resolve(c,this.options.rootSchema),t.push(b),[4,b];case 4:d=i.sent(),i.label=5;case 5:return!0!==this.options.recursive||!0===d||!1===d||"#"===c?[3,9]:(l=n(n({},this.options),{refCache:this.refCache}),0===(p=new e(d,l)).refs.length?[3,7]:(h=p._resolve(),t.push(h),[4,h]));case 6:return y=i.sent(),this.refCache[c]=u(d,y),[3,8];case 7:this.refCache[c]=d,i.label=8;case 8:return[3,10];case 9:this.refCache[c]=d,i.label=10;case 10:return r++,[3,1];case 11:return this.schema.$ref!==undefined?this.schema=u(this.schema,this.refCache[this.schema.$ref]):(0,s.default)(this.schema,(function(e){if(!0===e||!1===e)return e;if(e.$ref!==undefined){var f=g.refCache[e.$ref];return u(e,f)}return e}),{mutable:!0}),[4,Promise.all(t)];case 12:return i.sent(),[2,this.schema]}}))}))},e.prototype.collectRefs=function(){var e=[];return(0,s.default)(this.schema,(function(f){if(!0===f||!1===f)return f;if(f.$ref&&-1===e.indexOf(f.$ref)){if("string"!=typeof f.$ref)throw new d(f);e.push(f.$ref)}return f})),e},e}();t.default=b}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/dereferencer",file:"node_modules/@json-schema-tools/dereferencer/build/dereferencer.js"}],[679,{"./dereferencer":678},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NonStringRefError=void 0;var r=n(e("./dereferencer")),i=e("./dereferencer");Object.defineProperty(t,"NonStringRefError",{enumerable:!0,get:function(){return i.NonStringRefError}}),t.default=r.default}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/dereferencer",file:"node_modules/@json-schema-tools/dereferencer/build/index.js"}],[68,{"@metamask/notification-services-controller/notification-services":2337},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationServicesControllerInit=void 0;var n=e("@metamask/notification-services-controller/notification-services");t.NotificationServicesControllerInit=({controllerMessenger:e,persistedState:f})=>({controller:new n.Controller({messenger:e,state:f.NotificationServicesController,env:{featureAnnouncements:{platform:"extension",spaceId:"jdkgyfmyd9sw",accessToken:"mAYNB_k65snv4AXW4o8ksZN8BwWDQF9702HKV7yBDZI"}}})})}}},{package:"$root$",file:"app/scripts/controller-init/notifications/notification-services-controller-init.ts"}],[680,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.jsonSchema=void 0,t.jsonSchema={$schema:"https://meta.json-schema.tools/",$id:"https://meta.json-schema.tools/",title:"JSONSchema",default:{},oneOf:[{$ref:"#/definitions/JSONSchemaObject"},{$ref:"#/definitions/JSONSchemaBoolean"}],definitions:{JSONSchemaBoolean:{title:"JSONSchemaBoolean",description:"Always valid if true. Never valid if false. Is constant.",type:"boolean"},JSONSchemaObject:{title:"JSONSchemaObject",type:"object",properties:{$id:{title:"$id",type:"string",format:"uri-reference"},$schema:{title:"$schema",type:"string",format:"uri"},$ref:{title:"$ref",type:"string",format:"uri-reference"},$comment:{title:"$comment",type:"string"},title:{title:"title",type:"string"},description:{title:"description",type:"string"},default:!0,readOnly:{title:"readOnly",type:"boolean",default:!1},examples:{title:"examples",type:"array",items:!0},multipleOf:{title:"multipleOf",type:"number",exclusiveMinimum:0},maximum:{title:"maximum",type:"number"},exclusiveMaximum:{title:"exclusiveMaximum",type:"number"},minimum:{title:"minimum",type:"number"},exclusiveMinimum:{title:"exclusiveMinimum",type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{title:"pattern",type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{title:"items",anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{title:"uniqueItems",type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{title:"definitions",type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{title:"properties",type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{title:"patternProperties",type:"object",additionalProperties:{$ref:"#"},propertyNames:{title:"propertyNames",format:"regex"},default:{}},dependencies:{title:"dependencies",type:"object",additionalProperties:{title:"dependenciesSet",anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{title:"enum",type:"array",items:!0,minItems:1,uniqueItems:!0},type:{title:"type",anyOf:[{$ref:"#/definitions/simpleTypes"},{title:"arrayOfSimpleTypes",type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{title:"format",type:"string"},contentMediaType:{title:"contentMediaType",type:"string"},contentEncoding:{title:"contentEncoding",type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}}},schemaArray:{title:"schemaArray",type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{title:"nonNegativeInteger",type:"integer",minimum:0},nonNegativeIntegerDefault0:{title:"nonNegativeIntegerDefaultZero",type:"integer",minimum:0,default:0},simpleTypes:{title:"simpleTypes",type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{title:"stringArray",type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}},t.default=t.jsonSchema}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/meta-schema",file:"node_modules/@json-schema-tools/meta-schema/index.js"}],[681,{"./errors":682,"isomorphic-fetch":4738},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){var n=this&&this.__awaiter||function(e,f,t,n){return new(t||(t=Promise))((function(r,i){function a(e){try{o(n.next(e))}catch(e){i(e)}}function s(e){try{o(n.throw(e))}catch(e){i(e)}}function o(e){var f;e.done?r(e.value):(f=e.value,f instanceof t?f:new t((function(e){e(f)}))).then(a,s)}o((n=n.apply(e,f||[])).next())}))},r=this&&this.__generator||function(e,f){var t,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(o){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=f.call(e,a)}catch(e){s=[6,e],n=0}finally{t=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=e("./errors"),s=i(e("isomorphic-fetch")),o=function(e){return n(void 0,void 0,void 0,(function(){var f,t;return r(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,s.default)(e)];case 1:return f=n.sent(),[3,3];case 2:throw n.sent(),new a.InvalidRemoteURLError(e);case 3:return n.trys.push([3,5,,6]),[4,f.json()];case 4:return[2,n.sent()];case 5:throw t=n.sent(),new a.NonJsonRefError({$ref:e},t.message);case 6:return[2]}}))}))};t.default={https:o,http:o}}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/reference-resolver",file:"node_modules/@json-schema-tools/reference-resolver/build/default-protocol-handler-map.js"}],[682,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidFileSystemPathError=t.InvalidRemoteURLError=t.NotResolvableError=t.NonJsonRefError=void 0;var n=function(e,f){this.name="NonJsonRefError",this.message=["NonJsonRefError","The resolved value at the reference: ".concat(e.$ref," was not JSON.parse 'able"),"The non-json content in question: ".concat(f)].join("\n")};t.NonJsonRefError=n;var r=function(e){this.name="NotResolvableError",this.message=["NotResolvableError","Could not resolve the reference: ".concat(e),"No protocol handler was found, and it was not found to be an internal reference"].join("\n")};t.NotResolvableError=r;var i=function(e){this.name="InvalidRemoteURLError",this.message=["InvalidRemoteURLError","The url was not resolvable: ".concat(e)].join("\n")};t.InvalidRemoteURLError=i;var a=function(e){this.name="InvalidFileSystemPathError",this.message=["InvalidFileSystemPathError","The path was not resolvable: ".concat(e)].join("\n")};t.InvalidFileSystemPathError=a}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/reference-resolver",file:"node_modules/@json-schema-tools/reference-resolver/build/errors.js"}],[683,{"./default-protocol-handler-map":681,"./reference-resolver":684},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var f,t=1,n=arguments.length;t<n;t++)for(var r in f=arguments[t])Object.prototype.hasOwnProperty.call(f,r)&&(e[r]=f[r]);return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,f,t,n){return new(t||(t=Promise))((function(r,i){function a(e){try{o(n.next(e))}catch(e){i(e)}}function s(e){try{o(n.throw(e))}catch(e){i(e)}}function o(e){var f;e.done?r(e.value):(f=e.value,f instanceof t?f:new t((function(e){e(f)}))).then(a,s)}o((n=n.apply(e,f||[])).next())}))},i=this&&this.__generator||function(e,f){var t,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(o){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=f.call(e,a)}catch(e){s=[6,e],n=0}finally{t=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(e("./default-protocol-handler-map")),o=a(e("./reference-resolver")),c=n(n({},s.default),{file:function(){return r(void 0,void 0,void 0,(function(){return i(this,(function(e){return[2,undefined]}))}))}});t.default=new o.default(c)}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/reference-resolver",file:"node_modules/@json-schema-tools/reference-resolver/build/index-web.js"}],[684,{"./errors":682,"./resolve-pointer":685},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){var n=this&&this.__awaiter||function(e,f,t,n){return new(t||(t=Promise))((function(r,i){function a(e){try{o(n.next(e))}catch(e){i(e)}}function s(e){try{o(n.throw(e))}catch(e){i(e)}}function o(e){var f;e.done?r(e.value):(f=e.value,f instanceof t?f:new t((function(e){e(f)}))).then(a,s)}o((n=n.apply(e,f||[])).next())}))},r=this&&this.__generator||function(e,f){var t,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(o){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=f.call(e,a)}catch(e){s=[6,e],n=0}finally{t=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=e("./errors"),s=i(e("./resolve-pointer")),o=function(){function e(e){this.protocolHandlerMap=e}return e.prototype.resolve=function(e){return n(this,arguments,void 0,(function(e,f){var t,n,i,o,c,d,u,b,l,p;return void 0===f&&(f={}),r(this,(function(r){switch(r.label){case 0:if("#"===e[0])return[2,Promise.resolve((0,s.default)(e,f))];(t=e.split("#")).length>1&&(n=t[t.length-1]),i=t[0],r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.protocolHandlerMap.file(i,f)];case 2:return o=r.sent(),[3,4];case 3:throw c=r.sent(),new a.NonJsonRefError({$ref:e},c.message);case 4:if(o!==undefined)return p=o,n&&(p=(0,s.default)(n,p)),[2,p];if(!1===e.includes("://"))throw new a.InvalidFileSystemPathError(e);d=0,u=Object.keys(this.protocolHandlerMap),r.label=5;case 5:return d<u.length?(b=u[d],i.startsWith(b)?[4,this.protocolHandlerMap[b](i,f)]:[3,7]):[3,8];case 6:if((l=r.sent())!==undefined)return p=l,n&&(p=(0,s.default)(n,p)),[2,p];r.label=7;case 7:return d++,[3,5];case 8:throw new a.NotResolvableError(e)}}))}))},e}();t.default=o}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/reference-resolver",file:"node_modules/@json-schema-tools/reference-resolver/build/reference-resolver.js"}],[685,{"@json-schema-spec/json-pointer":677},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidJsonPointerRefError=void 0;var r=n(e("@json-schema-spec/json-pointer")),i=function(e,f){this.name="InvalidJsonPointerRefError",this.message=["InvalidJsonPointerRefError","The provided RFC6901 JSON Pointer is invalid: ".concat(e),"","addition info: ",f].join("\n")};t.InvalidJsonPointerRefError=i,t.default=function(e,f){try{var t=e.replace("#","");return r.default.parse(t).shmeval(f)}catch(f){throw new i(e,f.message)}}}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/reference-resolver",file:"node_modules/@json-schema-tools/reference-resolver/build/resolve-pointer.js"}],[686,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var f,t=1,n=arguments.length;t<n;t++)for(var r in f=arguments[t])Object.prototype.hasOwnProperty.call(f,r)&&(e[r]=f[r]);return e},n.apply(this,arguments)},r=this&&this.__spreadArray||function(e,f,t){if(t||2===arguments.length)for(var n,r=0,i=f.length;r<i;r++)!n&&r in f||(n||(n=Array.prototype.slice.call(f,0,r)),n[r]=f[r]);return e.concat(n||Array.prototype.slice.call(f))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0,t.defaultOptions={skipFirstMutation:!1,mutable:!1,bfs:!1};var i=function(e){return e.map((function(e){return""===e?"$":".".concat(e)})).join("")},a=function(e,f){var t=f.find((function(f){return f===e}));return t||!1},s=function(e,f){return void 0===f&&(f=1),e[e.length-f]};t.default=function e(f,o,c,d,u,b,l,p,h){void 0===c&&(c=t.defaultOptions),void 0===d&&(d=0),void 0===u&&(u=[]),void 0===b&&(b=[]),void 0===l&&(l=[]),void 0===p&&(p=[]),void 0===h&&(h=[]);var y=n(n({},t.defaultOptions),c);if(0===d&&(l=[""]),"boolean"==typeof f||f instanceof Boolean)return!0===y.skipFirstMutation&&0===d?f:o(f,!1,i(l),s(b));var g=f;!1===y.mutable&&(g=n({},f)),b.push(g),!0===y.bfs&&(!1!==y.skipFirstMutation&&0===d||(g=o(g,!1,i(l),s(b,2)))),u.push(f),p.push([f,g]);var m=function(f,t){var n=a(f,u);return n?(h.push(n),!0===y.skipFirstMutation&&n===u[0]?o(f,!0,i(t),s(b)):p.find((function(e){var f=e[0];return n===f}))[1]):e(f,o,c,d+1,u,b,t,p,h)};if(f.anyOf)g.anyOf=f.anyOf.map((function(e,f){return m(e,r(r([],l,!0),["anyOf[".concat(f,"]")],!1))}));else if(f.allOf)g.allOf=f.allOf.map((function(e,f){return m(e,r(r([],l,!0),["allOf[".concat(f,"]")],!1))}));else if(f.oneOf)g.oneOf=f.oneOf.map((function(e,f){return m(e,r(r([],l,!0),["oneOf[".concat(f,"]")],!1))}));else{if(f.items)if(f.items instanceof Array)g.items=f.items.map((function(e,f){return m(e,r(r([],l,!0),["items[".concat(f,"]")],!1))}));else{var w=a(f.items,u);if(w)if(h.push(w),!0===y.skipFirstMutation&&w===u[0])g.items=o(f.items,!0,i(l),s(b));else{var v=p.find((function(e){var f=e[0];return w===f}))[1];g.items=v}else g.items=e(f.items,o,c,d+1,u,b,r(r([],l,!0),["items"],!1),p,h)}if(f.additionalItems!==undefined&&(g.additionalItems=m(f.additionalItems,r(r([],l,!0),["additionalItems"],!1))),f.properties!==undefined){var T=f.properties,k={};Object.keys(f.properties).forEach((function(e){k[e]=m(T[e],r(r([],l,!0),["properties",e.toString()],!1))})),g.properties=k}if(f.patternProperties!==undefined){var C=f.patternProperties,I={};Object.keys(f.patternProperties).forEach((function(e){I[e]=m(C[e],r(r([],l,!0),["patternProperties",e.toString()],!1))})),g.patternProperties=I}f.additionalProperties!==undefined&&!0==!!f.additionalProperties&&(g.additionalProperties=m(f.additionalProperties,r(r([],l,!0),["additionalProperties"],!1)))}if(!0===y.skipFirstMutation&&0===d)return g;if(!0===y.bfs)return b.pop(),g;var _=-1!==h.indexOf(f);return b.pop(),o(g,_,i(l),s(b))}}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/dereferencer>@json-schema-tools/traverse",file:"node_modules/@json-schema-tools/traverse/build/index.js"}],[688,{"@ethereumjs/rlp":503,"@ethereumjs/tx":516,"@ethereumjs/util":698,"@keystonehq/bc-ur-registry-eth":708,buffer:4106,hdkey:4687,uuid:5741},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,i=e("@ethereumjs/util"),a=e("@ethereumjs/rlp"),s=e("@ethereumjs/tx"),o=e("@keystonehq/bc-ur-registry-eth"),c=e("uuid");const d="QR Hardware Wallet Device",u="m",b="0/*";var l,p;!function(e){e.hd="hd",e.pubkey="pubkey"}(l||(l={})),function(e){e.standard="account.standard",e.ledger_live="account.ledger_live",e.ledger_legacy="account.ledger_legacy"}(p||(p={}));class h{constructor(e){this.version=1,this.getInteraction=()=>{throw new Error("KeystoneError#invalid_extends: method getInteraction not implemented, please extend BaseKeyring by overwriting this method.")},this.type=d,this.requestSignature=async(e,f,t,n)=>{const r=await this.getInteraction().requestSignature(f,t,n),i=r.getRequestId(),a=r.getSignature();if(i){if(c.stringify(i)!==e)throw new Error("KeystoneError#invalid_data: read signature error: mismatched requestId")}return{r:a.slice(0,32),s:a.slice(32,64),v:a.slice(64)}},this.__readCryptoHDKey=e=>{var f,t;const n=`m/${e.getOrigin().getPath()}`,r=null===(f=e.getOrigin().getSourceFingerprint())||void 0===f?void 0:f.toString("hex"),i=(null===(t=e.getChildren())||void 0===t?void 0:t.getPath())||b,a=e.getName();if(e.getNote()===p.standard?this.keyringAccount=p.standard:e.getNote()===p.ledger_legacy&&(this.keyringAccount=p.ledger_legacy),!r)throw new Error("KeystoneError#invalid_data: invalid crypto-hdkey, cannot get source fingerprint");const s=e.getBip32Key();this.xfp=r,this.xpub=s,this.hdPath=n,this.childrenPath=i,a!==undefined&&""!==a&&(this.name=a),this.initialized=!0},this.__readCryptoAccount=e=>{var f,t;const n=null===(f=e.getMasterFingerprint())||void 0===f?void 0:f.toString("hex");if(!n)throw new Error("KeystoneError#invalid_data: invalid crypto-account, cannot get master fingerprint");this.xfp=n,this.initialized=!0;let r=!1;const a=e.getOutputDescriptors();if(!a||0===a.length)throw new Error("KeystoneError#invalid_data: invalid crypto-account, no crypto output found");if(a.length%5!=0)throw new Error("KeystoneError#invalid_data: only support 5x pubkey accounts for now");return null===(t=e.getOutputDescriptors())||void 0===t||t.forEach((e=>{try{const f=e.getHDKey();if(f){const e=f.getKey(),t=`M/${f.getOrigin().getPath()}`,n="0x"+i.publicToAddress(e,!0).toString("hex");this.name=f.getName(),f.getNote()===p.ledger_live&&(this.keyringAccount=p.ledger_live),this.paths[i.toChecksumAddress(n)]===undefined&&(r=!0),this.paths[i.toChecksumAddress(n)]=t}}catch(e){throw new Error(`KeystoneError#invalid_data: ${e}`)}})),r},this.getName=()=>this.name,this.setAccountToUnlock=e=>{this.unlockedAccount=parseInt(e,10)},this.__getNormalPage=async e=>{this.page+=e,this.page<=0&&(this.page=1);const f=(this.page-1)*this.perPage,t=f+this.perPage,n=[];for(let e=f;e<t;e++){const f=await this.__addressFromIndex(u,e);n.push({address:f,balance:null,index:e}),this.indexes[i.toChecksumAddress(f)]=e}return n},this.__getLedgerLivePage=async e=>{const f=(this.page+e-1)*this.perPage,t=f+this.perPage,n=[];for(let e=f;e<t;e++){const f=await this.__addressFromIndex(u,e);n.push({address:f,balance:null,index:e})}return this.page+=e,n},this.__addressFromIndex=async(e,f)=>{if(this.keyringMode===l.hd){this.checkKeyring(),this.hdk||(this.hdk=r.fromExtendedKey(this.xpub));const t=this.childrenPath.replace("*",String(f)).replace(/\*/g,"0"),n=this.hdk.derive(`${e}/${t}`),a="0x"+i.publicToAddress(n.publicKey,!0).toString("hex");return i.toChecksumAddress(a)}{const e=Object.keys(this.paths)[f];if(e)return i.toChecksumAddress(e);throw new Error("KeystoneError#pubkey_account.no_expected_account")}},this.page=0,this.perPage=5,this.accounts=[],this.currentAccount=0,this.unlockedAccount=0,this.name="QR Hardware",this.keyringMode=l.hd,this.keyringAccount=p.standard,this.initialized=!1,this.xfp="",this.xpub="",this.hdPath="",this.childrenPath=b,this.indexes={},this.paths={},this.deserialize(e)}async readKeyring(){const e=await this.getInteraction().readCryptoHDKeyOrCryptoAccount();this.syncKeyring(e)}syncKeyring(e){e.getRegistryType().getType()===o.extend.RegistryTypes.CRYPTO_HDKEY.getType()?(this.keyringMode=l.hd,this.__readCryptoHDKey(e)):(this.keyringMode=l.pubkey,this.__readCryptoAccount(e))}checkKeyring(){if(!this.xfp||!this.xpub||!this.hdPath)throw new Error("KeystoneError#invalid_keyring: keyring not fulfilled, please call function `readKeyring` firstly")}serialize(){return Promise.resolve({initialized:this.initialized,accounts:this.accounts,currentAccount:this.currentAccount,page:this.page,perPage:this.perPage,keyringAccount:this.keyringAccount,keyringMode:this.keyringMode,name:this.name,version:this.version,xfp:this.xfp,xpub:this.xpub,hdPath:this.hdPath,childrenPath:this.childrenPath,indexes:this.indexes,paths:this.paths})}deserialize(e){e&&(this.accounts=e.accounts,this.currentAccount=e.currentAccount,this.page=e.page,this.perPage=e.perPage,this.name=e.name,this.initialized=e.initialized,this.keyringMode=e.keyringMode||l.hd,this.keyringAccount=e.keyringAccount||p.standard,this.xfp=e.xfp,this.xpub=e.xpub,this.hdPath=e.hdPath,this.indexes=e.indexes,this.paths=e.paths,this.childrenPath=e.childrenPath||b)}setCurrentAccount(e){this.currentAccount=e}getCurrentAccount(){return this.currentAccount}getCurrentAddress(){return this.accounts[this.currentAccount]}async addAccounts(e=1){const f=this.unlockedAccount,t=f+e,n=[];for(let e=f;e<t;e++){const f=await this.__addressFromIndex(u,e);n.push(f),this.page=0,this.unlockedAccount++}return this.accounts=this.accounts.concat(n),this.accounts}getFirstPage(){return this.page=0,this.__getPage(1)}getNextPage(){return this.__getPage(1)}getPreviousPage(){return this.__getPage(-1)}async __getPage(e){return this.initialized||await this.readKeyring(),this.keyringMode===l.hd?this.__getNormalPage(e):this.__getLedgerLivePage(e)}getAccounts(){return Promise.resolve(this.accounts)}removeAccount(e){if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((f=>f.toLowerCase()!==e.toLowerCase()))}async signTransaction(e,t){const n=0===t.type?o.DataType.transaction:o.DataType.typedTransaction;let r;r=0===t.type?f.from(a.RLP.encode(t.getMessageToSign())):f.from(t.getMessageToSign());const i=await this._pathFromAddress(e),d=Number(t.common.chainId()),u=c.v4(),b=o.EthSignRequest.constructETHRequest(r,n,i,this.xfp,u,d),{r:l,s:p,v:h}=await this.requestSignature(u,b,"Scan with your Keystone",'After your Keystone has signed the transaction, click on "Scan Keystone" to receive the signature');return s.TransactionFactory.fromTxData({...t.toJSON(),type:t.type,r:l,s:p,v:h},{common:t.common})}signMessage(e,f){return this.signPersonalMessage(e,f)}async signPersonalMessage(e,t){const n=i.stripHexPrefix(t),r=await this._pathFromAddress(e),a=c.v4(),s=o.EthSignRequest.constructETHRequest(f.from(n,"hex"),o.DataType.personalMessage,r,this.xfp,a,undefined,e),{r:d,s:u,v:b}=await this.requestSignature(a,s,"Scan with your Keystone",'After your Keystone has signed this message, click on "Scan Keystone" to receive the signature');return"0x"+f.concat([Uint8Array.from(d),Uint8Array.from(u),Uint8Array.from(b)]).toString("hex")}async signTypedData(e,t){const n=await this._pathFromAddress(e),r=c.v4(),i=o.EthSignRequest.constructETHRequest(f.from(JSON.stringify(t),"utf-8"),o.DataType.typedData,n,this.xfp,r,undefined,e),{r:a,s:s,v:d}=await this.requestSignature(r,i,"Scan with your Keystone",'After your Keystone has signed this data, click on "Scan Keystone" to receive the signature');return"0x"+f.concat([Uint8Array.from(a),Uint8Array.from(s),Uint8Array.from(d)]).toString("hex")}async _pathFromAddress(e){if(this.keyringMode===l.hd){const f=i.toChecksumAddress(e);let t=this.indexes[f];if(void 0===t)for(let e=0;e<1e3;e++)if(f===await this.__addressFromIndex(u,e)){t=e;break}if(void 0===t)throw new Error("Unknown address");return`${this.hdPath}/${this.childrenPath.replace("*",t.toString()).replace(/\*/g,"0")}`}{const f=i.toChecksumAddress(e),t=this.paths[f];if(void 0===t)throw new Error("Unknown address");return t}}}h.type=d,t.BaseKeyring=h}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring",file:"node_modules/@keystonehq/base-eth-keyring/dist/base-eth-keyring.cjs.development.js"}],[689,{"@ethereumjs/rlp":503,"@ethereumjs/tx":516,"@ethereumjs/util":698,"@keystonehq/bc-ur-registry-eth":708,buffer:4106,hdkey:4687,uuid:5741},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,a=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,s=e("@ethereumjs/util"),o=e("@ethereumjs/rlp"),c=e("@ethereumjs/tx"),d=e("@keystonehq/bc-ur-registry-eth"),u=e("uuid");!function(e){e.hd="hd",e.pubkey="pubkey"}(r||(r={})),function(e){e.standard="account.standard",e.ledger_live="account.ledger_live",e.ledger_legacy="account.ledger_legacy"}(i||(i={}));class b{constructor(e){this.version=1,this.getInteraction=()=>{throw new Error("KeystoneError#invalid_extends: method getInteraction not implemented, please extend BaseKeyring by overwriting this method.")},this.type="QR Hardware Wallet Device",this.requestSignature=async(e,f,t,n)=>{const r=await this.getInteraction().requestSignature(f,t,n),i=r.getRequestId(),a=r.getSignature();if(i&&u.stringify(i)!==e)throw new Error("KeystoneError#invalid_data: read signature error: mismatched requestId");return{r:a.slice(0,32),s:a.slice(32,64),v:a.slice(64)}},this.__readCryptoHDKey=e=>{var f,t;const n="m/"+e.getOrigin().getPath(),r=null===(f=e.getOrigin().getSourceFingerprint())||void 0===f?void 0:f.toString("hex"),a=(null===(t=e.getChildren())||void 0===t?void 0:t.getPath())||"0/*",s=e.getName();if(e.getNote()===i.standard?this.keyringAccount=i.standard:e.getNote()===i.ledger_legacy&&(this.keyringAccount=i.ledger_legacy),!r)throw new Error("KeystoneError#invalid_data: invalid crypto-hdkey, cannot get source fingerprint");const o=e.getBip32Key();this.xfp=r,this.xpub=o,this.hdPath=n,this.childrenPath=a,void 0!==s&&""!==s&&(this.name=s),this.initialized=!0},this.__readCryptoAccount=e=>{var f,t;const n=null===(f=e.getMasterFingerprint())||void 0===f?void 0:f.toString("hex");if(!n)throw new Error("KeystoneError#invalid_data: invalid crypto-account, cannot get master fingerprint");this.xfp=n,this.initialized=!0;let r=!1;const a=e.getOutputDescriptors();if(!a||0===a.length)throw new Error("KeystoneError#invalid_data: invalid crypto-account, no crypto output found");if(a.length%5!=0)throw new Error("KeystoneError#invalid_data: only support 5x pubkey accounts for now");return null===(t=e.getOutputDescriptors())||void 0===t||t.forEach((e=>{try{const f=e.getHDKey();if(f){const e=f.getKey(),t="M/"+f.getOrigin().getPath(),n="0x"+s.publicToAddress(e,!0).toString("hex");this.name=f.getName(),f.getNote()===i.ledger_live&&(this.keyringAccount=i.ledger_live),void 0===this.paths[s.toChecksumAddress(n)]&&(r=!0),this.paths[s.toChecksumAddress(n)]=t}}catch(e){throw new Error("KeystoneError#invalid_data: "+e)}})),r},this.getName=()=>this.name,this.setAccountToUnlock=e=>{this.unlockedAccount=parseInt(e,10)},this.__getNormalPage=async e=>{this.page+=e,this.page<=0&&(this.page=1);const f=(this.page-1)*this.perPage,t=f+this.perPage,n=[];for(let e=f;e<t;e++){const f=await this.__addressFromIndex("m",e);n.push({address:f,balance:null,index:e}),this.indexes[s.toChecksumAddress(f)]=e}return n},this.__getLedgerLivePage=async e=>{const f=(this.page+e-1)*this.perPage,t=f+this.perPage,n=[];for(let e=f;e<t;e++){const f=await this.__addressFromIndex("m",e);n.push({address:f,balance:null,index:e})}return this.page+=e,n},this.__addressFromIndex=async(e,f)=>{if(this.keyringMode===r.hd){this.checkKeyring(),this.hdk||(this.hdk=a.fromExtendedKey(this.xpub));const t=this.childrenPath.replace("*",String(f)).replace(/\*/g,"0"),n=this.hdk.derive(`${e}/${t}`),r="0x"+s.publicToAddress(n.publicKey,!0).toString("hex");return s.toChecksumAddress(r)}{const e=Object.keys(this.paths)[f];if(e)return s.toChecksumAddress(e);throw new Error("KeystoneError#pubkey_account.no_expected_account")}},this.page=0,this.perPage=5,this.accounts=[],this.currentAccount=0,this.unlockedAccount=0,this.name="QR Hardware",this.keyringMode=r.hd,this.keyringAccount=i.standard,this.initialized=!1,this.xfp="",this.xpub="",this.hdPath="",this.childrenPath="0/*",this.indexes={},this.paths={},this.deserialize(e)}async readKeyring(){const e=await this.getInteraction().readCryptoHDKeyOrCryptoAccount();this.syncKeyring(e)}syncKeyring(e){e.getRegistryType().getType()===d.extend.RegistryTypes.CRYPTO_HDKEY.getType()?(this.keyringMode=r.hd,this.__readCryptoHDKey(e)):(this.keyringMode=r.pubkey,this.__readCryptoAccount(e))}checkKeyring(){if(!this.xfp||!this.xpub||!this.hdPath)throw new Error("KeystoneError#invalid_keyring: keyring not fulfilled, please call function `readKeyring` firstly")}serialize(){return Promise.resolve({initialized:this.initialized,accounts:this.accounts,currentAccount:this.currentAccount,page:this.page,perPage:this.perPage,keyringAccount:this.keyringAccount,keyringMode:this.keyringMode,name:this.name,version:this.version,xfp:this.xfp,xpub:this.xpub,hdPath:this.hdPath,childrenPath:this.childrenPath,indexes:this.indexes,paths:this.paths})}deserialize(e){e&&(this.accounts=e.accounts,this.currentAccount=e.currentAccount,this.page=e.page,this.perPage=e.perPage,this.name=e.name,this.initialized=e.initialized,this.keyringMode=e.keyringMode||r.hd,this.keyringAccount=e.keyringAccount||i.standard,this.xfp=e.xfp,this.xpub=e.xpub,this.hdPath=e.hdPath,this.indexes=e.indexes,this.paths=e.paths,this.childrenPath=e.childrenPath||"0/*")}setCurrentAccount(e){this.currentAccount=e}getCurrentAccount(){return this.currentAccount}getCurrentAddress(){return this.accounts[this.currentAccount]}async addAccounts(e=1){const f=this.unlockedAccount,t=f+e,n=[];for(let e=f;e<t;e++){const f=await this.__addressFromIndex("m",e);n.push(f),this.page=0,this.unlockedAccount++}return this.accounts=this.accounts.concat(n),this.accounts}getFirstPage(){return this.page=0,this.__getPage(1)}getNextPage(){return this.__getPage(1)}getPreviousPage(){return this.__getPage(-1)}async __getPage(e){return this.initialized||await this.readKeyring(),this.keyringMode===r.hd?this.__getNormalPage(e):this.__getLedgerLivePage(e)}getAccounts(){return Promise.resolve(this.accounts)}removeAccount(e){if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((f=>f.toLowerCase()!==e.toLowerCase()))}async signTransaction(e,t){const n=0===t.type?d.DataType.transaction:d.DataType.typedTransaction;let r;r=0===t.type?f.from(o.RLP.encode(t.getMessageToSign())):f.from(t.getMessageToSign());const i=await this._pathFromAddress(e),a=Number(t.common.chainId()),s=u.v4(),b=d.EthSignRequest.constructETHRequest(r,n,i,this.xfp,s,a),{r:l,s:p,v:h}=await this.requestSignature(s,b,"Scan with your Keystone",'After your Keystone has signed the transaction, click on "Scan Keystone" to receive the signature');return c.TransactionFactory.fromTxData({...t.toJSON(),type:t.type,r:l,s:p,v:h},{common:t.common})}signMessage(e,f){return this.signPersonalMessage(e,f)}async signPersonalMessage(e,t){const n=s.stripHexPrefix(t),r=await this._pathFromAddress(e),i=u.v4(),a=d.EthSignRequest.constructETHRequest(f.from(n,"hex"),d.DataType.personalMessage,r,this.xfp,i,void 0,e),{r:o,s:c,v:b}=await this.requestSignature(i,a,"Scan with your Keystone",'After your Keystone has signed this message, click on "Scan Keystone" to receive the signature');return"0x"+f.concat([Uint8Array.from(o),Uint8Array.from(c),Uint8Array.from(b)]).toString("hex")}async signTypedData(e,t){const n=await this._pathFromAddress(e),r=u.v4(),i=d.EthSignRequest.constructETHRequest(f.from(JSON.stringify(t),"utf-8"),d.DataType.typedData,n,this.xfp,r,void 0,e),{r:a,s:s,v:o}=await this.requestSignature(r,i,"Scan with your Keystone",'After your Keystone has signed this data, click on "Scan Keystone" to receive the signature');return"0x"+f.concat([Uint8Array.from(a),Uint8Array.from(s),Uint8Array.from(o)]).toString("hex")}async _pathFromAddress(e){if(this.keyringMode===r.hd){const f=s.toChecksumAddress(e);let t=this.indexes[f];if(void 0===t)for(let e=0;e<1e3;e++)if(f===await this.__addressFromIndex("m",e)){t=e;break}if(void 0===t)throw new Error("Unknown address");return`${this.hdPath}/${this.childrenPath.replace("*",t.toString()).replace(/\*/g,"0")}`}{const f=s.toChecksumAddress(e),t=this.paths[f];if(void 0===t)throw new Error("Unknown address");return t}}}b.type="QR Hardware Wallet Device",t.BaseKeyring=b}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring",file:"node_modules/@keystonehq/base-eth-keyring/dist/base-eth-keyring.cjs.production.min.js"}],[69,{"../../../../shared/modules/mv3.utils":5913,"../../controllers/push-notifications":104,"@metamask/notification-services-controller/push-services":2355,"@metamask/notification-services-controller/push-services/web":2363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationServicesPushControllerInit=void 0;var n=e("@metamask/notification-services-controller/push-services"),r=e("@metamask/notification-services-controller/push-services/web"),i=e("../../../../shared/modules/mv3.utils"),a=e("../../controllers/push-notifications");t.NotificationServicesPushControllerInit=({controllerMessenger:e,persistedState:f})=>({controller:new n.Controller({messenger:e,state:{...n.defaultState,...f.NotificationServicesPushController},env:{apiKey:"AIzaSyAA6MJdRkQ00zNh_moTLwxCSxcg3vznbBM",authDomain:"notifications-faf39.firebaseapp.com",storageBucket:"notifications-faf39.appspot.com",projectId:"notifications-faf39",messagingSenderId:"824598429541",appId:"1:824598429541:web:3016d3c90f1f19a6beab8c",measurementId:"G-1FGDTTCWX5",vapidKey:"BBbjhCfHvwIqRsUrBvpfx0viLJIzWHp-beyw8-I124jeZlhNGDOegS_0_I029fFb2stzRuaNkCdTAf9F3I2m3wc"},config:{isPushFeatureEnabled:i.isManifestV3&&!0,platform:"extension",pushService:{createRegToken:r.createRegToken,deleteRegToken:r.deleteRegToken,subscribeToPushNotifications:(0,r.createSubscribeToPushNotifications)({messenger:e,onReceivedHandler:a.onPushNotificationReceived,onClickHandler:a.onPushNotificationClicked})}}})})}}},{package:"$root$",file:"app/scripts/controller-init/notifications/notification-services-push-controller-init.ts"}],[690,{"./base-eth-keyring.cjs.development.js":688,"./base-eth-keyring.cjs.production.min.js":689},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){f.exports=e("./base-eth-keyring.cjs.production.min.js")}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring",file:"node_modules/@keystonehq/base-eth-keyring/dist/index.js"}],[691,{"./bytes":694,"./constants":695,"./helpers":697,"./internal":699,"@ethereumjs/rlp":503,buffer:4106,"ethereum-cryptography/keccak":4332,"ethereum-cryptography/secp256k1":4353,"ethereum-cryptography/utils":4355},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0}),t.accountBodyToRLP=t.accountBodyToSlim=t.accountBodyFromSlim=t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;const n=e("@ethereumjs/rlp"),r=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),a=e("ethereum-cryptography/utils"),s=e("./bytes"),o=e("./constants"),c=e("./helpers"),d=e("./internal"),u=BigInt(0);class b{constructor(e=u,f=u,t=o.KECCAK256_RLP,n=o.KECCAK256_NULL){this.nonce=e,this.balance=f,this.storageRoot=t,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:f,balance:t,storageRoot:n,codeHash:r}=e;return new b(f!==undefined?(0,s.bufferToBigInt)((0,s.toBuffer)(f)):undefined,t!==undefined?(0,s.bufferToBigInt)((0,s.toBuffer)(t)):undefined,n!==undefined?(0,s.toBuffer)(n):undefined,r!==undefined?(0,s.toBuffer)(r):undefined)}static fromRlpSerializedAccount(e){const f=(0,s.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(f))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(f)}static fromValuesArray(e){const[f,t,n,r]=e;return new b((0,s.bufferToBigInt)(f),(0,s.bufferToBigInt)(t),n,r)}_validate(){if(this.nonce<u)throw new Error("nonce must be greater than zero");if(this.balance<u)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,s.bigIntToUnpaddedBuffer)(this.nonce),(0,s.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return f.from(n.RLP.encode((0,s.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(o.KECCAK256_NULL)}isEmpty(){return this.balance===u&&this.nonce===u&&this.codeHash.equals(o.KECCAK256_NULL)}}t.Account=b;t.isValidAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};t.toChecksumAddress=function(e,t){(0,c.assertIsHexString)(e);const n=(0,d.stripHexPrefix)(e).toLowerCase();let i="";if(t!==undefined){i=(0,s.bufferToBigInt)((0,s.toBuffer)(t)).toString()+"0x"}const o=f.from(i+n,"utf8"),u=(0,a.bytesToHex)((0,r.keccak256)(o));let b="0x";for(let e=0;e<n.length;e++)parseInt(u[e],16)>=8?b+=n[e].toUpperCase():b+=n[e];return b};t.isValidChecksumAddress=function(e,f){return(0,t.isValidAddress)(e)&&(0,t.toChecksumAddress)(e,f)===e};t.generateAddress=function(e,t){return(0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(t),(0,s.bufferToBigInt)(t)===BigInt(0)?f.from((0,r.keccak256)(n.RLP.encode((0,s.bufArrToArr)([e,null])))).slice(-20):f.from((0,r.keccak256)(n.RLP.encode((0,s.bufArrToArr)([e,t])))).slice(-20)};t.generateAddress2=function(e,t,n){if((0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(t),(0,c.assertIsBuffer)(n),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==t.length)throw new Error("Expected salt to be of length 32");const i=(0,r.keccak256)(f.concat([f.from("ff","hex"),e,t,(0,r.keccak256)(n)]));return(0,s.toBuffer)(i).slice(-20)};t.isValidPrivate=function(e){return i.secp256k1.utils.isValidPrivateKey(e)};t.isValidPublic=function(e,t=!1){if((0,c.assertIsBuffer)(e),64===e.length)try{return i.secp256k1.ProjectivePoint.fromHex(f.concat([f.from([4]),e])),!0}catch(e){return!1}if(!t)return!1;try{return i.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};t.pubToAddress=function(e,t=!1){if((0,c.assertIsBuffer)(e),t&&64!==e.length&&(e=f.from(i.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return f.from((0,r.keccak256)(e)).slice(-20)},t.publicToAddress=t.pubToAddress;t.privateToPublic=function(e){return(0,c.assertIsBuffer)(e),f.from(i.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};t.privateToAddress=function(e){return(0,t.publicToAddress)((0,t.privateToPublic)(e))};t.importPublic=function(e){return(0,c.assertIsBuffer)(e),64!==e.length&&(e=f.from(i.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};t.zeroAddress=function(){const e=(0,s.zeros)(20);return(0,s.bufferToHex)(e)};function l(e){const[f,t,n,r]=e;return[f,t,0===(0,s.arrToBufArr)(n).length?o.KECCAK256_RLP:n,0===(0,s.arrToBufArr)(r).length?o.KECCAK256_NULL:r]}t.isZeroAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return(0,t.zeroAddress)()===e},t.accountBodyFromSlim=l;const p=new Uint8Array(0);t.accountBodyToSlim=function(e){const[f,t,n,r]=e;return[f,t,(0,s.arrToBufArr)(n).equals(o.KECCAK256_RLP)?p:n,(0,s.arrToBufArr)(r).equals(o.KECCAK256_NULL)?p:r]},t.accountBodyToRLP=function(e,f=!0){const t=f?l(e):e;return(0,s.arrToBufArr)(n.RLP.encode(t))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/account.js"}],[692,{"./account":691,"./bytes":694,buffer:4106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0}),t.Address=void 0;const n=e("./account"),r=e("./bytes");class i{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new i((0,r.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new i((0,r.toBuffer)(e))}static fromPublicKey(e){if(!f.isBuffer(e))throw new Error("Public key should be Buffer");const t=(0,n.pubToAddress)(e);return new i(t)}static fromPrivateKey(e){if(!f.isBuffer(e))throw new Error("Private key should be Buffer");const t=(0,n.privateToAddress)(e);return new i(t)}static generate(e,f){if("bigint"!=typeof f)throw new Error("Expected nonce to be a bigint");return new i((0,n.generateAddress)(e.buf,(0,r.bigIntToBuffer)(f)))}static generate2(e,t,r){if(!f.isBuffer(t))throw new Error("Expected salt to be a Buffer");if(!f.isBuffer(r))throw new Error("Expected initCode to be a Buffer");return new i((0,n.generateAddress2)(e.buf,t,r))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(i.zero())}isPrecompileOrSystemAddress(){const e=(0,r.bufferToBigInt)(this.buf),f=BigInt(0),t=BigInt("0xffff");return e>=f&&e<=t}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return f.from(this.buf)}}t.Address=i}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/address.js"}],[693,{events:4454},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncEventEmitter=void 0;const n=e("events");class r extends n.EventEmitter{emit(e,...f){let[t,n]=f;const r=this;let i=r._events[e]??[];return n===undefined&&"function"==typeof t&&(n=t,t=undefined),"newListener"!==e&&"removeListener"!==e||(t={event:t,fn:n},n=undefined),i=Array.isArray(i)?i:[i],async function(e,f,t){let n;for await(const r of f)try{r.length<2?r.call(e,t):await new Promise(((f,n)=>{r.call(e,t,(e=>{e?n(e):f()}))}))}catch(e){n=e}if(n)throw n}(r,i.slice(),t).then(n).catch(n),r.listenerCount(e)>0}once(e,f){const t=this;let n;if("function"!=typeof f)throw new TypeError("listener must be a function");return n=f.length>=2?function(r,i){t.removeListener(e,n),f(r,i)}:function(r){t.removeListener(e,n),f(r,n)},t.on(e,n),t}first(e,f){let t=this._events[e]??[];if("function"!=typeof f)throw new TypeError("listener must be a function");return Array.isArray(t)||(this._events[e]=t=[t]),t.unshift(f),this}before(e,f,t){return this.beforeOrAfter(e,f,t)}after(e,f,t){return this.beforeOrAfter(e,f,t,"after")}beforeOrAfter(e,f,t,n){let r,i,a=this._events[e]??[];const s="after"===n?1:0;if("function"!=typeof t)throw new TypeError("listener must be a function");if("function"!=typeof f)throw new TypeError("target must be a function");for(Array.isArray(a)||(this._events[e]=a=[a]),i=a.length,r=a.length;r--;)if(a[r]===f){i=r+s;break}return a.splice(i,0,t),this}on(e,f){return super.on(e,f)}addListener(e,f){return super.addListener(e,f)}prependListener(e,f){return super.prependListener(e,f)}prependOnceListener(e,f){return super.prependOnceListener(e,f)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,f){return super.removeListener(e,f)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}t.AsyncEventEmitter=r}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[694,{"./helpers":697,"./internal":699,buffer:4106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0}),t.intToUnpaddedBuffer=t.bigIntToUnpaddedBuffer=t.bigIntToHex=t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.short=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToInt=t.bigIntToBuffer=t.bufferToBigInt=t.bufferToHex=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;const n=e("./helpers"),r=e("./internal");t.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};t.intToBuffer=function(e){const n=(0,t.intToHex)(e);return f.from((0,r.padToEven)(n.slice(2)),"hex")};t.zeros=function(e){return f.allocUnsafe(e).fill(0)};const i=function(e,f,n){const r=(0,t.zeros)(f);return n?e.length<f?(e.copy(r),r):e.slice(0,f):e.length<f?(e.copy(r,f-e.length),r):e.slice(-f)};t.setLengthLeft=function(e,f){return(0,n.assertIsBuffer)(e),i(e,f,!1)};t.setLengthRight=function(e,f){return(0,n.assertIsBuffer)(e),i(e,f,!0)};const a=function(e){let f=e[0];for(;e.length>0&&"0"===f.toString();)f=(e=e.slice(1))[0];return e};t.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),a(e)};t.unpadArray=function(e){return(0,n.assertIsArray)(e),a(e)};t.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,r.stripHexPrefix)(e),"0x"+a(e)};t.toBuffer=function(e){if(null===e||e===undefined)return f.allocUnsafe(0);if(f.isBuffer(e))return f.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return f.from(e);if("string"==typeof e){if(!(0,r.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return f.from((0,r.padToEven)((0,r.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,t.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t="0"+t),f.from(t,"hex")}if(e.toArray)return f.from(e.toArray());if(e.toBuffer)return f.from(e.toBuffer());throw new Error("invalid type")};function s(e){const f=(0,t.bufferToHex)(e);return"0x"===f?BigInt(0):BigInt(f)}function o(e){return(0,t.toBuffer)("0x"+e.toString(16))}t.bufferToHex=function(e){return"0x"+(e=(0,t.toBuffer)(e)).toString("hex")},t.bufferToBigInt=s,t.bigIntToBuffer=o;t.bufferToInt=function(e){const f=Number(s(e));if(!Number.isSafeInteger(f))throw new Error("Number exceeds 53 bits");return f};t.fromSigned=function(e){return BigInt.asIntN(256,s(e))};t.toUnsigned=function(e){return o(BigInt.asUintN(256,e))};t.addHexPrefix=function(e){return"string"!=typeof e||(0,r.isHexPrefixed)(e)?e:"0x"+e},t.short=function(e,t=50){const n=f.isBuffer(e)?e.toString("hex"):e;return n.length<=t?n:n.slice(0,t)+""};t.toUtf8=function(e){if((e=(0,r.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return f.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};t.baToJSON=function(e){if(f.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const f=[];for(let n=0;n<e.length;n++)f.push((0,t.baToJSON)(e[n]));return f}};t.validateNoLeadingZeroes=function(e){for(const[f,t]of Object.entries(e))if(t!==undefined&&t.length>0&&0===t[0])throw new Error(`${f} cannot have leading zeroes, received: ${t.toString("hex")}`)},t.arrToBufArr=function e(t){return Array.isArray(t)?t.map((f=>e(f))):f.from(t)},t.bufArrToArr=function e(f){return Array.isArray(f)?f.map((f=>e(f))):Uint8Array.from(f??[])};t.bigIntToHex=e=>"0x"+e.toString(16),t.bigIntToUnpaddedBuffer=function(e){return(0,t.unpadBuffer)(o(e))},t.intToUnpaddedBuffer=function(e){return(0,t.unpadBuffer)((0,t.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/bytes.js"}],[695,{buffer:4106,"ethereum-cryptography/secp256k1":4353},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_WITHDRAWALS_PER_PAYLOAD=t.RLP_EMPTY_STRING=t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.SECP256K1_ORDER_DIV_2=t.SECP256K1_ORDER=t.MAX_INTEGER_BIGINT=t.MAX_INTEGER=t.MAX_UINT64=void 0;const n=e("buffer"),r=e("ethereum-cryptography/secp256k1");t.MAX_UINT64=BigInt("0xffffffffffffffff"),t.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),t.SECP256K1_ORDER=r.secp256k1.CURVE.n,t.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),t.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=n.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=n.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=n.Buffer.from(t.KECCAK256_RLP_S,"hex"),t.RLP_EMPTY_STRING=n.Buffer.from([128]),t.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/constants.js"}],[696,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.compactBytesToNibbles=t.bytesToNibbles=t.nibblesToCompactBytes=t.nibblesToBytes=t.hasTerminator=void 0;t.hasTerminator=e=>e.length>0&&16===e[e.length-1];t.nibblesToBytes=(e,f)=>{for(let t=0,n=0;n<e.length;t+=1,n+=2)f[t]=e[n]<<4|e[n+1]};t.nibblesToCompactBytes=e=>{let f=0;(0,t.hasTerminator)(e)&&(f=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=f<<5,1&~e.length||(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,t.nibblesToBytes)(e,n.subarray(1)),n};t.bytesToNibbles=e=>{const f=2*e.length+1,t=new Uint8Array(f);for(let f=0;f<e.length;f++){const n=e[f];t[2*f]=n/16,t[2*f+1]=n%16}return t[f-1]=16,t};t.compactBytesToNibbles=e=>{if(0===e.length)return e;let f=(0,t.bytesToNibbles)(e);f[0]<2&&(f=f.subarray(0,f.length-1));const n=2-(1&f[0]);return f.subarray(n)}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/encoding.js"}],[697,{"../../../../../../is-buffer/index.js":4715,"./internal":699},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0}),t.assertIsString=t.assertIsArray=t.assertIsBuffer=t.assertIsHexString=void 0;const n=e("./internal");t.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};t.assertIsBuffer=function(e){if(!f.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};t.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};t.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../is-buffer/index.js")})}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/helpers.js"}],[698,{"./account":691,"./address":692,"./asyncEventEmitter":693,"./bytes":694,"./constants":695,"./encoding":696,"./internal":699,"./lock":700,"./provider":701,"./signature":702,"./types":703,"./units":704,"./withdrawal":705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){var n=this&&this.__createBinding||(Object.create?function(e,f,t,n){n===undefined&&(n=t);var r=Object.getOwnPropertyDescriptor(f,t);r&&!("get"in r?!f.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return f[t]}}),Object.defineProperty(e,n,r)}:function(e,f,t,n){n===undefined&&(n=t),e[n]=f[t]}),r=this&&this.__exportStar||function(e,f){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(f,t)||n(f,e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.toAscii=t.stripHexPrefix=t.padToEven=t.isHexString=t.isHexPrefixed=t.getKeys=t.getBinarySize=t.fromUtf8=t.fromAscii=t.arrayContainsArray=void 0,r(e("./constants"),t),r(e("./units"),t),r(e("./account"),t),r(e("./address"),t),r(e("./withdrawal"),t),r(e("./signature"),t),r(e("./bytes"),t),r(e("./types"),t),r(e("./encoding"),t),r(e("./asyncEventEmitter"),t);var i=e("./internal");Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return i.arrayContainsArray}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return i.fromAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return i.fromUtf8}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return i.getBinarySize}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return i.getKeys}}),Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return i.isHexPrefixed}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return i.isHexString}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return i.padToEven}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return i.stripHexPrefix}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return i.toAscii}}),r(e("./lock"),t),r(e("./provider"),t)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/index.js"}],[699,{buffer:4106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(e){(function(){function f(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.isHexString=t.getKeys=t.fromAscii=t.fromUtf8=t.toAscii=t.arrayContainsArray=t.getBinarySize=t.padToEven=t.stripHexPrefix=t.isHexPrefixed=void 0,t.isHexPrefixed=f;function n(e){let f=e;if("string"!=typeof f)throw new Error("[padToEven] value must be type 'string', received "+typeof f);return f.length%2&&(f=`0${f}`),f}t.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return f(e)?e.slice(2):e},t.padToEven=n,t.getBinarySize=function(f){if("string"!=typeof f)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof f);return e.byteLength(f,"utf8")},t.arrayContainsArray=function(e,f,t){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(f))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof f}'`);return f[!0===t?"some":"every"]((f=>e.indexOf(f)>=0))},t.toAscii=function(e){let f="",t=0;const n=e.length;for("0x"===e.substring(0,2)&&(t=2);t<n;t+=2){const n=parseInt(e.substr(t,2),16);f+=String.fromCharCode(n)}return f},t.fromUtf8=function(f){return`0x${n(e.from(f,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},t.fromAscii=function(e){let f="";for(let t=0;t<e.length;t++){const n=e.charCodeAt(t).toString(16);f+=n.length<2?`0${n}`:n}return`0x${f}`},t.getKeys=function(e,f,t){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof f)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let r=0;r<e.length;r++){let i=e[r][f];if(!0!==t||i){if("string"!=typeof i)throw new Error("invalid abi - expected type 'string', received "+typeof i)}else i="";n.push(i)}return n},t.isHexString=function(e,f){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==f&&f>0&&e.length!==2+2*f)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/internal.js"}],[70,{"../../lib/encryptor-factory":142,"../../services/oauth/config":435,"@metamask/seedless-onboarding-controller":2544},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SeedlessOnboardingControllerInit=void 0;var n=e("@metamask/seedless-onboarding-controller"),r=e("../../lib/encryptor-factory"),i=e("../../services/oauth/config");t.SeedlessOnboardingControllerInit=e=>{const{controllerMessenger:f,persistedState:t,refreshOAuthToken:a,revokeAndGetNewRefreshToken:s}=e,o=(0,r.encryptorFactory)(6e5),c=(0,i.isDevOrTestBuild)()?n.Web3AuthNetwork.Devnet:n.Web3AuthNetwork.Mainnet;return{controller:new n.SeedlessOnboardingController({messenger:f,state:t.SeedlessOnboardingController,network:c,passwordOutdatedCacheTTL:15e3,refreshJWTToken:a,revokeRefreshToken:s,encryptor:{decrypt:(e,f)=>o.decrypt(e,f),decryptWithDetail:(e,f)=>o.decryptWithDetail(e,f),decryptWithKey(e,f){let t;return t="string"==typeof f?JSON.parse(f):f,o.decryptWithKey(e,t)},encrypt:(e,f)=>o.encrypt(e,f),encryptWithDetail:(e,f)=>o.encryptWithDetail(e,f),importKey:e=>o.importKey(e)}})}}}}},{package:"$root$",file:"app/scripts/controller-init/seedless-onboarding/seedless-onboarding-controller-init.ts"}],[700,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Lock=void 0;t.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise((e=>this.promiseResolverQueue.push(e)))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/lock.js"}],[701,{"micro-ftch":4968},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getProvider=t.fetchFromProvider=void 0;const n=e("micro-ftch");t.fetchFromProvider=async(e,f)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:f.method,params:f.params,jsonrpc:"2.0",id:1}})).result;t.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/provider.js"}],[702,{"./bytes":694,"./constants":695,"./helpers":697,buffer:4106,"ethereum-cryptography/keccak":4332,"ethereum-cryptography/secp256k1":4353},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0}),t.hashPersonalMessage=t.isValidSignature=t.fromRpcSig=t.toCompactSig=t.toRpcSig=t.ecrecover=t.ecsign=void 0;const n=e("ethereum-cryptography/keccak"),r=e("ethereum-cryptography/secp256k1"),i=e("./bytes"),a=e("./constants"),s=e("./helpers");function o(e,f){return e===BigInt(0)||e===BigInt(1)?e:f===undefined?e-BigInt(27):e-(f*BigInt(2)+BigInt(35))}function c(e){return e===BigInt(0)||e===BigInt(1)}t.ecsign=function(e,t,n){const i=r.secp256k1.sign(e,t),a=i.toCompactRawBytes();return{r:f.from(a.slice(0,32)),s:f.from(a.slice(32,64)),v:n===undefined?BigInt(i.recovery+27):BigInt(i.recovery+35)+BigInt(n)*BigInt(2)}};t.ecrecover=function(e,t,n,a,s){const d=f.concat([(0,i.setLengthLeft)(n,32),(0,i.setLengthLeft)(a,32)],64),u=o(t,s);if(!c(u))throw new Error("Invalid signature v value");const b=r.secp256k1.Signature.fromCompact(d).addRecoveryBit(Number(u)).recoverPublicKey(e);return f.from(b.toRawBytes(!1).slice(1))};t.toRpcSig=function(e,t,n,r){if(!c(o(e,r)))throw new Error("Invalid signature v value");return(0,i.bufferToHex)(f.concat([(0,i.setLengthLeft)(t,32),(0,i.setLengthLeft)(n,32),(0,i.toBuffer)(e)]))};t.toCompactSig=function(e,t,n,r){if(!c(o(e,r)))throw new Error("Invalid signature v value");let a=n;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(a=f.from(n),a[0]|=128),(0,i.bufferToHex)(f.concat([(0,i.setLengthLeft)(t,32),(0,i.setLengthLeft)(a,32)]))};t.fromRpcSig=function(e){const f=(0,i.toBuffer)(e);let t,n,r;if(f.length>=65)t=f.slice(0,32),n=f.slice(32,64),r=(0,i.bufferToBigInt)(f.slice(64));else{if(64!==f.length)throw new Error("Invalid signature length");t=f.slice(0,32),n=f.slice(32,64),r=BigInt((0,i.bufferToInt)(f.slice(32,33))>>7),n[0]&=127}return r<27&&(r+=BigInt(27)),{v:r,r:t,s:n}};t.isValidSignature=function(e,f,t,n=!0,r){if(32!==f.length||32!==t.length)return!1;if(!c(o(e,r)))return!1;const s=(0,i.bufferToBigInt)(f),d=(0,i.bufferToBigInt)(t);return!(s===BigInt(0)||s>=a.SECP256K1_ORDER||d===BigInt(0)||d>=a.SECP256K1_ORDER)&&!(n&&d>=a.SECP256K1_ORDER_DIV_2)};t.hashPersonalMessage=function(e){(0,s.assertIsBuffer)(e);const t=f.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return f.from((0,n.keccak256)(f.concat([t,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/signature.js"}],[703,{"./bytes":694,"./internal":699},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=void 0;const n=e("./bytes"),r=e("./internal");var i;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(i=t.TypeOutput||(t.TypeOutput={})),t.toType=function(e,f){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,r.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const t=(0,n.toBuffer)(e);switch(f){case i.Buffer:return t;case i.BigInt:return(0,n.bufferToBigInt)(t);case i.Number:{const e=(0,n.bufferToBigInt)(t);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case i.PrefixedHexString:return(0,n.bufferToHex)(t);default:throw new Error("unknown outputType")}}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/types.js"}],[704,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GWEI_TO_WEI=void 0,t.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/units.js"}],[705,{"./address":692,"./bytes":694,"./types":703,buffer:4106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0}),t.Withdrawal=void 0;const n=e("./address"),r=e("./bytes"),i=e("./types");class a{constructor(e,f,t,n){this.index=e,this.validatorIndex=f,this.address=t,this.amount=n}static fromWithdrawalData(e){const{index:f,validatorIndex:t,address:r,amount:s}=e,o=(0,i.toType)(f,i.TypeOutput.BigInt),c=(0,i.toType)(t,i.TypeOutput.BigInt),d=new n.Address((0,i.toType)(r,i.TypeOutput.Buffer)),u=(0,i.toType)(s,i.TypeOutput.BigInt);return new a(o,c,d,u)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[f,t,n,r]=e;return a.fromWithdrawalData({index:f,validatorIndex:t,address:n,amount:r})}static toBufferArray(e){const{index:t,validatorIndex:r,address:a,amount:s}=e,o=(0,i.toType)(t,i.TypeOutput.BigInt)===BigInt(0)?f.alloc(0):(0,i.toType)(t,i.TypeOutput.Buffer),c=(0,i.toType)(r,i.TypeOutput.BigInt)===BigInt(0)?f.alloc(0):(0,i.toType)(r,i.TypeOutput.Buffer);let d;d=a instanceof n.Address?a.buf:(0,i.toType)(a,i.TypeOutput.Buffer);return[o,c,d,(0,i.toType)(s,i.TypeOutput.BigInt)===BigInt(0)?f.alloc(0):(0,i.toType)(s,i.TypeOutput.Buffer)]}raw(){return a.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,r.bigIntToHex)(this.index),validatorIndex:(0,r.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,r.bigIntToHex)(this.amount)}}}t.Withdrawal=a}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@ethereumjs/util",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[706,{"@ethereumjs/util":698,"@keystonehq/bc-ur-registry":728,buffer:4106,hdkey:4687,uuid:5741},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0});var n,r=e("@keystonehq/bc-ur-registry"),i=e("uuid"),a=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,s=e("@ethereumjs/util");const o={ETH_SIGN_REQUEST:new r.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new r.RegistryType("eth-signature",402),ETH_NFT_ITEM:new r.RegistryType("eth-nft-item",403)},{decodeToDataItem:c,RegistryTypes:d}=r.extend;var u,b;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(u||(u={})),(b=t.DataType||(t.DataType={}))[b.transaction=1]="transaction",b[b.typedData=2]="typedData",b[b.personalMessage=3]="personalMessage",b[b.typedTransaction=4]="typedTransaction";class l extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>o.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[u.requestId]=new r.DataItem(this.requestId,d.UUID.getTag())),this.address&&(e[u.address]=this.address),this.chainId&&(e[u.chainId]=Number(this.chainId)),this.origin&&(e[u.origin]=this.origin),e[u.signData]=this.signData,e[u.dataType]=this.dataType;const f=this.derivationPath.toDataItem();return f.setTag(this.derivationPath.getRegistryType().getTag()),e[u.derivationPath]=f,new r.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,t,n,a,s,o,c,d){const u=n.replace(/[m|M]\//,"").split("/"),b=new r.CryptoKeypath(u.map((e=>{const f=parseInt(e.replace("'",""));let t=!1;return e.endsWith("'")&&(t=!0),new r.PathComponent({index:f,hardened:t})})),f.from(a,"hex"));return new l({requestId:s?f.from(i.parse(s)):undefined,signData:e,dataType:t,derivationPath:b,chainId:o,address:c?f.from(c.replace("0x",""),"hex"):undefined,origin:d||undefined})}}l.fromDataItem=e=>{const f=e.getData(),t=f[u.signData],n=f[u.dataType],i=r.CryptoKeypath.fromDataItem(f[u.derivationPath]),a=f[u.chainId]?f[u.chainId]:undefined,s=f[u.address]?f[u.address]:undefined,o=f[u.requestId]?f[u.requestId].getData():undefined,c=f[u.origin]?f[u.origin]:undefined;return new l({requestId:o,signData:t,dataType:n,chainId:a,derivationPath:i,address:s,origin:c})},l.fromCBOR=e=>{const f=c(e);return l.fromDataItem(f)};const{RegistryTypes:p,decodeToDataItem:h}=r.extend;var y;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(y||(y={}));class g extends r.RegistryItem{constructor(e,f,t){super(),this.getRegistryType=()=>o.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[y.requestId]=new r.DataItem(this.requestId,p.UUID.getTag())),this.origin&&(e[y.origin]=this.origin),e[y.signature]=this.signature,new r.DataItem(e)},this.signature=e,this.requestId=f,this.origin=t}}g.fromDataItem=e=>{const f=e.getData(),t=f[y.signature],n=f[y.requestId]?f[y.requestId].getData():undefined;return new g(t,n,f[y.origin])},g.fromCBOR=e=>{const f=h(e);return g.fromDataItem(f)};const{decodeToDataItem:m}=r.extend;var w;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(w||(w={}));class v extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>o.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[w.chainId]=this.chainId,e[w.name]=this.name,e[w.contractAddress]=this.contractAddress,e[w.contractName]=this.contractName,e[w.mediaData]=this.mediaData,new r.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,f,t,n,r){return new v({chainId:e,contractAddress:f,contractName:t,mediaData:r,name:n})}}v.fromDataItem=e=>{const f=e.getData(),t=f[w.chainId],n=f[w.name],r=f[w.mediaData],i=f[w.contractAddress],a=f[w.contractName];return new v({chainId:t,name:n,contractAddress:i,contractName:a,mediaData:r})},v.fromCBOR=e=>{const f=m(e);return v.fromDataItem(f)};const T=(e,f)=>{const t=a.fromExtendedKey(e).derive(f),n="0x"+s.publicToAddress(t.publicKey,!0).toString("hex");return s.toChecksumAddress(n)};r.patchTags(Object.values(o).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(r).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})),t.ETHNFTItem=v,t.ETHSignature=g,t.EthSignRequest=l,t.findHDPathFromAddress=(e,f,t,n)=>{for(let r=0;r<t;r++){const t=T(f,`M/0/${r}`);if(e.toLowerCase()==t.toLowerCase())return`${n}/0/${r}`}return null},t.generateAddressFromXpub=T}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js"}],[707,{"@ethereumjs/util":698,"@keystonehq/bc-ur-registry":728,buffer:4106,hdkey:4687,uuid:5741},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0});var n,r=e("@keystonehq/bc-ur-registry"),i=e("uuid"),a=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,s=e("@ethereumjs/util");const o={ETH_SIGN_REQUEST:new r.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new r.RegistryType("eth-signature",402),ETH_NFT_ITEM:new r.RegistryType("eth-nft-item",403)},{decodeToDataItem:c,RegistryTypes:d}=r.extend;var u,b;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(u||(u={})),(b=t.DataType||(t.DataType={}))[b.transaction=1]="transaction",b[b.typedData=2]="typedData",b[b.personalMessage=3]="personalMessage",b[b.typedTransaction=4]="typedTransaction";class l extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>o.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[u.requestId]=new r.DataItem(this.requestId,d.UUID.getTag())),this.address&&(e[u.address]=this.address),this.chainId&&(e[u.chainId]=Number(this.chainId)),this.origin&&(e[u.origin]=this.origin),e[u.signData]=this.signData,e[u.dataType]=this.dataType;const f=this.derivationPath.toDataItem();return f.setTag(this.derivationPath.getRegistryType().getTag()),e[u.derivationPath]=f,new r.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,t,n,a,s,o,c,d){const u=n.replace(/[m|M]\//,"").split("/"),b=new r.CryptoKeypath(u.map((e=>{const f=parseInt(e.replace("'",""));let t=!1;return e.endsWith("'")&&(t=!0),new r.PathComponent({index:f,hardened:t})})),f.from(a,"hex"));return new l({requestId:s?f.from(i.parse(s)):void 0,signData:e,dataType:t,derivationPath:b,chainId:o,address:c?f.from(c.replace("0x",""),"hex"):void 0,origin:d||void 0})}}l.fromDataItem=e=>{const f=e.getData(),t=f[u.signData],n=f[u.dataType],i=r.CryptoKeypath.fromDataItem(f[u.derivationPath]),a=f[u.chainId]?f[u.chainId]:void 0,s=f[u.address]?f[u.address]:void 0,o=f[u.requestId]?f[u.requestId].getData():void 0;return new l({requestId:o,signData:t,dataType:n,chainId:a,derivationPath:i,address:s,origin:f[u.origin]?f[u.origin]:void 0})},l.fromCBOR=e=>{const f=c(e);return l.fromDataItem(f)};const{RegistryTypes:p,decodeToDataItem:h}=r.extend;var y;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(y||(y={}));class g extends r.RegistryItem{constructor(e,f,t){super(),this.getRegistryType=()=>o.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[y.requestId]=new r.DataItem(this.requestId,p.UUID.getTag())),this.origin&&(e[y.origin]=this.origin),e[y.signature]=this.signature,new r.DataItem(e)},this.signature=e,this.requestId=f,this.origin=t}}g.fromDataItem=e=>{const f=e.getData(),t=f[y.signature],n=f[y.requestId]?f[y.requestId].getData():void 0;return new g(t,n,f[y.origin])},g.fromCBOR=e=>{const f=h(e);return g.fromDataItem(f)};const{decodeToDataItem:m}=r.extend;var w;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(w||(w={}));class v extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>o.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[w.chainId]=this.chainId,e[w.name]=this.name,e[w.contractAddress]=this.contractAddress,e[w.contractName]=this.contractName,e[w.mediaData]=this.mediaData,new r.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,f,t,n,r){return new v({chainId:e,contractAddress:f,contractName:t,mediaData:r,name:n})}}v.fromDataItem=e=>{const f=e.getData();return new v({chainId:f[w.chainId],name:f[w.name],contractAddress:f[w.contractAddress],contractName:f[w.contractName],mediaData:f[w.mediaData]})},v.fromCBOR=e=>{const f=m(e);return v.fromDataItem(f)};const T=(e,f)=>{const t=a.fromExtendedKey(e).derive(f),n="0x"+s.publicToAddress(t.publicKey,!0).toString("hex");return s.toChecksumAddress(n)};r.patchTags(Object.values(o).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(r).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})),t.ETHNFTItem=v,t.ETHSignature=g,t.EthSignRequest=l,t.findHDPathFromAddress=(e,f,t,n)=>{for(let r=0;r<t;r++){const t=T(f,"M/0/"+r);if(e.toLowerCase()==t.toLowerCase())return`${n}/0/${r}`}return null},t.generateAddressFromXpub=T}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.production.min.js"}],[708,{"./bc-ur-registry-eth.cjs.development.js":706,"./bc-ur-registry-eth.cjs.production.min.js":707},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){f.exports=e("./bc-ur-registry-eth.cjs.production.min.js")}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js"}],[709,{"./RegistryItem":720,"./RegistryType":721,"./lib":731},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Bytes=void 0;const n=e("./lib"),r=e("./RegistryItem"),i=e("./RegistryType");class a extends r.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>i.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new n.DataItem(this.bytes)}}t.Bytes=a,a.fromDataItem=e=>{const f=e.getData();if(!f)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new a(f)},a.fromCBOR=e=>{const f=(0,n.decodeToDataItem)(e);return a.fromDataItem(f)}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js"}],[71,{"../../../../shared/constants/smartTransactions":5822,"../../../../shared/modules/selectors":5920,"@metamask/smart-transactions-controller":2602,"@metamask/smart-transactions-controller/dist/types":2603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SmartTransactionsControllerInit=void 0;var n,r=(n=e("@metamask/smart-transactions-controller"))&&n.__esModule?n:{default:n},i=e("@metamask/smart-transactions-controller/dist/types"),a=e("../../../../shared/constants/smartTransactions"),s=e("../../../../shared/modules/selectors");t.SmartTransactionsControllerInit=e=>{const{controllerMessenger:f,getController:t,persistedState:n,getStateUI:o,getGlobalNetworkClientId:c,getAccountType:d,getDeviceModel:u,getHardwareTypeForMetric:b,trace:l,trackEvent:p}=e,h=t("TransactionController");return{controller:new r.default({supportedChainIds:(0,a.getAllowedSmartTransactionsChainIds)(),clientId:i.ClientId.Extension,getNonceLock:(e,f)=>h.getNonceLock(e,f||c()),confirmExternalTransaction:(...e)=>h.confirmExternalTransaction(...e),trackMetaMetricsEvent:p,state:n.SmartTransactionsController,messenger:f,getTransactions:(...e)=>h.getTransactions(...e),updateTransaction:(...e)=>h.updateTransaction(...e),getFeatureFlags:()=>{const e=o();return(0,s.getFeatureFlagsByChainId)(e)},getMetaMetricsProps:async()=>{var e;const{metamask:f}=o(),{internalAccounts:t}=f,n=null==t?void 0:t.selectedAccount,r=n?null==t||null===(e=t.accounts)||void 0===e?void 0:e[n]:null,i=(null==r?void 0:r.address)??"";if(!i)return{accountHardwareType:undefined,accountType:undefined,deviceModel:undefined};return{accountHardwareType:await b(i),accountType:await d(i),deviceModel:await u(i)}},trace:l})}}}}},{package:"$root$",file:"app/scripts/controller-init/smart-transactions/smart-transactions-controller-init.ts"}],[710,{".":728,"./RegistryItem":720,"./RegistryType":721,"./lib":731,buffer:4106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoAccount=void 0;const n=e("."),r=e("./lib"),i=e("./RegistryItem"),a=e("./RegistryType");var s;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"}(s||(s={}));class o extends i.RegistryItem{constructor(e,f){super(),this.masterFingerprint=e,this.outputDescriptors=f,this.getRegistryType=()=>a.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[s.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(e[s.outputDescriptors]=this.outputDescriptors.map((e=>e.toDataItem()))),new r.DataItem(e)}}}t.CryptoAccount=o,o.fromDataItem=e=>{const t=e.getData(),r=f.alloc(4),i=t[s.masterFingerprint];i&&r.writeUInt32BE(i,0);const a=t[s.outputDescriptors].map((e=>n.CryptoOutput.fromDataItem(e)));return new o(r,a)},o.fromCBOR=e=>{const f=(0,r.decodeToDataItem)(e);return o.fromDataItem(f)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js"}],[711,{"./RegistryItem":720,"./RegistryType":721,"./lib":731},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoCoinInfo=t.Network=t.Type=void 0;const n=e("./lib"),r=e("./RegistryItem"),i=e("./RegistryType");var a,s,o;!function(e){e.type="1",e.network="2"}(a||(a={})),function(e){e[e.bitcoin=0]="bitcoin"}(s=t.Type||(t.Type={})),function(e){e[e.mainnet=0]="mainnet",e[e.testnet=1]="testnet"}(o=t.Network||(t.Network={}));class c extends r.RegistryItem{constructor(e,f){super(),this.type=e,this.network=f,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||s.bitcoin,this.getNetwork=()=>this.network||o.mainnet,this.toDataItem=()=>{const e={};return this.type&&(e[a.type]=this.type),this.network&&(e[a.network]=this.network),new n.DataItem(e)}}}t.CryptoCoinInfo=c,c.fromDataItem=e=>{const f=e.getData(),t=f[a.type],n=f[a.network];return new c(t,n)},c.fromCBOR=e=>{const f=(0,n.decodeToDataItem)(e);return c.fromDataItem(f)}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js"}],[712,{"./RegistryItem":720,"./RegistryType":721,"./lib":731},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoECKey=void 0;const n=e("./lib"),r=e("./RegistryItem"),i=e("./RegistryType");var a;!function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"}(a||(a={}));class s extends r.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const e={};return this.curve&&(e[a.curve]=this.curve),this.privateKey!==undefined&&(e[a.private]=this.privateKey),e[a.data]=this.data,new n.DataItem(e)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||undefined}}t.CryptoECKey=s,s.fromDataItem=e=>{const f=e.getData(),t=f[a.curve],n=f[a.private],r=f[a.data];if(!r)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new s({data:r,curve:t,privateKey:n})},s.fromCBOR=e=>{const f=(0,n.decodeToDataItem)(e);return s.fromDataItem(f)}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js"}],[713,{"./CryptoCoinInfo":711,"./CryptoKeypath":714,"./RegistryItem":720,"./RegistryType":721,"./lib":731,bs58check:4110,buffer:4106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoHDKey=void 0;const n=e("bs58check"),r=e("./CryptoCoinInfo"),i=e("./CryptoKeypath"),a=e("./lib"),s=e("./RegistryItem"),o=e("./RegistryType");var c;!function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"}(c||(c={}));class d extends s.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var e,t,r;let i,a,s=0,o=f.alloc(4).fill(0);if(this.isMaster())i=f.from("0488ADE4","hex"),a=0,s=0;else{a=(null===(e=this.getOrigin())||void 0===e?void 0:e.getComponents().length)||(null===(t=this.getOrigin())||void 0===t?void 0:t.getDepth());const n=null===(r=this.getOrigin())||void 0===r?void 0:r.getComponents(),c=n[n.length-1];c&&(s=c.isHardened()?c.getIndex()+2147483648:c.getIndex(),this.getParentFingerprint()&&(o=this.getParentFingerprint())),i=this.isPrivateKey()?f.from("0488ADE4","hex"):f.from("0488B21E","hex")}const c=f.alloc(1);c.writeUInt8(a,0);const d=f.alloc(4);d.writeUInt32BE(s,0);const u=this.getChainCode(),b=this.getKey();return(0,n.encode)(f.concat([i,c,o,d,u,b]))},this.getRegistryType=()=>o.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var e,f,t,n,r,i,a;let s="";return this.getOrigin()&&(null===(e=this.getOrigin())||void 0===e?void 0:e.getSourceFingerprint())&&(null===(f=this.getOrigin())||void 0===f?void 0:f.getPath())&&(s+=`${null===(n=null===(t=this.getOrigin())||void 0===t?void 0:t.getSourceFingerprint())||void 0===n?void 0:n.toString("hex")}/${null===(r=this.getOrigin())||void 0===r?void 0:r.getPath()}`),s+=this.getBip32Key(),this.getChildren()&&(null===(i=this.getChildren())||void 0===i?void 0:i.getPath())&&(s+=`/${null===(a=this.getChildren())||void 0===a?void 0:a.getPath()}`),s},this.setupMasterKey=e=>{this.master=!0,this.key=e.key,this.chainCode=e.chainCode},this.setupDeriveKey=e=>{this.master=!1,this.privateKey=e.isPrivateKey,this.key=e.key,this.chainCode=e.chainCode,this.useInfo=e.useInfo,this.origin=e.origin,this.children=e.children,this.parentFingerprint=e.parentFingerprint,this.name=e.name,this.note=e.note},this.toDataItem=()=>{const e={};if(this.master)e[c.is_master]=!0,e[c.key_data]=this.key,e[c.chain_code]=this.chainCode;else{if(this.privateKey!==undefined&&(e[c.is_private]=this.privateKey),e[c.key_data]=this.key,this.chainCode&&(e[c.chain_code]=this.chainCode),this.useInfo){const f=this.useInfo.toDataItem();f.setTag(this.useInfo.getRegistryType().getTag()),e[c.use_info]=f}if(this.origin){const f=this.origin.toDataItem();f.setTag(this.origin.getRegistryType().getTag()),e[c.origin]=f}if(this.children){const f=this.children.toDataItem();f.setTag(this.children.getRegistryType().getTag()),e[c.children]=f}this.parentFingerprint&&(e[c.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==undefined&&(e[c.name]=this.name),this.note!==undefined&&(e[c.note]=this.note)}return new a.DataItem(e)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}}t.CryptoHDKey=d,d.fromDataItem=e=>{const t=e.getData(),n=!!t[c.is_master],a=t[c.is_private],s=t[c.key_data],o=t[c.chain_code],u=t[c.use_info]?r.CryptoCoinInfo.fromDataItem(t[c.use_info]):undefined,b=t[c.origin]?i.CryptoKeypath.fromDataItem(t[c.origin]):undefined,l=t[c.children]?i.CryptoKeypath.fromDataItem(t[c.children]):undefined,p=t[c.parent_fingerprint];let h=undefined;p&&(h=f.alloc(4),h.writeUInt32BE(p,0));const y=t[c.name],g=t[c.note];return new d({isMaster:n,isPrivateKey:a,key:s,chainCode:o,useInfo:u,origin:b,children:l,parentFingerprint:h,name:y,note:g})},d.fromCBOR=e=>{const f=(0,a.decodeToDataItem)(e);return d.fromDataItem(f)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js"}],[714,{"./PathComponent":719,"./RegistryItem":720,"./RegistryType":721,"./lib":731,buffer:4106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){(function(f){(function(){Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoKeypath=void 0;const n=e("./lib"),r=e("./PathComponent"),i=e("./RegistryItem"),a=e("./RegistryType");var s;!function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"}(s||(s={}));class o extends i.RegistryItem{constructor(e=[],f,t){super(),this.components=e,this.sourceFingerprint=f,this.depth=t,this.getRegistryType=()=>a.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return undefined;return this.components.map((e=>`${e.isWildcard()?"*":e.getIndex()}${e.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const e={},f=[];return this.components&&this.components.forEach((e=>{e.isWildcard()?f.push([]):f.push(e.getIndex()),f.push(e.isHardened())})),e[s.components]=f,this.sourceFingerprint&&(e[s.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==undefined&&(e[s.depth]=this.depth),new n.DataItem(e)}}}t.CryptoKeypath=o,o.fromDataItem=e=>{const t=e.getData(),n=[],i=t[s.components];if(i)for(let e=0;e<i.length;e+=2){const f=i[e+1],t=i[e];"number"==typeof t?n.push(new r.PathComponent({index:t,hardened:f})):n.push(new r.PathComponent({hardened:f}))}const a=t[s.source_fingerprint];let c;a&&(c=f.alloc(4),c.writeUInt32BE(a,0));const d=t[s.depth];return new o(n,c,d)},o.fromCBOR=e=>{const f=(0,n.decodeToDataItem)(e);return o.fromDataItem(f)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js"}],[715,{"./CryptoECKey":712,"./CryptoHDKey":713,"./MultiKey":718,"./RegistryItem":720,"./RegistryType":721,"./ScriptExpression":722,"./lib":731},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoOutput=void 0;const n=e("./CryptoECKey"),r=e("./CryptoHDKey"),i=e("./lib"),a=e("./MultiKey"),s=e("./RegistryItem"),o=e("./RegistryType"),c=e("./ScriptExpression");class d extends s.RegistryItem{constructor(e,f){super(),this.scriptExpressions=e,this.cryptoKey=f,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof r.CryptoHDKey?this.cryptoKey:undefined,this.getECKey=()=>this.cryptoKey instanceof n.CryptoECKey?this.cryptoKey:undefined,this.getMultiKey=()=>this.cryptoKey instanceof a.MultiKey?this.cryptoKey:undefined,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=e=>e>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[e].getExpression()}(${this._toOutputDescriptor(e+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let e=this.cryptoKey.toDataItem();(this.cryptoKey instanceof n.CryptoECKey||this.cryptoKey instanceof r.CryptoHDKey)&&e.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((f=>{const t=f.getTag();e.getTag()===undefined?e.setTag(t):e=new i.DataItem(e,t)})),e}}}t.CryptoOutput=d,d.fromDataItem=e=>{const f=[];let t=e;for(;;){let e=t.getTag();const n=c.ScriptExpression.fromTag(e);if(!n)break;if(f.push(n),!(t.getData()instanceof i.DataItem))break;t=t.getData(),e=t.getTag()}const s=f.length;if(s>0&&(f[s-1].getExpression()===c.ScriptExpressions.MULTISIG.getExpression()||f[s-1].getExpression()===c.ScriptExpressions.SORTED_MULTISIG.getExpression())){const e=a.MultiKey.fromDataItem(t);return new d(f,e)}if(t.getTag()===o.RegistryTypes.CRYPTO_HDKEY.getTag()){const e=r.CryptoHDKey.fromDataItem(t);return new d(f,e)}{const e=n.CryptoECKey.fromDataItem(t);return new d(f,e)}},d.fromCBOR=e=>{const f=(0,i.decodeToDataItem)(e);return d.fromDataItem(f)}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js"}],[716,{"./RegistryItem":720,"./RegistryType":721,"./lib":731},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoPSBT=void 0;const n=e("./lib"),r=e("./RegistryItem"),i=e("./RegistryType");class a extends r.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new n.DataItem(this.psbt)}}t.CryptoPSBT=a,a.fromDataItem=e=>{const f=e.getData();if(!f)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new a(f)},a.fromCBOR=e=>{const f=(0,n.decodeToDataItem)(e);return a.fromDataItem(f)}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js"}],[717,{"..":728,"../RegistryType":721,"../errors":723,"@ngraveio/bc-ur":2994},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.URRegistryDecoder=void 0;const n=e("@ngraveio/bc-ur"),r=e(".."),i=e("../RegistryType"),a=e("../errors");class s extends n.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case i.RegistryTypes.BYTES.getType():return r.Bytes.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_HDKEY.getType():return r.CryptoHDKey.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_KEYPATH.getType():return r.CryptoKeypath.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_COIN_INFO.getType():return r.CryptoCoinInfo.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_ECKEY.getType():return r.CryptoECKey.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_OUTPUT.getType():return r.CryptoOutput.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_PSBT.getType():return r.CryptoPSBT.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_ACCOUNT.getType():return r.CryptoAccount.fromCBOR(e.cbor);default:throw new a.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}t.URRegistryDecoder=s}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js"}],[718,{"./CryptoECKey":712,"./CryptoHDKey":713,"./RegistryItem":720,"./RegistryType":721,"./lib/DataItem":729},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultiKey=void 0;const n=e("./CryptoECKey"),r=e("./CryptoHDKey"),i=e("./lib/DataItem"),a=e("./RegistryItem"),s=e("./RegistryType");var o;!function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"}(o||(o={}));class c extends a.RegistryItem{constructor(e,f){super(),this.threshold=e,this.keys=f,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const e={};e[o.threshold]=this.threshold;const f=this.keys.map((e=>{const f=e.toDataItem();return f.setTag(e.getRegistryType().getTag()),f}));return e[o.keys]=f,new i.DataItem(e)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((e=>e.getOutputDescriptorContent())).join(",")].join(",")}}t.MultiKey=c,c.fromDataItem=e=>{const f=e.getData(),t=f[o.threshold],i=f[o.keys],a=[];return i.forEach((e=>{e.getTag()===s.RegistryTypes.CRYPTO_HDKEY.getTag()?a.push(r.CryptoHDKey.fromDataItem(e)):e.getTag()===s.RegistryTypes.CRYPTO_ECKEY.getTag()&&a.push(n.CryptoECKey.fromDataItem(e))})),new c(t,a)}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js"}],[719,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PathComponent=void 0;class n{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==undefined?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&n.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}t.PathComponent=n,n.HARDENED_BIT=2147483648}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js"}],[72,{"@metamask/snaps-controllers":2619},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CronjobControllerInit=void 0;var n=e("@metamask/snaps-controllers");t.CronjobControllerInit=({controllerMessenger:e,persistedState:f,getCronjobControllerStorageManager:t})=>({controller:new n.CronjobController({state:f.CronjobController,messenger:e,stateManager:t()}),persistedStateKey:null})}}},{package:"$root$",file:"app/scripts/controller-init/snaps/cronjob-controller-init.ts"}],[720,{"./lib":731,"@ngraveio/bc-ur":2994},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RegistryItem=void 0;const n=e("@ngraveio/bc-ur"),r=e("./lib");t.RegistryItem=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===undefined)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,r.encodeDataItem)(this.toDataItem())},this.toUR=()=>new n.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,f,t)=>{const r=this.toUR();return new n.UREncoder(r,e,f,t)}}}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js"}],[721,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RegistryTypes=t.RegistryType=void 0;class n{constructor(e,f){this.type=e,this.tag=f,this.getTag=()=>this.tag,this.getType=()=>this.type}}t.RegistryType=n,t.RegistryTypes={UUID:new n("uuid",37),BYTES:new n("bytes",undefined),CRYPTO_HDKEY:new n("crypto-hdkey",303),CRYPTO_KEYPATH:new n("crypto-keypath",304),CRYPTO_COIN_INFO:new n("crypto-coin-info",305),CRYPTO_ECKEY:new n("crypto-eckey",306),CRYPTO_OUTPUT:new n("crypto-output",308),CRYPTO_PSBT:new n("crypto-psbt",310),CRYPTO_ACCOUNT:new n("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new n("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new n("qr-hardware-call",1201),KEY_DERIVATION_CALL:new n("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new n("key-derivation-schema",1302)}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js"}],[722,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptExpressions=t.ScriptExpression=void 0;class n{constructor(e,f){this.tag=e,this.expression=f,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}t.ScriptExpression=n,n.fromTag=e=>Object.values(t.ScriptExpressions).find((f=>f.getTag()===e)),t.ScriptExpressions={SCRIPT_HASH:new n(400,"sh"),WITNESS_SCRIPT_HASH:new n(401,"wsh"),PUBLIC_KEY:new n(402,"pk"),PUBLIC_KEY_HASH:new n(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new n(404,"wpkh"),COMBO:new n(405,"combo"),MULTISIG:new n(406,"multi"),SORTED_MULTISIG:new n(407,"sortedmulti"),ADDRESS:new n(307,"addr"),RAW_SCRIPT:new n(408,"raw")}}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js"}],[723,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,f,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownURTypeError=void 0;class n extends Error{constructor(e){super(e)}}t.UnknownURTypeError=n}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/@keystonehq/bc-ur-registry/dist/errors/index.js"}]],[],{});